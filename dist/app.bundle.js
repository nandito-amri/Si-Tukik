/*! For license information please see app.bundle.js.LICENSE.txt */
(()=>{var t={756:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(537),i=n.n(r),o=n(645),a=n.n(o)()(i());a.push([t.id,"a:link {\r\n    text-decoration: none;\r\n}\r\n  \r\na:visited {\r\n    text-decoration:none;\r\n}\r\n  \r\n.content {\r\n    padding-top: 1rem;\r\n}\r\n  \r\n@media only screen and (min-width: 600px) {\r\n  .tukik{\r\n    max-width: 25rem\r\n  }\r\n\r\n  /* #penangkaranPenyuSisik, #penangkaranPenyuLekang{\r\n    margin: 1.5rem 10rem\r\n  } */\r\n}\r\n/*   \r\n  @media only screen and (min-width: 1200px) {\r\n    #penangkaranPenyuSisik, #penangkaranPenyuLekang{\r\n      margin: 1.5rem 28rem\r\n    }\r\n  } */\r\n  \r\n.card{\r\n  margin: auto\r\n}\r\n  \r\nbody {\r\n  padding-top: 30px;\r\n}\r\n  \r\n.filled-button{\r\n  background-color: #61764B !important; \r\n  color: white !important;\r\n}\r\n  \r\n.filled-button:hover{\r\n  background-color: #fff !important;\r\n  color: #61764B !important;\r\n  border-color: #61764B !important;\r\n}\r\n  \r\n.ghost-button{\r\n  background-color: #fff !important; \r\n  color: #61764B !important; \r\n  border-color: #61764B !important;\r\n}\r\n  \r\n.ghost-button:hover{\r\n  background-color: #61764B !important;\r\n  color: #fff !important;\r\n  border-color: #61764B !important;\r\n}\r\n  \r\n#dokumentasiKonservasi{\r\n  padding-bottom: 100px;\r\n}\r\n\r\n.statistic-card {\r\n  background-color: #61764B !important;\r\n  color: #fff !important;\r\n}\r\n\r\n#home, #about, #statistik, #dokumentasi {\r\n  padding-top: 5rem;\r\n}\r\n\r\n#welcomePage {\r\n  margin: 5rem 0;\r\n}\r\n\r\n#forgot {\r\n  font-size: 14px;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.linkButton {\r\n  color: white;\r\n  text-decoration: none;\r\n}\r\n  \r\n.linkButton:hover {\r\n  color: #61764B;\r\n}\r\n\r\n.linkButtonGhost {\r\n  color: #61764B;\r\n  text-decoration: none;\r\n}\r\n\r\n.linkButtonGhost:hover {\r\n  color: white;\r\n}\r\n\r\n.pagination {\r\n  border: hidden;\r\n  margin-top: 1.5rem\r\n}\r\n  \r\n.pagination>li{\r\n  border: none;\r\n}\r\n  \r\n.pagination>li>a{\r\n  border: none;\r\n  border-bottom-style: solid;\r\n  color: #61764B \r\n}\r\n  \r\n.pagination li .active {\r\n  background-color: #61764B ;\r\n  border-color: #61764B \r\n}\r\n  \r\n.pagination > li > a:focus,\r\n.pagination > li > a:hover,\r\n.pagination > li > span:focus,\r\n.pagination > li > span:hover\r\n{\r\n  color: #61764B;\r\n  background-color: #eee;\r\n  /*     border-color: #ddd; */\r\n}\r\n  \r\n.judul {\r\n  margin-top: 5rem\r\n}\r\n\r\n#tambahSarangModal p, #editSarangModal p, #detailDataModal p {\r\n  font-weight: 600\r\n}\r\n  \r\n#detailDataModal p span {\r\n  font-weight: 400\r\n}\r\n  \r\n.action-btn {\r\n  color: white\r\n}\r\n\r\n.detailPenyuMenetas {\r\n  width: 16rem;\r\n  margin: auto\r\n}\r\n\r\nmain {\r\n  padding-bottom: 3rem;\r\n}\r\n\r\nli {\r\n  list-style-type: none;\r\n}\r\n\r\n#profil-konservator {\r\n  background-color: #61764B;\r\n  color: #eee;\r\n}\r\n\r\n#statistik {\r\n  margin-bottom: 3rem;\r\n}\r\n\r\n#statistikJenis {\r\n  margin-top: 5rem;\r\n  margin-bottom: 2rem;\r\n}","",{version:3,sources:["webpack://./src/styles/main.css"],names:[],mappings:"AAAA;IACI,qBAAqB;AACzB;;AAEA;IACI,oBAAoB;AACxB;;AAEA;IACI,iBAAiB;AACrB;;AAEA;EACE;IACE;EACF;;EAEA;;KAEG;AACL;AACA;;;;;KAKK;;AAEL;EACE;AACF;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,oCAAoC;EACpC,uBAAuB;AACzB;;AAEA;EACE,iCAAiC;EACjC,yBAAyB;EACzB,gCAAgC;AAClC;;AAEA;EACE,iCAAiC;EACjC,yBAAyB;EACzB,gCAAgC;AAClC;;AAEA;EACE,oCAAoC;EACpC,sBAAsB;EACtB,gCAAgC;AAClC;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,oCAAoC;EACpC,sBAAsB;AACxB;;AAEA;EACE,iBAAiB;AACnB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,eAAe;EACf,SAAS;EACT,UAAU;AACZ;;AAEA;EACE,YAAY;EACZ,qBAAqB;AACvB;;AAEA;EACE,cAAc;AAChB;;AAEA;EACE,cAAc;EACd,qBAAqB;AACvB;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,cAAc;EACd;AACF;;AAEA;EACE,YAAY;AACd;;AAEA;EACE,YAAY;EACZ,0BAA0B;EAC1B;AACF;;AAEA;EACE,0BAA0B;EAC1B;AACF;;AAEA;;;;;EAKE,cAAc;EACd,sBAAsB;EACtB,4BAA4B;AAC9B;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE;AACF;;AAEA;EACE,YAAY;EACZ;AACF;;AAEA;EACE,oBAAoB;AACtB;;AAEA;EACE,qBAAqB;AACvB;;AAEA;EACE,yBAAyB;EACzB,WAAW;AACb;;AAEA;EACE,mBAAmB;AACrB;;AAEA;EACE,gBAAgB;EAChB,mBAAmB;AACrB",sourcesContent:["a:link {\r\n    text-decoration: none;\r\n}\r\n  \r\na:visited {\r\n    text-decoration:none;\r\n}\r\n  \r\n.content {\r\n    padding-top: 1rem;\r\n}\r\n  \r\n@media only screen and (min-width: 600px) {\r\n  .tukik{\r\n    max-width: 25rem\r\n  }\r\n\r\n  /* #penangkaranPenyuSisik, #penangkaranPenyuLekang{\r\n    margin: 1.5rem 10rem\r\n  } */\r\n}\r\n/*   \r\n  @media only screen and (min-width: 1200px) {\r\n    #penangkaranPenyuSisik, #penangkaranPenyuLekang{\r\n      margin: 1.5rem 28rem\r\n    }\r\n  } */\r\n  \r\n.card{\r\n  margin: auto\r\n}\r\n  \r\nbody {\r\n  padding-top: 30px;\r\n}\r\n  \r\n.filled-button{\r\n  background-color: #61764B !important; \r\n  color: white !important;\r\n}\r\n  \r\n.filled-button:hover{\r\n  background-color: #fff !important;\r\n  color: #61764B !important;\r\n  border-color: #61764B !important;\r\n}\r\n  \r\n.ghost-button{\r\n  background-color: #fff !important; \r\n  color: #61764B !important; \r\n  border-color: #61764B !important;\r\n}\r\n  \r\n.ghost-button:hover{\r\n  background-color: #61764B !important;\r\n  color: #fff !important;\r\n  border-color: #61764B !important;\r\n}\r\n  \r\n#dokumentasiKonservasi{\r\n  padding-bottom: 100px;\r\n}\r\n\r\n.statistic-card {\r\n  background-color: #61764B !important;\r\n  color: #fff !important;\r\n}\r\n\r\n#home, #about, #statistik, #dokumentasi {\r\n  padding-top: 5rem;\r\n}\r\n\r\n#welcomePage {\r\n  margin: 5rem 0;\r\n}\r\n\r\n#forgot {\r\n  font-size: 14px;\r\n  margin: 0;\r\n  padding: 0;\r\n}\r\n\r\n.linkButton {\r\n  color: white;\r\n  text-decoration: none;\r\n}\r\n  \r\n.linkButton:hover {\r\n  color: #61764B;\r\n}\r\n\r\n.linkButtonGhost {\r\n  color: #61764B;\r\n  text-decoration: none;\r\n}\r\n\r\n.linkButtonGhost:hover {\r\n  color: white;\r\n}\r\n\r\n.pagination {\r\n  border: hidden;\r\n  margin-top: 1.5rem\r\n}\r\n  \r\n.pagination>li{\r\n  border: none;\r\n}\r\n  \r\n.pagination>li>a{\r\n  border: none;\r\n  border-bottom-style: solid;\r\n  color: #61764B \r\n}\r\n  \r\n.pagination li .active {\r\n  background-color: #61764B ;\r\n  border-color: #61764B \r\n}\r\n  \r\n.pagination > li > a:focus,\r\n.pagination > li > a:hover,\r\n.pagination > li > span:focus,\r\n.pagination > li > span:hover\r\n{\r\n  color: #61764B;\r\n  background-color: #eee;\r\n  /*     border-color: #ddd; */\r\n}\r\n  \r\n.judul {\r\n  margin-top: 5rem\r\n}\r\n\r\n#tambahSarangModal p, #editSarangModal p, #detailDataModal p {\r\n  font-weight: 600\r\n}\r\n  \r\n#detailDataModal p span {\r\n  font-weight: 400\r\n}\r\n  \r\n.action-btn {\r\n  color: white\r\n}\r\n\r\n.detailPenyuMenetas {\r\n  width: 16rem;\r\n  margin: auto\r\n}\r\n\r\nmain {\r\n  padding-bottom: 3rem;\r\n}\r\n\r\nli {\r\n  list-style-type: none;\r\n}\r\n\r\n#profil-konservator {\r\n  background-color: #61764B;\r\n  color: #eee;\r\n}\r\n\r\n#statistik {\r\n  margin-bottom: 3rem;\r\n}\r\n\r\n#statistikJenis {\r\n  margin-top: 5rem;\r\n  margin-bottom: 2rem;\r\n}"],sourceRoot:""}]);const s=a},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",r=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),r&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),r&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,r,i,o){"string"==typeof t&&(t=[[null,t,void 0]]);var a={};if(r)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(a[c]=!0)}for(var u=0;u<t.length;u++){var l=[].concat(t[u]);r&&a[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),i&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=i):l[4]="".concat(i)),e.push(l))}},e}},537:t=>{"use strict";t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */"),a=n.sources.map((function(t){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(t," */")}));return[e].concat(a).concat([o]).join("\n")}return[e].join("\n")}},666:t=>{var e=function(t){"use strict";var e,n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(t,e,n){t[e]=n.value},o="function"==typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{u({},"")}catch(t){u=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof g?e:g,a=Object.create(o.prototype),s=new L(r||[]);return i(a,"_invoke",{value:I(t,n,s)}),a}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var d="suspendedStart",f="executing",p="completed",m={};function g(){}function v(){}function y(){}var b={};u(b,a,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(C([])));E&&E!==n&&r.call(E,a)&&(b=E);var k=y.prototype=g.prototype=Object.create(b);function T(t){["next","throw","return"].forEach((function(e){u(t,e,(function(t){return this._invoke(e,t)}))}))}function _(t,e){function n(i,o,a,s){var c=h(t[i],t,o);if("throw"!==c.type){var u=c.arg,l=u.value;return l&&"object"==typeof l&&r.call(l,"__await")?e.resolve(l.__await).then((function(t){n("next",t,a,s)}),(function(t){n("throw",t,a,s)})):e.resolve(l).then((function(t){u.value=t,a(u)}),(function(t){return n("throw",t,a,s)}))}s(c.arg)}var o;i(this,"_invoke",{value:function(t,r){function i(){return new e((function(e,i){n(t,r,e,i)}))}return o=o?o.then(i,i):i()}})}function I(t,e,n){var r=d;return function(i,o){if(r===f)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=x(a,n);if(s){if(s===m)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===d)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var c=h(t,e,n);if("normal"===c.type){if(r=n.done?p:"suspendedYield",c.arg===m)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r=p,n.method="throw",n.arg=c.arg)}}}function x(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,x(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=h(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var o=i.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function A(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function S(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(A,this),this.reset(!0)}function C(t){if(t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,o=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:O}}function O(){return{value:e,done:!0}}return v.prototype=y,i(k,"constructor",{value:y,configurable:!0}),i(y,"constructor",{value:v,configurable:!0}),v.displayName=u(y,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===v||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,y):(t.__proto__=y,u(t,c,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},T(_.prototype),u(_.prototype,s,(function(){return this})),t.AsyncIterator=_,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new _(l(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},T(k),u(k,c,"Generator"),u(k,a,(function(){return this})),u(k,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=C,L.prototype={constructor:L,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(S),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),u=r.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),S(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;S(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}(t.exports);try{regeneratorRuntime=e}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=e:Function("r","regeneratorRuntime = r")(e)}},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var o={},a=[],s=0;s<t.length;s++){var c=t[s],u=r.base?c[0]+r.base:c[0],l=o[u]||0,h="".concat(u," ").concat(l);o[u]=l+1;var d=n(h),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var p=i(f,r);r.byIndex=s,e.splice(s,0,{identifier:h,updater:p,references:1})}a.push(h)}return a}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var o=r(t=t||[],i=i||{});return function(t){t=t||[];for(var a=0;a<o.length;a++){var s=n(o[a]);e[s].references--}for(var c=r(t,i),u=0;u<o.length;u++){var l=n(o[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=c}}},569:t=>{"use strict";var e={};t.exports=function(t,n){var r=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,n)=>{"use strict";t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(r,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{"use strict";t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},737:function(t){t.exports=function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r="swal-button";e.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:r,CONFIRM_BUTTON:r+"--confirm",CANCEL_BUTTON:r+"--cancel",DANGER_BUTTON:r+"--danger",BUTTON_LOADING:r+"--loading",BUTTON_LOADER:r+"__loader"},e.default=e.CLASS_NAMES},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getNode=function(t){var e="."+t;return document.querySelector(e)},e.stringToNode=function(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild},e.insertAfter=function(t,e){var n=e.nextSibling;e.parentNode.insertBefore(t,n)},e.removeNode=function(t){t.parentElement.removeChild(t)},e.throwErr=function(t){throw"SweetAlert: "+(t=t.replace(/ +(?= )/g,"")).trim()},e.isPlainObject=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype},e.ordinalSuffixOf=function(t){var e=t%10,n=t%100;return 1===e&&11!==n?t+"st":2===e&&12!==n?t+"nd":3===e&&13!==n?t+"rd":t+"th"}},function(t,e,n){"use strict";function r(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),r(n(25));var i=n(26);e.overlayMarkup=i.default,r(n(27)),r(n(28)),r(n(29));var o=n(0),a=o.default.MODAL_TITLE,s=o.default.MODAL_TEXT,c=o.default.ICON,u=o.default.FOOTER;e.iconMarkup='\n  <div class="'+c+'"></div>',e.titleMarkup='\n  <div class="'+a+'"></div>\n',e.textMarkup='\n  <div class="'+s+'"></div>',e.footerMarkup='\n  <div class="'+u+'"></div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1);e.CONFIRM_KEY="confirm",e.CANCEL_KEY="cancel";var i={visible:!0,text:null,value:null,className:"",closeModal:!0},o=Object.assign({},i,{visible:!1,text:"Cancel",value:null}),a=Object.assign({},i,{text:"OK",value:!0});e.defaultButtonList={cancel:o,confirm:a};var s=function(t){switch(t){case e.CONFIRM_KEY:return a;case e.CANCEL_KEY:return o;default:var n=t.charAt(0).toUpperCase()+t.slice(1);return Object.assign({},i,{text:n,value:t})}},c=function(t,e){var n=s(t);return!0===e?Object.assign({},n,{visible:!0}):"string"==typeof e?Object.assign({},n,{visible:!0,text:e}):r.isPlainObject(e)?Object.assign({visible:!0},n,e):Object.assign({},n,{visible:!1})},u=function(t){var n={};switch(t.length){case 1:n[e.CANCEL_KEY]=Object.assign({},o,{visible:!1});break;case 2:n[e.CANCEL_KEY]=c(e.CANCEL_KEY,t[0]),n[e.CONFIRM_KEY]=c(e.CONFIRM_KEY,t[1]);break;default:r.throwErr("Invalid number of 'buttons' in array ("+t.length+").\n      If you want more than 2 buttons, you need to use an object!")}return n};e.getButtonListOpts=function(t){var n=e.defaultButtonList;return"string"==typeof t?n[e.CONFIRM_KEY]=c(e.CONFIRM_KEY,t):Array.isArray(t)?n=u(t):r.isPlainObject(t)?n=function(t){for(var e={},n=0,r=Object.keys(t);n<r.length;n++){var i=r[n],a=t[i],s=c(i,a);e[i]=s}return e.cancel||(e.cancel=o),e}(t):!0===t?n=u([!0,!0]):!1===t?n=u([!1,!1]):void 0===t&&(n=e.defaultButtonList),n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(2),o=n(0),a=o.default.MODAL,s=o.default.OVERLAY,c=n(30),u=n(31),l=n(32),h=n(33);e.injectElIntoModal=function(t){var e=r.getNode(a),n=r.stringToNode(t);return e.appendChild(n),n};var d=function(t,e){!function(t){t.className=a,t.textContent=""}(t);var n=e.className;n&&t.classList.add(n)};e.initModalContent=function(t){var e=r.getNode(a);d(e,t),c.default(t.icon),u.initTitle(t.title),u.initText(t.text),h.default(t.content),l.default(t.buttons,t.dangerMode)};e.default=function(){var t=r.getNode(s),e=r.stringToNode(i.modalMarkup);t.appendChild(e)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i={isOpen:!1,promise:null,actions:{},timer:null},o=Object.assign({},i);e.resetState=function(){o=Object.assign({},i)},e.setActionValue=function(t){if("string"==typeof t)return a(r.CONFIRM_KEY,t);for(var e in t)a(e,t[e])};var a=function(t,e){o.actions[t]||(o.actions[t]={}),Object.assign(o.actions[t],{value:e})};e.setActionOptionsFor=function(t,e){var n=(void 0===e?{}:e).closeModal,r=void 0===n||n;Object.assign(o.actions[t],{closeModal:r})},e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(3),o=n(0),a=o.default.OVERLAY,s=o.default.SHOW_MODAL,c=o.default.BUTTON,u=o.default.BUTTON_LOADING,l=n(5);e.openModal=function(){r.getNode(a).classList.add(s),l.default.isOpen=!0};e.onAction=function(t){void 0===t&&(t=i.CANCEL_KEY);var e=l.default.actions[t],n=e.value;if(!1===e.closeModal){var o=c+"--"+t;r.getNode(o).classList.add(u)}else r.getNode(a).classList.remove(s),l.default.isOpen=!1;l.default.promise.resolve(n)},e.getState=function(){var t=Object.assign({},l.default);return delete t.promise,delete t.timer,t},e.stopLoading=function(){for(var t=document.querySelectorAll("."+c),e=0;e<t.length;e++)t[e].classList.remove(u)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){(function(e){t.exports=e.sweetAlert=n(9)}).call(e,n(7))},function(t,e,n){(function(e){t.exports=e.swal=n(10)}).call(e,n(7))},function(t,e,n){"undefined"!=typeof window&&n(11),n(16);var r=n(23).default;t.exports=r},function(t,e,n){var r=n(12);"string"==typeof r&&(r=[[t.i,r,""]]);n(14)(r,{insertAt:"top",transform:void 0}),r.locals&&(t.exports=r.locals)},function(t,e,n){(t.exports=n(13)(void 0)).push([t.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button:not([disabled]):hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel:not([disabled]):hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger:not([disabled]):hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(t,e){function n(t,e){var n=t[1]||"",r=t[3];if(!r)return n;if(e&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(r);return[n].concat(r.sources.map((function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"}))).concat([i]).join("\n")}return[n].join("\n")}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r=n(e,t);return e[2]?"@media "+e[2]+"{"+r+"}":r})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(l(r.parts[o],e))}else{var a=[];for(o=0;o<r.parts.length;o++)a.push(l(r.parts[o],e));p[r.id]={id:r.id,refs:1,parts:a}}}}function i(t,e){for(var n=[],r={},i=0;i<t.length;i++){var o=t[i],a=e.base?o[0]+e.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};r[a]?r[a].parts.push(s):n.push(r[a]={id:a,parts:[s]})}return n}function o(t,e){var n=g(t.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=b[b.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function a(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return t.attrs.type="text/css",u(e,t.attrs),o(t,e),e}function c(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",u(e,t.attrs),o(t,e),e}function u(t,e){Object.keys(e).forEach((function(n){t.setAttribute(n,e[n])}))}function l(t,e){var n,r,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var u=y++;n=v||(v=s(e)),r=h.bind(null,n,u,!1),i=h.bind(null,n,u,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=c(e),r=f.bind(null,n,e),i=function(){a(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=d.bind(null,n),i=function(){a(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else i()}}function h(t,e,n,r){var i=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=E(e,i);else{var o=document.createTextNode(i),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function d(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function f(t,e,n){var r=n.css,i=n.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(r=w(r)),i&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var a=new Blob([r],{type:"text/css"}),s=t.href;t.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}var p={},m=function(t){var e;return function(){return void 0===e&&(e=t.apply(this,arguments)),e}}((function(){return window&&document&&document.all&&!window.atob})),g=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t.call(this,n)),e[n]}}((function(t){return document.querySelector(t)})),v=null,y=0,b=[],w=n(15);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=m()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var n=i(t,e);return r(n,e),function(t){for(var o=[],a=0;a<n.length;a++){var s=n[a];(c=p[s.id]).refs--,o.push(c)}for(t&&r(i(t,e),e),a=0;a<o.length;a++){var c;if(0===(c=o[a]).refs){for(var u=0;u<c.parts.length;u++)c.parts[u]();delete p[c.id]}}}};var E=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var n=e.protocol+"//"+e.host,r=n+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,(function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,(function(t,e){return e})).replace(/^'(.*)'$/,(function(t,e){return e}));return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:r+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")}))}},function(t,e,n){var r=n(17);"undefined"==typeof window||window.Promise||(window.Promise=r),n(21),String.prototype.includes||(String.prototype.includes=function(t,e){"use strict";return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),r=n.length>>>0;if(0===r)return!1;for(var i=0|e,o=Math.max(i>=0?i:r-Math.abs(i),0);o<r;){if(function(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}(n[o],t))return!0;o++}return!1}}),"undefined"!=typeof window&&[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}))},function(t,e,n){(function(e){!function(n){function r(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function o(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var r;try{r=n(t._value)}catch(t){return void s(e.promise,t)}a(e.promise,r)}else(1===t._state?a:s)(e.promise,t._value)}))):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof i)return t._state=3,t._value=e,void c(t);if("function"==typeof n)return void l(function(t,e){return function(){t.apply(e,arguments)}}(n,e),t)}t._state=1,t._value=e,c(t)}catch(e){s(t,e)}}function s(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&i._immediateFn((function(){t._handled||i._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function u(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t((function(t){n||(n=!0,a(e,t))}),(function(t){n||(n=!0,s(e,t))}))}catch(t){if(n)return;n=!0,s(e,t)}}var h=setTimeout;i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var n=new this.constructor(r);return o(this,new u(t,e,n)),n},i.all=function(t){var e=Array.prototype.slice.call(t);return new i((function(t,n){function r(o,a){try{if(a&&("object"==typeof a||"function"==typeof a)){var s=a.then;if("function"==typeof s)return void s.call(a,(function(t){r(o,t)}),n)}e[o]=a,0==--i&&t(e)}catch(t){n(t)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)r(o,e[o])}))},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i((function(e){e(t)}))},i.reject=function(t){return new i((function(e,n){n(t)}))},i.race=function(t){return new i((function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)}))},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){h(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=i:n.Promise||(n.Promise=i)}(this)}).call(e,n(18).setImmediate)},function(t,e,n){function r(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout((function(){t._onTimeout&&t._onTimeout()}),e))},n(19),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){delete s[t]}function i(t){if(c)setTimeout(i,0,t);else{var e=s[t];if(e){c=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(void 0,n)}}(e)}finally{r(t),c=!1}}}}if(!t.setImmediate){var o,a=1,s={},c=!1,u=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick((function(){i(t)}))}:function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"==typeof n.data&&0===n.data.indexOf(e)&&i(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),o=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){i(t.data)},o=function(e){t.port2.postMessage(e)}}():u&&"onreadystatechange"in u.createElement("script")?function(){var t=u.documentElement;o=function(e){var n=u.createElement("script");n.onreadystatechange=function(){i(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():o=function(t){setTimeout(i,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return s[a]=r,o(a),a++},l.clearImmediate=r}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,n(7),n(20))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function o(){p&&d&&(p=!1,d.length?f=d.concat(f):m=-1,f.length&&a())}function a(){if(!p){var t=i(o);p=!0;for(var e=f.length;e;){for(d=f,f=[];++m<e;)d&&d[m].run();m=-1,e=f.length}d=null,p=!1,function(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}(t)}}function s(t,e){this.fun=t,this.array=e}function c(){}var u,l,h=t.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var d,f=[],p=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new s(t,e)),1!==f.length||p||i(a)},s.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";n(22).polyfill()},function(t,e,n){"use strict";function r(t,e){if(null==t)throw new TypeError("Cannot convert first argument to object");for(var n=Object(t),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o=Object.keys(Object(i)),a=0,s=o.length;a<s;a++){var c=o[a],u=Object.getOwnPropertyDescriptor(i,c);void 0!==u&&u.enumerable&&(n[c]=i[c])}}return n}t.exports={assign:r,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(24),i=n(6),o=n(5),a=n(36),s=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("undefined"!=typeof window){var n=a.getOpts.apply(void 0,t);return new Promise((function(t,e){o.default.promise={resolve:t,reject:e},r.default(n),setTimeout((function(){i.openModal()}))}))}};s.close=i.onAction,s.getState=i.getState,s.setActionValue=o.setActionValue,s.stopLoading=i.stopLoading,s.setDefaults=a.setDefaults,e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(0).default.MODAL,o=n(4),a=n(34),s=n(35),c=n(1);e.init=function(t){r.getNode(i)||(document.body||c.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),a.default(),o.default()),o.initModalContent(t),s.default(t)},e.default=e.init},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0).default.MODAL;e.modalMarkup='\n  <div class="'+r+'" role="dialog" aria-modal="true"></div>',e.default=e.modalMarkup},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r='<div \n    class="'+n(0).default.OVERLAY+'"\n    tabIndex="-1">\n  </div>';e.default=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0).default.ICON;e.errorIconMarkup=function(){var t=r+"--error",e=t+"__line";return'\n    <div class="'+t+'__x-mark">\n      <span class="'+e+" "+e+'--left"></span>\n      <span class="'+e+" "+e+'--right"></span>\n    </div>\n  '},e.warningIconMarkup=function(){var t=r+"--warning";return'\n    <span class="'+t+'__body">\n      <span class="'+t+'__dot"></span>\n    </span>\n  '},e.successIconMarkup=function(){var t=r+"--success";return'\n    <span class="'+t+"__line "+t+'__line--long"></span>\n    <span class="'+t+"__line "+t+'__line--tip"></span>\n\n    <div class="'+t+'__ring"></div>\n    <div class="'+t+'__hide-corners"></div>\n  '}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0).default.CONTENT;e.contentMarkup='\n  <div class="'+r+'">\n\n  </div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),i=r.default.BUTTON_CONTAINER,o=r.default.BUTTON,a=r.default.BUTTON_LOADER;e.buttonMarkup='\n  <div class="'+i+'">\n\n    <button\n      class="'+o+'"\n    ></button>\n\n    <div class="'+a+'">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n\n  </div>\n'},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4),i=n(2),o=n(0),a=o.default.ICON,s=o.default.ICON_CUSTOM,c=["error","warning","success","info"],u={error:i.errorIconMarkup(),warning:i.warningIconMarkup(),success:i.successIconMarkup()};e.default=function(t){if(t){var e=r.injectElIntoModal(i.iconMarkup);c.includes(t)?function(t,e){var n=a+"--"+t;e.classList.add(n);var r=u[t];r&&(e.innerHTML=r)}(t,e):function(t,e){e.classList.add(s);var n=document.createElement("img");n.src=t,e.appendChild(n)}(t,e)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2),i=n(4),o=function(t){navigator.userAgent.includes("AppleWebKit")&&(t.style.display="none",t.offsetHeight,t.style.display="")};e.initTitle=function(t){if(t){var e=i.injectElIntoModal(r.titleMarkup);e.textContent=t,o(e)}},e.initText=function(t){if(t){var e=document.createDocumentFragment();t.split("\n").forEach((function(t,n,r){e.appendChild(document.createTextNode(t)),n<r.length-1&&e.appendChild(document.createElement("br"))}));var n=i.injectElIntoModal(r.textMarkup);n.appendChild(e),o(n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(4),o=n(0),a=o.default.BUTTON,s=o.default.DANGER_BUTTON,c=n(3),u=n(2),l=n(6),h=n(5),d=function(t,e,n){var i=e.text,o=e.value,d=e.className,f=e.closeModal,p=r.stringToNode(u.buttonMarkup),m=p.querySelector("."+a),g=a+"--"+t;m.classList.add(g),d&&(Array.isArray(d)?d:d.split(" ")).filter((function(t){return t.length>0})).forEach((function(t){m.classList.add(t)})),n&&t===c.CONFIRM_KEY&&m.classList.add(s),m.textContent=i;var v={};return v[t]=o,h.setActionValue(v),h.setActionOptionsFor(t,{closeModal:f}),m.addEventListener("click",(function(){return l.onAction(t)})),p};e.default=function(t,e){var n=i.injectElIntoModal(u.footerMarkup);for(var r in t){var o=t[r],a=d(r,o,e);o.visible&&n.appendChild(a)}0===n.children.length&&n.remove()}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=n(4),o=n(2),a=n(5),s=n(6),c=n(0).default.CONTENT,u=function(t){t.addEventListener("input",(function(t){var e=t.target.value;a.setActionValue(e)})),t.addEventListener("keyup",(function(t){if("Enter"===t.key)return s.onAction(r.CONFIRM_KEY)})),setTimeout((function(){t.focus(),a.setActionValue("")}),0)};e.default=function(t){if(t){var e=i.injectElIntoModal(o.contentMarkup),n=t.element,r=t.attributes;"string"==typeof n?function(t,e,n){var r=document.createElement(e),i=c+"__"+e;for(var o in r.classList.add(i),n){var a=n[o];r[o]=a}"input"===e&&u(r),t.appendChild(r)}(e,n,r):e.appendChild(n)}}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(2);e.default=function(){var t=r.stringToNode(i.overlayMarkup);document.body.appendChild(t)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(5),i=n(6),o=n(1),a=n(3),s=n(0),c=s.default.MODAL,u=s.default.BUTTON,l=s.default.OVERLAY,h=function(t){if(r.default.isOpen&&"Escape"===t.key)return i.onAction(a.CANCEL_KEY)},d=function(t){if(r.default.isOpen&&"Tab"===t.key)return function(t){t.preventDefault(),p()}(t)},f=function(t){if(r.default.isOpen)return"Tab"===t.key&&t.shiftKey?function(t){t.preventDefault(),m()}(t):void 0},p=function(){var t=o.getNode(u);t&&(t.tabIndex=0,t.focus())},m=function(){var t=o.getNode(c).querySelectorAll("."+u),e=t[t.length-1];e&&e.focus()},g=function(){var t=o.getNode(c).querySelectorAll("."+u);t.length&&(function(t){t[t.length-1].addEventListener("keydown",d)}(t),function(t){t[0].addEventListener("keydown",f)}(t))},v=function(t){if(o.getNode(l)===t.target)return i.onAction(a.CANCEL_KEY)};e.default=function(t){t.closeOnEsc?document.addEventListener("keyup",h):document.removeEventListener("keyup",h),t.dangerMode?p():m(),g(),function(t){var e=o.getNode(l);e.removeEventListener("click",v),t&&e.addEventListener("click",v)}(t.closeOnClickOutside),function(t){r.default.timer&&clearTimeout(r.default.timer),t&&(r.default.timer=window.setTimeout((function(){return i.onAction(a.CANCEL_KEY)}),t))}(t.timer)}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i=n(3),o=n(37),a=n(38),s={title:null,text:null,icon:null,buttons:i.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},c=Object.assign({},s);e.setDefaults=function(t){c=Object.assign({},s,t)};var u=function(t){var e=t&&t.button,n=t&&t.buttons;return void 0!==e&&void 0!==n&&r.throwErr("Cannot set both 'button' and 'buttons' options!"),void 0!==e?{confirm:e}:n},l=function(t){return r.ordinalSuffixOf(t+1)},h=function(t,e){r.throwErr(l(e)+" argument ('"+t+"') is invalid")},d=function(t,e){var n=t+1,i=e[n];r.isPlainObject(i)||void 0===i||r.throwErr("Expected "+l(n)+" argument ('"+i+"') to be a plain object")},f=function(t,e,n,i){var o=e instanceof Element;if("string"==typeof e){if(0===n)return{text:e};if(1===n)return{text:e,title:i[0]};if(2===n)return d(n,i),{icon:e};h(e,n)}else{if(o&&0===n)return d(n,i),{content:e};if(r.isPlainObject(e))return function(t,e){var n=t+1,i=e[n];void 0!==i&&r.throwErr("Unexpected "+l(n)+" argument ("+i+")")}(n,i),e;h(e,n)}};e.getOpts=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={};t.forEach((function(e,r){var i=f(0,e,r,t);Object.assign(n,i)}));var r=u(n);n.buttons=i.getButtonListOpts(r),delete n.button,n.content=o.getContentOpts(n.content);var l=Object.assign({},s,c,n);return Object.keys(l).forEach((function(t){a.DEPRECATED_OPTS[t]&&a.logDeprecation(t)})),l}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(1),i={element:"input",attributes:{placeholder:""}};e.getContentOpts=function(t){return r.isPlainObject(t)?Object.assign({},t):t instanceof Element?{element:t}:"input"===t?i:null}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.logDeprecation=function(t){var n=e.DEPRECATED_OPTS[t],r=n.onlyRename,i=n.replacement,o=n.subOption,a=n.link,s='SweetAlert warning: "'+t+'" option has been '+(r?"renamed":"deprecated")+".";i&&(s+=" Please use"+(o?' "'+o+'" in ':" ")+'"'+i+'" instead.');var c="https://sweetalert.js.org";s+=a?" More details: "+c+a:" More details: "+c+"/guides/#upgrading-from-1x",console.warn(s)},e.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var o=e[r]={id:r,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.nc=void 0,(()=>{"use strict";n(666);var t=n(379),e=n.n(t),r=n(795),i=n.n(r),o=n(569),a=n.n(o),s=n(565),c=n.n(s),u=n(216),l=n.n(u),h=n(589),d=n.n(h),f=n(756),p={};p.styleTagTransform=d(),p.setAttributes=c(),p.insert=a().bind(null,"head"),p.domAPI=i(),p.insertStyleElement=l(),e()(f.Z,p),f.Z&&f.Z.locals&&f.Z.locals;const m=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},g={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let e=0;e<t.length;e+=3){const i=t[e],o=e+1<t.length,a=o?t[e+1]:0,s=e+2<t.length,c=s?t[e+2]:0,u=i>>2,l=(3&i)<<4|a>>4;let h=(15&a)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[u],n[l],n[h],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(m(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(o>>10)),e[r++]=String.fromCharCode(56320+(1023&o))}else{const o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let e=0;e<t.length;){const i=n[t.charAt(e++)],o=e<t.length?n[t.charAt(e)]:0;++e;const a=e<t.length?n[t.charAt(e)]:64;++e;const s=e<t.length?n[t.charAt(e)]:64;if(++e,null==i||null==o||null==a||null==s)throw Error();const c=i<<2|o>>4;if(r.push(c),64!==a){const t=o<<4&240|a>>2;if(r.push(t),64!==s){const t=a<<6&192|s;r.push(t)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},v=function(t){return function(t){const e=m(t);return g.encodeByteArray(e,!0)}(t).replace(/\./g,"")},y=function(t){try{return g.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function b(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}const w=()=>{try{return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if(void 0!==n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if("undefined"==typeof process||void 0===process.env)return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if("undefined"==typeof document)return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}const e=t&&y(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},E=t=>{var e,n;return null===(n=null===(e=w())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},k=t=>{var e;return null===(e=w())||void 0===e?void 0:e[`_${t}`]};class T{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch((()=>{})),1===t.length?t(e):t(e,n))}}}class I extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,x.prototype.create)}}class x{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],o=i?function(t,e){return t.replace(A,((t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`}))}(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new I(r,a,n)}}const A=/\{\$([^}]+)}/g;function S(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],o=e[i];if(L(n)&&L(o)){if(!S(n,o))return!1}else if(n!==o)return!1}for(const t of r)if(!n.includes(t))return!1;return!0}function L(t){return null!==t&&"object"==typeof t}function C(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach((t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))})):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function O(t){const e={};return t.replace(/^\?/,"").split("&").forEach((t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}})),e}function P(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class N{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((()=>{t(this)})).catch((t=>{this.error(t)}))}next(t){this.forEachObserver((e=>{e.next(t)}))}error(t){this.forEachObserver((e=>{e.error(t)})),this.close(t)}complete(){this.forEachObserver((t=>{t.complete()})),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!=typeof t||null===t)return!1;for(const e of["next","error","complete"])if(e in t&&"function"==typeof t[e])return!0;return!1}(t)?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=D),void 0===r.error&&(r.error=D),void 0===r.complete&&(r.complete=D);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}})),this.observers.push(r),i}unsubscribeOne(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function D(){}function M(t){return t&&t._delegate?t._delegate:t}class R{constructor(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const j="[DEFAULT]";class U{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const t=new T;if(this.instancesDeferred.set(e,t),this.isInitialized(e)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:e});n&&t.resolve(n)}catch(t){}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(t){if(r)return null;throw t}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:j})}catch(t){}for(const[t,e]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(t);try{const t=this.getOrInitializeService({instanceIdentifier:n});e.resolve(t)}catch(t){}}}}clearInstance(t="[DEFAULT]"){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter((t=>"INTERNAL"in t)).map((t=>t.INTERNAL.delete())),...t.filter((t=>"_delete"in t)).map((t=>t._delete()))])}isComponentSet(){return null!=this.component}isInitialized(t="[DEFAULT]"){return this.instances.has(t)}getOptions(t="[DEFAULT]"){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,n=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:e});for(const[t,e]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(t)&&e.resolve(r);return r}onInit(t,e){var n;const r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,e){const n=this.onInitCallbacks.get(e);if(n)for(const r of n)try{r(t,e)}catch(t){}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let n=this.instances.get(t);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=t,r===j?void 0:r),options:e}),this.instances.set(t,n),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(n,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,n)}catch(t){}var r;return n||null}normalizeInstanceIdentifier(t="[DEFAULT]"){return this.component?this.component.multipleInstances?t:j:t}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class B{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new U(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}const F=[];var V,G;(G=V||(V={}))[G.DEBUG=0]="DEBUG",G[G.VERBOSE=1]="VERBOSE",G[G.INFO=2]="INFO",G[G.WARN=3]="WARN",G[G.ERROR=4]="ERROR",G[G.SILENT=5]="SILENT";const H={debug:V.DEBUG,verbose:V.VERBOSE,info:V.INFO,warn:V.WARN,error:V.ERROR,silent:V.SILENT},q=V.INFO,K={[V.DEBUG]:"log",[V.VERBOSE]:"log",[V.INFO]:"info",[V.WARN]:"warn",[V.ERROR]:"error"},z=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=K[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class W{constructor(t){this.name=t,this._logLevel=q,this._logHandler=z,this._userLogHandler=null,F.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in V))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?H[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,V.DEBUG,...t),this._logHandler(this,V.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,V.VERBOSE,...t),this._logHandler(this,V.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,V.INFO,...t),this._logHandler(this,V.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,V.WARN,...t),this._logHandler(this,V.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,V.ERROR,...t),this._logHandler(this,V.ERROR,...t)}}let $,J;const Y=new WeakMap,Q=new WeakMap,X=new WeakMap,Z=new WeakMap,tt=new WeakMap;let et={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Q.get(t);if("objectStoreNames"===e)return t.objectStoreNames||X.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rt(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function nt(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(J||(J=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(it(this),t),rt(Y.get(this))}:function(...t){return rt(e.apply(it(this),t))}:function(t,...n){const r=e.call(it(this),t,...n);return X.set(r,t.sort?t.sort():[t]),rt(r)}:(t instanceof IDBTransaction&&function(t){if(Q.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{e(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)}));Q.set(t,e)}(t),n=t,($||($=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>n instanceof t))?new Proxy(t,et):t);var e,n}function rt(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{e(rt(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)}));return e.then((e=>{e instanceof IDBCursor&&Y.set(e,t)})).catch((()=>{})),tt.set(e,t),e}(t);if(Z.has(t))return Z.get(t);const e=nt(t);return e!==t&&(Z.set(t,e),tt.set(e,t)),e}const it=t=>tt.get(t),ot=["get","getKey","getAll","getAllKeys","count"],at=["put","add","delete","clear"],st=new Map;function ct(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(st.get(e))return st.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=at.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!ot.includes(n))return;const o=async function(t,...e){const o=this.transaction(t,i?"readwrite":"readonly");let a=o.store;return r&&(a=a.index(e.shift())),(await Promise.all([a[n](...e),i&&o.done]))[0]};return st.set(e,o),o}var ut;ut=et,et={...ut,get:(t,e,n)=>ct(t,e)||ut.get(t,e,n),has:(t,e)=>!!ct(t,e)||ut.has(t,e)};class lt{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map((t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null})).filter((t=>t)).join(" ")}}const ht="@firebase/app",dt="0.8.4",ft=new W("@firebase/app"),pt="[DEFAULT]",mt={[ht]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},gt=new Map,vt=new Map;function yt(t,e){try{t.container.addComponent(e)}catch(n){ft.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function bt(t){const e=t.name;if(vt.has(e))return ft.debug(`There were multiple attempts to register component ${e}.`),!1;vt.set(e,t);for(const e of gt.values())yt(e,t);return!0}function wt(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Et=new x("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class kt{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new R("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Et.create("app-deleted",{appName:this._name})}}const Tt="9.14.0";function _t(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:pt,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Et.create("bad-app-name",{appName:String(i)});if(n||(n=(()=>{var t;return null===(t=w())||void 0===t?void 0:t.config})()),!n)throw Et.create("no-options");const o=gt.get(i);if(o){if(S(n,o.options)&&S(r,o.config))return o;throw Et.create("duplicate-app",{appName:i})}const a=new B(i);for(const t of vt.values())a.addComponent(t);const s=new kt(n,r,a);return gt.set(i,s),s}function It(t="[DEFAULT]"){const e=gt.get(t);if(!e&&t===pt)return _t();if(!e)throw Et.create("no-app",{appName:t});return e}function xt(t,e,n){var r;let i=null!==(r=mt[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${i}" with version "${e}":`];return o&&t.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void ft.warn(t.join(" "))}bt(new R(`${i}-version`,(()=>({library:i,version:e})),"VERSION"))}const At="firebase-heartbeat-store";let St=null;function Lt(){return St||(St=function(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const a=indexedDB.open(t,e),s=rt(a);return r&&a.addEventListener("upgradeneeded",(t=>{r(rt(a.result),t.oldVersion,t.newVersion,rt(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),s.then((t=>{o&&t.addEventListener("close",(()=>o())),i&&t.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),s}("firebase-heartbeat-database",1,{upgrade:(t,e)=>{0===e&&t.createObjectStore(At)}}).catch((t=>{throw Et.create("idb-open",{originalErrorMessage:t.message})}))),St}async function Ct(t,e){var n;try{const n=(await Lt()).transaction(At,"readwrite"),r=n.objectStore(At);return await r.put(e,Ot(t)),n.done}catch(t){if(t instanceof I)ft.warn(t.message);else{const e=Et.create("idb-set",{originalErrorMessage:null===(n=t)||void 0===n?void 0:n.message});ft.warn(e.message)}}}function Ot(t){return`${t.name}!${t.options.appId}`}class Pt{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Dt(e),this._heartbeatsCachePromise=this._storage.read().then((t=>(this._heartbeatsCache=t,t)))}async triggerHeartbeat(){const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),e=Nt();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==e&&!this._heartbeatsCache.heartbeats.some((t=>t.date===e)))return this._heartbeatsCache.heartbeats.push({date:e,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((t=>{const e=new Date(t.date).valueOf();return Date.now()-e<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const t=Nt(),{heartbeatsToSend:e,unsentEntries:n}=function(t,e=1024){const n=[];let r=t.slice();for(const i of t){const t=n.find((t=>t.agent===i.agent));if(t){if(t.dates.push(i.date),Mt(n)>e){t.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Mt(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),r=v(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Nt(){return(new Date).toISOString().substring(0,10)}class Dt{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return"object"==typeof indexedDB&&new Promise(((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const t=await async function(t){var e;try{return(await Lt()).transaction(At).objectStore(At).get(Ot(t))}catch(t){if(t instanceof I)ft.warn(t.message);else{const n=Et.create("idb-get",{originalErrorMessage:null===(e=t)||void 0===e?void 0:e.message});ft.warn(n.message)}}}(this.app);return t||{heartbeats:[]}}return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ct(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:t.heartbeats})}}async add(t){var e;if(await this._canUseIndexedDBPromise){const n=await this.read();return Ct(this.app,{lastSentHeartbeatDate:null!==(e=t.lastSentHeartbeatDate)&&void 0!==e?e:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...t.heartbeats]})}}}function Mt(t){return v(JSON.stringify({version:2,heartbeats:t})).length}function Rt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}bt(new R("platform-logger",(t=>new lt(t)),"PRIVATE")),bt(new R("heartbeat",(t=>new Pt(t)),"PRIVATE")),xt(ht,dt,""),xt(ht,dt,"esm2017"),xt("fire-js",""),Object.create,Object.create;const jt=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ut=new x("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Bt=new W("@firebase/auth");function Ft(t,...e){Bt.logLevel<=V.ERROR&&Bt.error(`Auth (9.14.0): ${t}`,...e)}function Vt(t,...e){throw Ht(t,...e)}function Gt(t,...e){return Ht(t,...e)}function Ht(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Ut.create(t,...e)}function qt(t,e,...n){if(!t)throw Ht(e,...n)}function Kt(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ft(e),new Error(e)}function zt(t,e){t||Kt(e)}const Wt=new Map;function $t(t){zt(t instanceof Function,"Expected a class definition");let e=Wt.get(t);return e?(zt(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Wt.set(t,e),e)}function Jt(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Yt(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}function Qt(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&("http:"===Yt()||"https:"===Yt()||function(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}()||"connection"in navigator))||navigator.onLine}class Xt{constructor(t,e){this.shortDelay=t,this.longDelay=e,zt(e>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(b())||"object"==typeof navigator&&"ReactNative"===navigator.product}get(){return Qt()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Zt(t,e){zt(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class te{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void Kt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void Kt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void Kt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ee={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ne=new Xt(3e4,6e4);function re(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ie(t,e,n,r,i={}){return oe(t,i,(async()=>{let i={},o={};r&&("GET"===e?o=r:i={body:JSON.stringify(r)});const a=C(Object.assign({key:t.config.apiKey},o)).slice(1),s=await t._getAdditionalHeaders();return s["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),te.fetch()(se(t,t.config.apiHost,n,a),Object.assign({method:e,headers:s,referrerPolicy:"no-referrer"},i))}))}async function oe(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},ee),e);try{const e=new ce(t),i=await Promise.race([n(),e.promise]);e.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw ue(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const e=i.ok?o.errorMessage:o.error.message,[n,a]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw ue(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw ue(t,"email-already-in-use",o);if("USER_DISABLED"===n)throw ue(t,"user-disabled",o);const s=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw function(t,e,n){const r=Object.assign(Object.assign({},jt()),{[e]:n});return new x("auth","Firebase",r).create(e,{appName:t.name})}(t,s,a);Vt(t,s)}}catch(e){if(e instanceof I)throw e;Vt(t,"network-request-failed")}}async function ae(t,e,n,r,i={}){const o=await ie(t,e,n,r,i);return"mfaPendingCredential"in o&&Vt(t,"multi-factor-auth-required",{_serverResponse:o}),o}function se(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?Zt(t.config,i):`${t.config.apiScheme}://${i}`}class ce{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise(((t,e)=>{this.timer=setTimeout((()=>e(Gt(this.auth,"network-request-failed"))),ne.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function ue(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Gt(t,e,r);return i.customData._tokenResponse=n,i}function le(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(t){}}function he(t){return 1e3*Number(t)}function de(t){var e;const[n,r,i]=t.split(".");if(void 0===n||void 0===r||void 0===i)return Ft("JWT malformed, contained fewer than 3 sections"),null;try{const t=y(r);return t?JSON.parse(t):(Ft("Failed to decode base64 JWT payload"),null)}catch(t){return Ft("Caught error parsing JWT payload as JSON",null===(e=t)||void 0===e?void 0:e.toString()),null}}async function fe(t,e,n=!1){if(n)return e;try{return await e}catch(e){throw e instanceof I&&function({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(e)&&t.auth.currentUser===t&&await t.auth.signOut(),e}}class pe{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout((async()=>{await this.iteration()}),e)}async iteration(){var t;try{await this.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===(null===(t=e)||void 0===t?void 0:t.code)&&this.schedule(!0))}this.schedule()}}class me{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=le(this.lastLoginAt),this.creationTime=le(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ge(t){var e;const n=t.auth,r=await t.getIdToken(),i=await fe(t,async function(t,e){return ie(t,"POST","/v1/accounts:lookup",e)}(n,{idToken:r}));qt(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const a=(null===(e=o.providerUserInfo)||void 0===e?void 0:e.length)?o.providerUserInfo.map((t=>{var{providerId:e}=t,n=Rt(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],s=function(t,e){const n=t.filter((t=>!e.some((e=>e.providerId===t.providerId))));return[...n,...e]}(t.providerData,a),c=t.isAnonymous,u=!(t.email&&o.passwordHash||(null==s?void 0:s.length)),l=!!c&&u,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new me(o.createdAt,o.lastLoginAt),isAnonymous:l};Object.assign(t,h)}class ve{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){qt(t.idToken,"internal-error"),qt(void 0!==t.idToken,"internal-error"),qt(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=de(t);return qt(e,"internal-error"),qt(void 0!==e.exp,"internal-error"),qt(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}async getToken(t,e=!1){return qt(!this.accessToken||this.refreshToken,t,"user-token-expired"),e||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(t,e){const n=await oe(t,{},(async()=>{const n=C({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=se(t,r,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",te.fetch()(o,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(t,e);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,o=new ve;return n&&(qt("string"==typeof n,"internal-error",{appName:t}),o.refreshToken=n),r&&(qt("string"==typeof r,"internal-error",{appName:t}),o.accessToken=r),i&&(qt("number"==typeof i,"internal-error",{appName:t}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ve,this.toJSON())}_performRefresh(){return Kt("not implemented")}}function ye(t,e){qt("string"==typeof t||void 0===t,"internal-error",{appName:e})}class be{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=Rt(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new me(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(t){const e=await fe(this,this.stsTokenManager.getToken(this.auth,t));return qt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return async function(t,e=!1){const n=M(t),r=await n.getIdToken(e),i=de(r);qt(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:le(he(i.auth_time)),issuedAtTime:le(he(i.iat)),expirationTime:le(he(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}}(this,t)}reload(){return async function(t){const e=M(t);await ge(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}(this)}_assign(t){this!==t&&(qt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map((t=>Object.assign({},t))),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new be(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){qt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let n=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),n=!0),e&&await ge(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await fe(this,async function(t,e){return ie(t,"POST","/v1/accounts:delete",e)}(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((t=>Object.assign({},t))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,o,a,s,c,u;const l=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=e.photoURL)&&void 0!==o?o:void 0,p=null!==(a=e.tenantId)&&void 0!==a?a:void 0,m=null!==(s=e._redirectEventId)&&void 0!==s?s:void 0,g=null!==(c=e.createdAt)&&void 0!==c?c:void 0,v=null!==(u=e.lastLoginAt)&&void 0!==u?u:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:E,stsTokenManager:k}=e;qt(y&&k,t,"internal-error");const T=ve.fromJSON(this.name,k);qt("string"==typeof y,t,"internal-error"),ye(l,t.name),ye(h,t.name),qt("boolean"==typeof b,t,"internal-error"),qt("boolean"==typeof w,t,"internal-error"),ye(d,t.name),ye(f,t.name),ye(p,t.name),ye(m,t.name),ye(g,t.name),ye(v,t.name);const _=new be({uid:y,auth:t,email:h,emailVerified:b,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:T,createdAt:g,lastLoginAt:v});return E&&Array.isArray(E)&&(_.providerData=E.map((t=>Object.assign({},t)))),m&&(_._redirectEventId=m),_}static async _fromIdTokenResponse(t,e,n=!1){const r=new ve;r.updateFromServerResponse(e);const i=new be({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return await ge(i),i}}class we{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return void 0===e?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}we.type="NONE";const Ee=we;function ke(t,e,n){return`firebase:${t}:${e}:${n}`}class Te{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ke(this.userKey,r.apiKey,i),this.fullPersistenceKey=ke("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?be._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=t,e?this.setCurrentUser(e):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,n="authUser"){if(!e.length)return new Te($t(Ee),t,n);const r=(await Promise.all(e.map((async t=>{if(await t._isAvailable())return t})))).filter((t=>t));let i=r[0]||$t(Ee);const o=ke(n,t.config.apiKey,t.name);let a=null;for(const n of e)try{const e=await n._get(o);if(e){const r=be._fromJSON(t,e);n!==i&&(a=r),i=n;break}}catch(t){}const s=r.filter((t=>t._shouldAllowMigration));return i._shouldAllowMigration&&s.length?(i=s[0],a&&await i._set(o,a.toJSON()),await Promise.all(e.map((async t=>{if(t!==i)try{await t._remove(o)}catch(t){}}))),new Te(i,t,n)):new Te(i,t,n)}}function _e(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Se(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ie(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ce(e))return"Blackberry";if(Oe(e))return"Webos";if(xe(e))return"Safari";if((e.includes("chrome/")||Ae(e))&&!e.includes("edge/"))return"Chrome";if(Le(e))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(e);if(2===(null==n?void 0:n.length))return n[1]}return"Other"}function Ie(t=b()){return/firefox\//i.test(t)}function xe(t=b()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ae(t=b()){return/crios\//i.test(t)}function Se(t=b()){return/iemobile/i.test(t)}function Le(t=b()){return/android/i.test(t)}function Ce(t=b()){return/blackberry/i.test(t)}function Oe(t=b()){return/webos/i.test(t)}function Pe(t=b()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ne(t=b()){return Pe(t)||Le(t)||Oe(t)||Ce(t)||/windows phone/i.test(t)||Se(t)}function De(t,e=[]){let n;switch(t){case"Browser":n=_e(b());break;case"Worker":n=`${_e(b())}-${t}`;break;default:n=t}return`${n}/JsCore/9.14.0/${e.length?e.join(","):"FirebaseCore-web"}`}class Me{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=e=>new Promise(((n,r)=>{try{n(t(e))}catch(t){r(t)}}));n.onAbort=e,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){var e;if(this.auth.currentUser===t)return;const n=[];try{for(const e of this.queue)await e(t),e.onAbort&&n.push(e.onAbort)}catch(t){n.reverse();for(const t of n)try{t()}catch(t){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===(e=t)||void 0===e?void 0:e.message})}}}class Re{constructor(t,e,n){this.app=t,this.heartbeatServiceProvider=e,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ue(this),this.idTokenSubscription=new Ue(this),this.beforeStateQueue=new Me(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ut,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=$t(e)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Te.create(this,t),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(t){}await this.initializeCurrentUser(e),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();return this.currentUser||t?this.currentUser&&t&&this.currentUser.uid===t.uid?(this._currentUser._assign(t),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(t,!0):void 0}async initializeCurrentUser(t){var e;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(e=this.redirectUser)||void 0===e?void 0:e._redirectEventId,o=null==r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(t);n&&n!==o||!(null==a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(t){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(t)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return qt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch(t){await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){var e;try{await ge(t)}catch(t){if("auth/network-request-failed"!==(null===(e=t)||void 0===e?void 0:e.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const e=t?M(t):null;return e&&qt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&qt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue((async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue((async()=>{await this.assertedPersistence.setPersistence($t(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new x("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}async _setRedirectUser(t,e){const n=await this.getOrInitRedirectPersistenceManager(e);return null===t?n.removeCurrentUser():n.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&$t(t)||this._popupRedirectResolver;qt(e,this,"argument-error"),this.redirectPersistenceManager=await Te.create(this,[$t(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var e,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(e=this._currentUser)||void 0===e?void 0:e._redirectEventId)===t?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(t)))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"==typeof e?e:e.next.bind(e),o=this._isInitialized?Promise.resolve():this._initializationPromise;return qt(o,this,"internal-error"),o.then((()=>i(this.currentUser))),"function"==typeof e?t.addObserver(e,n,r):t.addObserver(e)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return qt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){t&&!this.frameworks.includes(t)&&(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=De(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader());return n&&(e["X-Firebase-Client"]=n),e}}function je(t){return M(t)}class Ue{constructor(t){this.auth=t,this.observer=null,this.addObserver=function(t,e){const n=new N(t,void 0);return n.subscribe.bind(n)}((t=>this.observer=t))}get next(){return qt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Be(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Fe(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Ve{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Kt("not implemented")}_getIdTokenResponse(t){return Kt("not implemented")}_linkToIdToken(t,e){return Kt("not implemented")}_getReauthenticationResolver(t){return Kt("not implemented")}}class Ge extends Ve{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Ge(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Ge(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":return async function(t,e){return ae(t,"POST","/v1/accounts:signInWithPassword",re(t,e))}(t,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return ae(t,"POST","/v1/accounts:signInWithEmailLink",re(t,e))}(t,{email:this._email,oobCode:this._password});default:Vt(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":return async function(t,e){return ie(t,"POST","/v1/accounts:update",e)}(t,{idToken:e,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return async function(t,e){return ae(t,"POST","/v1/accounts:signInWithEmailLink",re(t,e))}(t,{idToken:e,email:this._email,oobCode:this._password});default:Vt(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function He(t,e){return ae(t,"POST","/v1/accounts:signInWithIdp",re(t,e))}class qe extends Ve{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new qe(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Vt("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=Rt(e,["providerId","signInMethod"]);if(!n||!r)return null;const o=new qe(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(t){return He(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,He(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,He(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=C(e)}return t}}const Ke={USER_NOT_FOUND:"user-not-found"};class ze extends Ve{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new ze({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new ze({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return async function(t,e){return ae(t,"POST","/v1/accounts:signInWithPhoneNumber",re(t,e))}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return async function(t,e){const n=await ae(t,"POST","/v1/accounts:signInWithPhoneNumber",re(t,e));if(n.temporaryProof)throw ue(t,"account-exists-with-different-credential",n);return n}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return async function(t,e){return ae(t,"POST","/v1/accounts:signInWithPhoneNumber",re(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),Ke)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new ze({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class We{constructor(t){var e,n,r,i,o,a;const s=O(P(t)),c=null!==(e=s.apiKey)&&void 0!==e?e:null,u=null!==(n=s.oobCode)&&void 0!==n?n:null,l=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=s.mode)&&void 0!==r?r:null);qt(c&&u&&l,"argument-error"),this.apiKey=c,this.operation=l,this.code=u,this.continueUrl=null!==(i=s.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=s.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=O(P(t)).link,n=e?O(P(e)).deep_link_id:null,r=O(P(t)).deep_link_id;return(r?O(P(r)).link:null)||r||n||e||t}(t);try{return new We(e)}catch(t){return null}}}class $e{constructor(){this.providerId=$e.PROVIDER_ID}static credential(t,e){return Ge._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=We.parseLink(e);return qt(n,"argument-error"),Ge._fromEmailAndCode(t,n.code,n.tenantId)}}$e.PROVIDER_ID="password",$e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",$e.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Je{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Ye extends Je{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Qe extends Ye{constructor(){super("facebook.com")}static credential(t){return qe._fromParams({providerId:Qe.PROVIDER_ID,signInMethod:Qe.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Qe.credentialFromTaggedObject(t)}static credentialFromError(t){return Qe.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Qe.credential(t.oauthAccessToken)}catch(t){return null}}}Qe.FACEBOOK_SIGN_IN_METHOD="facebook.com",Qe.PROVIDER_ID="facebook.com";class Xe extends Ye{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return qe._fromParams({providerId:Xe.PROVIDER_ID,signInMethod:Xe.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Xe.credentialFromTaggedObject(t)}static credentialFromError(t){return Xe.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n}=t;if(!e&&!n)return null;try{return Xe.credential(e,n)}catch(t){return null}}}Xe.GOOGLE_SIGN_IN_METHOD="google.com",Xe.PROVIDER_ID="google.com";class Ze extends Ye{constructor(){super("github.com")}static credential(t){return qe._fromParams({providerId:Ze.PROVIDER_ID,signInMethod:Ze.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ze.credentialFromTaggedObject(t)}static credentialFromError(t){return Ze.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Ze.credential(t.oauthAccessToken)}catch(t){return null}}}Ze.GITHUB_SIGN_IN_METHOD="github.com",Ze.PROVIDER_ID="github.com";class tn extends Ye{constructor(){super("twitter.com")}static credential(t,e){return qe._fromParams({providerId:tn.PROVIDER_ID,signInMethod:tn.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return tn.credentialFromTaggedObject(t)}static credentialFromError(t){return tn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:n}=t;if(!e||!n)return null;try{return tn.credential(e,n)}catch(t){return null}}}tn.TWITTER_SIGN_IN_METHOD="twitter.com",tn.PROVIDER_ID="twitter.com";class en{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,n,r=!1){const i=await be._fromIdTokenResponse(t,n,r),o=nn(n);return new en({user:i,providerId:o,_tokenResponse:n,operationType:e})}static async _forOperation(t,e,n){await t._updateTokensIfNecessary(n,!0);const r=nn(n);return new en({user:t,providerId:r,_tokenResponse:n,operationType:e})}}function nn(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class rn extends I{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,rn.prototype),this.customData={appName:t.name,tenantId:null!==(i=t.tenantId)&&void 0!==i?i:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,r){return new rn(t,e,n,r)}}function on(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw rn._fromErrorAndOperation(t,n,e,r);throw n}))}async function an(t,e,n=!1){const r="signIn",i=await on(t,r,e),o=await en._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}function sn(t,e,n){return async function(t,e){return an(je(t),e)}(M(t),$e.credential(e,n))}new WeakMap;const cn="__sak";class un{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(cn,"1"),this.storage.removeItem(cn),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}class ln extends un{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=b();return xe(t)||Pe(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=Ne(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys(((t,e,n)=>{this.notifyListeners(t,n)}));const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const r=()=>{const t=this.storage.getItem(n);(e||this.localCache[n]!==t)&&this.notifyListeners(n,t)},i=this.storage.getItem(n);!function(){const t=b();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||10!==document.documentMode||i===t.newValue||t.newValue===t.oldValue?r():setTimeout(r,10)}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const t of Array.from(n))t(e?JSON.parse(e):e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}ln.type="LOCAL";const hn=ln;class dn extends un{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(t,e){}_removeListener(t,e){}}dn.type="SESSION";const fn=dn;class pn{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find((e=>e.isListeningto(t)));if(e)return e;const n=new pn(t);return this.receivers.push(n),n}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:n,eventType:r,data:i}=e.data,o=this.handlersMap[r];if(!(null==o?void 0:o.size))return;e.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(o).map((async t=>t(e.origin,i))),s=await function(t){return Promise.all(t.map((async t=>{try{return{fulfilled:!0,value:await t}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);e.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:s})}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),e&&0!==this.handlersMap[t].size||delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function mn(t="",e=10){let n="";for(let t=0;t<e;t++)n+=Math.floor(10*Math.random());return t+n}pn.receivers=[];class gn{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,n=50){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,o;return new Promise(((a,s)=>{const c=mn("",20);r.port1.start();const u=setTimeout((()=>{s(new Error("unsupported_event"))}),n);o={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(u),i=setTimeout((()=>{s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(e.data.response);break;default:clearTimeout(u),clearTimeout(i),s(new Error("invalid_response"))}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])})).finally((()=>{o&&this.removeMessageHandler(o)}))}}function vn(){return window}function yn(){return void 0!==vn().WorkerGlobalScope&&"function"==typeof vn().importScripts}const bn="firebaseLocalStorageDb",wn="firebaseLocalStorage",En="fbase_key";class kn{constructor(t){this.request=t}toPromise(){return new Promise(((t,e)=>{this.request.addEventListener("success",(()=>{t(this.request.result)})),this.request.addEventListener("error",(()=>{e(this.request.error)}))}))}}function Tn(t,e){return t.transaction([wn],e?"readwrite":"readonly").objectStore(wn)}function _n(){const t=indexedDB.open(bn,1);return new Promise(((e,n)=>{t.addEventListener("error",(()=>{n(t.error)})),t.addEventListener("upgradeneeded",(()=>{const e=t.result;try{e.createObjectStore(wn,{keyPath:En})}catch(t){n(t)}})),t.addEventListener("success",(async()=>{const n=t.result;n.objectStoreNames.contains(wn)?e(n):(n.close(),await function(){const t=indexedDB.deleteDatabase(bn);return new kn(t).toPromise()}(),e(await _n()))}))}))}async function In(t,e,n){const r=Tn(t,!0).put({[En]:e,value:n});return new kn(r).toPromise()}function xn(t,e){const n=Tn(t,!0).delete(e);return new kn(n).toPromise()}class An{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await _n()),this.db}async _withRetries(t){let e=0;for(;;)try{const e=await this._openDb();return await t(e)}catch(t){if(e++>3)throw t;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return yn()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pn._getInstance(yn()?self:null),this.receiver._subscribe("keyChanged",(async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)}))),this.receiver._subscribe("ping",(async(t,e)=>["keyChanged"]))}async initializeSender(){var t,e;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(t){return null}}(),!this.activeServiceWorker)return;this.sender=new gn(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(t=n[0])||void 0===t?void 0:t.fulfilled)&&(null===(e=n[0])||void 0===e?void 0:e.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(this.sender&&this.activeServiceWorker&&function(){var t;return(null===(t=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _n();return await In(t,cn,"1"),await xn(t,cn),!0}catch(t){}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite((async()=>(await this._withRetries((n=>In(n,t,e))),this.localCache[t]=e,this.notifyServiceWorker(t))))}async _get(t){const e=await this._withRetries((e=>async function(t,e){const n=Tn(t,!1).get(e),r=await new kn(n).toPromise();return void 0===r?null:r.value}(e,t)));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite((async()=>(await this._withRetries((e=>xn(e,t))),delete this.localCache[t],this.notifyServiceWorker(t))))}async _poll(){const t=await this._withRetries((t=>{const e=Tn(t,!1).getAll();return new kn(e).toPromise()}));if(!t)return[];if(0!==this.pendingWrites)return[];const e=[],n=new Set;for(const{fbase_key:r,value:i}of t)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),e.push(r));for(const t of Object.keys(this.localCache))this.localCache[t]&&!n.has(t)&&(this.notifyListeners(t,null),e.push(t));return e}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const t of Array.from(n))t(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}An.type="LOCAL";const Sn=An;function Ln(t){return`__${t}${Math.floor(1e6*Math.random())}`}Ln("rcb"),new Xt(3e4,6e4);class Cn{constructor(t){this.providerId=Cn.PROVIDER_ID,this.auth=je(t)}verifyPhoneNumber(t,e){return async function(t,e,n){var r;const i=await n.verify();try{let o;if(qt("string"==typeof i,t,"argument-error"),qt("recaptcha"===n.type,t,"argument-error"),o="string"==typeof e?{phoneNumber:e}:e,"session"in o){const e=o.session;if("phoneNumber"in o){qt("enroll"===e.type,t,"internal-error");const n=await function(t,e){return ie(t,"POST","/v2/accounts/mfaEnrollment:start",re(t,e))}(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{qt("signin"===e.type,t,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;qt(n,t,"missing-multi-factor-info");const a=await function(t,e){return ie(t,"POST","/v2/accounts/mfaSignIn:start",re(t,e))}(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=await async function(t,e){return ie(t,"POST","/v1/accounts:sendVerificationCode",re(t,e))}(t,{phoneNumber:o.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}}(this.auth,t,M(e))}static credential(t,e){return ze._fromVerification(t,e)}static credentialFromResult(t){const e=t;return Cn.credentialFromTaggedObject(e)}static credentialFromError(t){return Cn.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?ze._fromTokenResponse(e,n):null}}Cn.PROVIDER_ID="phone",Cn.PHONE_SIGN_IN_METHOD="phone";class On extends Ve{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return He(t,this._buildIdpRequest())}_linkToIdToken(t,e){return He(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return He(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function Pn(t){return an(t.auth,new On(t),t.bypassAuthState)}function Nn(t){const{auth:e,user:n}=t;return qt(n,e,"internal-error"),async function(t,e,n=!1){var r;const{auth:i}=t,o="reauthenticate";try{const r=await fe(t,on(i,o,e,t),n);qt(r.idToken,i,"internal-error");const a=de(r.idToken);qt(a,i,"internal-error");const{sub:s}=a;return qt(t.uid===s,i,"user-mismatch"),en._forOperation(t,o,r)}catch(t){throw"auth/user-not-found"===(null===(r=t)||void 0===r?void 0:r.code)&&Vt(i,"user-mismatch"),t}}(n,new On(t),t.bypassAuthState)}async function Dn(t){const{auth:e,user:n}=t;return qt(n,e,"internal-error"),async function(t,e,n=!1){const r=await fe(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return en._forOperation(t,"link",r)}(n,new On(t),t.bypassAuthState)}class Mn{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise((async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(t){this.reject(t)}}))}async onAuthEvent(t){const{urlResponse:e,sessionId:n,postBody:r,tenantId:i,error:o,type:a}=t;if(o)return void this.reject(o);const s={auth:this.auth,requestUri:e,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(s))}catch(t){this.reject(t)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return Pn;case"linkViaPopup":case"linkViaRedirect":return Dn;case"reauthViaPopup":case"reauthViaRedirect":return Nn;default:Vt(this.auth,"internal-error")}}resolve(t){zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zt(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Rn=new Xt(2e3,1e4);class jn extends Mn{constructor(t,e,n,r,i){super(t,e,r,i),this.provider=n,this.authWindow=null,this.pollId=null,jn.currentPopupAction&&jn.currentPopupAction.cancel(),jn.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return qt(t,this.auth,"internal-error"),t}async onExecution(){zt(1===this.filter.length,"Popup operations only handle one event");const t=mn();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((t=>{this.reject(t)})),this.resolver._isIframeWebStorageSupported(this.auth,(t=>{t||this.reject(Gt(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Gt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jn.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Gt(this.auth,"popup-closed-by-user"))}),2e3):this.pollId=window.setTimeout(t,Rn.get())};t()}}jn.currentPopupAction=null;const Un=new Map;class Bn extends Mn{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}async execute(){let t=Un.get(this.auth._key());if(!t){try{const e=await async function(t,e){const n=function(t){return ke("pendingRedirect",t.config.apiKey,t.name)}(e),r=function(t){return $t(t._redirectPersistence)}(t);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(e)}catch(e){t=()=>Promise.reject(e)}Un.set(this.auth._key(),t)}return this.bypassAuthState||Un.set(this.auth._key(),(()=>Promise.resolve(null))),t()}async onAuthEvent(t){if("signInViaRedirect"===t.type)return super.onAuthEvent(t);if("unknown"!==t.type){if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Fn(t,e){Un.set(t._key(),e)}async function Vn(t,e,n=!1){const r=je(t),i=function(t,e){return e?$t(e):(qt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=new Bn(r,i,n),a=await o.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}class Gn{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))})),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qn(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!qn(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(Gt(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hn(t))}saveEventToCache(t){this.cachedEventUids.add(Hn(t)),this.lastProcessedEventTime=Date.now()}}function Hn(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter((t=>t)).join("-")}function qn({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}const Kn=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zn=/^https?/;function Wn(t){const e=Jt(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!zn.test(n))return!1;if(Kn.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const $n=new Xt(3e4,6e4);function Jn(){const t=vn().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let e=0;e<t.CP.length;e++)t.CP[e]=null}let Yn=null;function Qn(t){return Yn=Yn||function(t){return new Promise(((e,n)=>{var r,i,o,a;function s(){Jn(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Jn(),n(Gt(t,"network-request-failed"))},timeout:$n.get()})}if(null===(i=null===(r=vn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(o=vn().gapi)||void 0===o?void 0:o.load)){const e=Ln("iframefcb");return vn()[e]=()=>{gapi.load?s():n(Gt(t,"network-request-failed"))},(a=`https://apis.google.com/js/api.js?onload=${e}`,new Promise(((t,e)=>{const n=document.createElement("script");n.setAttribute("src",a),n.onload=t,n.onerror=t=>{const n=Gt("internal-error");n.customData=t,e(n)},n.type="text/javascript",n.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(n)}))).catch((t=>n(t)))}s()}})).catch((t=>{throw Yn=null,t}))}(t),Yn}const Xn=new Xt(5e3,15e3),Zn={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tr=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function er(t){const e=t.config;qt(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Zt(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:Tt},i=tr.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${C(r).slice(1)}`}const nr={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class rr{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function ir(t,e,n,r,i,o){qt(t.config.authDomain,t,"auth-domain-config-required"),qt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Tt,eventId:i};if(e instanceof Je){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",function(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(o||{}))a[t]=e}if(e instanceof Ye){const t=e.getScopes().filter((t=>""!==t));t.length>0&&(a.scopes=t.join(","))}t.tenantId&&(a.tid=t.tenantId);const s=a;for(const t of Object.keys(s))void 0===s[t]&&delete s[t];return`${function({config:t}){return t.emulator?Zt(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${C(s).slice(1)}`}const or="webStorageSupport",ar=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fn,this._completeRedirectFn=Vn,this._overrideRedirectResult=Fn}async _openPopup(t,e,n,r){var i;return zt(null===(i=this.eventManagers[t._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()"),function(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let s="";const c=Object.assign(Object.assign({},nr),{width:r.toString(),height:i.toString(),top:o,left:a}),u=b().toLowerCase();n&&(s=Ae(u)?"_blank":n),Ie(u)&&(e=e||"http://localhost",c.scrollbars="yes");const l=Object.entries(c).reduce(((t,[e,n])=>`${t}${e}=${n},`),"");if(function(t=b()){var e;return Pe(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(u)&&"_self"!==s)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",s),new rr(null);const h=window.open(e||"",s,l);qt(h,t,"popup-blocked");try{h.focus()}catch(t){}return new rr(h)}(t,ir(t,e,n,Jt(),r),mn())}async _openRedirect(t,e,n,r){var i;return await this._originValidation(t),i=ir(t,e,n,Jt(),r),vn().location.href=i,new Promise((()=>{}))}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(zt(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch((()=>{delete this.eventManagers[e]})),n}async initAndGetManager(t){const e=await async function(t){const e=await Qn(t),n=vn().gapi;return qt(n,t,"internal-error"),e.open({where:document.body,url:er(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Zn,dontclear:!0},(e=>new Promise((async(n,r)=>{await e.restyle({setHideOnLeave:!1});const i=Gt(t,"network-request-failed"),o=vn().setTimeout((()=>{r(i)}),Xn.get());function a(){vn().clearTimeout(o),n(e)}e.ping(a).then(a,(()=>{r(i)}))}))))}(t),n=new Gn(t);return e.register("authEvent",(e=>(qt(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:n.onEvent(e.authEvent)?"ACK":"ERROR"})),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:n},this.iframes[t._key()]=e,n}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(or,{type:or},(n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&e(!!i),Vt(t,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=async function(t){if(t.config.emulator)return;const{authorizedDomains:e}=await async function(t,e={}){return ie(t,"GET","/v1/projects",e)}(t);for(const t of e)try{if(Wn(t))return}catch(t){}Vt(t,"unauthorized-domain")}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return Ne()||xe()||Pe()}};var sr="@firebase/auth",cr="0.20.11";class ur{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged((e=>{var n;t((null===(n=e)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){qt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const lr=k("authIdTokenMaxAge")||300;let hr=null;function dr(t=It()){const e=wt(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function(t,e){const n=wt(t,"auth");if(n.isInitialized()){const t=n.getImmediate();if(S(n.getOptions(),null!=e?e:{}))return t;Vt(t,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:ar,persistence:[Sn,hn,fn]}),r=k("authTokenSyncURL");if(r){const t=(i=r,async t=>{const e=t&&await t.getIdTokenResult(),n=e&&((new Date).getTime()-Date.parse(e.issuedAtTime))/1e3;if(n&&n>lr)return;const r=null==e?void 0:e.token;hr!==r&&(hr=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(t,e,n){M(t).beforeAuthStateChanged(e,n)}(n,t,(()=>t(n.currentUser))),function(e,n,r,i){M(e).onIdTokenChanged((e=>t(e)),void 0,void 0)}(n)}var i;const o=E("auth");return o&&function(t,e,n){const r=je(t);qt(r._canInitEmulator,r,"emulator-config-failed"),qt(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=Be(e),{host:a,port:s}=function(t){const e=Be(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:Fe(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:Fe(e)}}}(e),c=null===s?"":`:${s}`;r.config.emulator={url:`${o}//${a}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:s,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${o}`),n}var fr;fr="Browser",bt(new R("auth",((t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),{apiKey:i,authDomain:o}=n.options;return((t,n)=>{qt(i&&!i.includes(":"),"invalid-api-key",{appName:t.name}),qt(!(null==o?void 0:o.includes(":")),"argument-error",{appName:t.name});const r={apiKey:i,authDomain:o,clientPlatform:fr,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:De(fr)},a=new Re(t,n,r);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map($t);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(a,e),a})(n,r)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((t,e,n)=>{t.getProvider("auth-internal").initialize()}))),bt(new R("auth-internal",(t=>(t=>new ur(t))(je(t.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),xt(sr,cr,void 0),xt(sr,cr,"esm2017");var pr=n(737),mr=n.n(pr);const gr={parseActiveUrlWithCombiner:function(){var t=window.location.hash.slice(1).toLowerCase(),e=this._urlSplitter(t);return this._urlCombiner(e)},parseActiveUrlWithoutCombiner:function(){var t=window.location.hash.slice(1).toLowerCase();return this._urlSplitter(t)},_urlSplitter:function(t){var e=t.split("/");return{resource:e[1]||null,id:e[2]||null,verb:e[3]||null}},_urlCombiner:function(t){return(t.resource?"/".concat(t.resource):"/")+(t.id?"/:id":"")+(t.verb?"/".concat(t.verb):"")}};function vr(t){return vr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},vr(t)}function yr(){yr=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==e&&n.call(v,o)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var c=l(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==vr(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function br(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function wr(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){br(o,r,i,a,s,"next",t)}function s(t){br(o,r,i,a,s,"throw",t)}a(void 0)}))}}const Er={apiKey:"AIzaSyAFKEQHQFce3ySGF-iuMxSLOJtWtPbj7KE",authDomain:"situkik-2e007.firebaseapp.com",projectId:"situkik-2e007",storageBucket:"situkik-2e007.appspot.com",messagingSenderId:"817452762071",appId:"1:817452762071:web:a21345c9de3307f628c192"};xt("firebase","9.14.0","app");const kr=function(t){_t(t.firebaseConfig)};function Tr(t){return Tr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(t)}function _r(){_r=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==e&&n.call(v,o)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var c=l(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Tr(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Ir(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function xr(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Ir(o,r,i,a,s,"next",t)}function s(t){Ir(o,r,i,a,s,"throw",t)}a(void 0)}))}}const Ar={render:function(){return xr(_r().mark((function t(){return _r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n    <div class="row row-cols-1 row-cols-md-2 g-4 mx-5 my-5" id="home">\n      <div class="col">\n        <div class="mx-auto">\n          <h1 style="color: #61764B" class="fw-bold">Si Tukik</h1>\n          <h2>Penyelamat Penyu</h2>\n          <p>Selamat datang di aplikasi <span class="fw-bold">Si Tukik!</span> Aplikasi <span class="fw-bold">Si Tukik</span> adalah aplikasi pendataan penyu yang digunakan pada konservasi penyu Pantai Pelangi Yogyakarta. Melalui aplikasi ini konservator bisa melakukan pendataan dan kamu sebagai masyarakat umum bisa melihat statistik datanya.</p>\n          \n          <div class="row row-cols-1 row-cols-md-2 g-4 mx-2 my-2 ">\n            <div class="col text-center">\n              <button type="button" class="btn filled-button px-5 rounded-4"><a href="#/statistik" class="linkButton">Mulai</a></button>\n            </div>\n            <div class="col text-center">\n              <button type="button" class="btn ghost-button px-5 rounded-4"><a href="#/about" class="linkButtonGhost">Informasi</a></button>\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class="col">\n        <div class="mx-auto text-center">\n          <img src="https://i.ibb.co/r27qZbZ/giorgia-doglioni-3-Ggb-Jx7hg14-unsplash.jpg" alt="Penyu-Sisik" border="0" class="img-fluid rounded-4" style="width: 25rem">\n        </div>\n      </div>\n    </div>\n    ');case 1:case"end":return t.stop()}}),t)})))()},afterRender:function(){return xr(_r().mark((function t(){return _r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}};var Sr,Lr="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==n.g?n.g:"undefined"!=typeof self?self:{},Cr={},Or=Or||{},Pr=Lr||self;function Nr(){}function Dr(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Mr(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Rr="closure_uid_"+(1e9*Math.random()>>>0),jr=0;function Ur(t,e,n){return t.call.apply(t.bind,arguments)}function Br(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Fr(t,e,n){return(Fr=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ur:Br).apply(null,arguments)}function Vr(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Gr(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Wb=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function Hr(){this.s=this.s,this.o=this.o}Hr.prototype.s=!1,Hr.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,Rr)&&t[Rr]||(t[Rr]=++jr)}(this)},Hr.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const qr=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Kr(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function zr(t,e){for(let e=1;e<arguments.length;e++){const n=arguments[e];if(Dr(n)){const e=t.length||0,r=n.length||0;t.length=e+r;for(let i=0;i<r;i++)t[e+i]=n[i]}else t.push(n)}}function Wr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Wr.prototype.h=function(){this.defaultPrevented=!0};var $r=function(){if(!Pr.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Pr.addEventListener("test",Nr,e),Pr.removeEventListener("test",Nr,e)}catch(t){}return t}();function Jr(t){return/^[\s\xa0]*$/.test(t)}var Yr=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function Qr(t,e){return t<e?-1:t>e?1:0}function Xr(){var t=Pr.navigator;return t&&(t=t.userAgent)?t:""}function Zr(t){return-1!=Xr().indexOf(t)}function ti(t){return ti[" "](t),t}ti[" "]=Nr;var ei,ni=Zr("Opera"),ri=Zr("Trident")||Zr("MSIE"),ii=Zr("Edge"),oi=ii||ri,ai=Zr("Gecko")&&!(-1!=Xr().toLowerCase().indexOf("webkit")&&!Zr("Edge"))&&!(Zr("Trident")||Zr("MSIE"))&&!Zr("Edge"),si=-1!=Xr().toLowerCase().indexOf("webkit")&&!Zr("Edge");function ci(){var t=Pr.document;return t?t.documentMode:void 0}t:{var ui="",li=function(){var t=Xr();return ai?/rv:([^\);]+)(\)|;)/.exec(t):ii?/Edge\/([\d\.]+)/.exec(t):ri?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):si?/WebKit\/(\S+)/.exec(t):ni?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(li&&(ui=li?li[1]:""),ri){var hi=ci();if(null!=hi&&hi>parseFloat(ui)){ei=String(hi);break t}}ei=ui}var di,fi={};function pi(){return function(t){var e=fi;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let t=0;const e=Yr(String(ei)).split("."),n=Yr("9").split("."),r=Math.max(e.length,n.length);for(let a=0;0==t&&a<r;a++){var i=e[a]||"",o=n[a]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;t=Qr(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||Qr(0==i[2].length,0==o[2].length)||Qr(i[2],o[2]),i=i[3],o=o[3]}while(0==t)}return 0<=t}()}()}Pr.document&&ri?di=ci()||parseInt(ei,10)||void 0:di=void 0;var mi=di;function gi(t,e){if(Wr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ai){t:{try{ti(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:vi[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&gi.X.h.call(this)}}Gr(gi,Wr);var vi={2:"touch",3:"pen",4:"mouse"};gi.prototype.h=function(){gi.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var yi="closure_listenable_"+(1e6*Math.random()|0),bi=0;function wi(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ha=i,this.key=++bi,this.ba=this.ea=!1}function Ei(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function ki(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Ti(t){const e={};for(const n in t)e[n]=t[n];return e}const _i="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ii(t,e){let n,r;for(let e=1;e<arguments.length;e++){for(n in r=arguments[e],r)t[n]=r[n];for(let e=0;e<_i.length;e++)n=_i[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function xi(t){this.src=t,this.g={},this.h=0}function Ai(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],o=qr(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Ei(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Si(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ba&&o.listener==e&&o.capture==!!n&&o.ha==r)return i}return-1}xi.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.g[o])||(t=this.g[o]=[],this.h++);var a=Si(t,e,r,i);return-1<a?(e=t[a],n||(e.ea=!1)):((e=new wi(e,this.src,o,!!r,i)).ea=n,t.push(e)),e};var Li="closure_lm_"+(1e6*Math.random()|0),Ci={};function Oi(t,e,n,r,i){if(r&&r.once)return Ni(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Oi(t,e[o],n,r,i);return null}return n=Fi(n),t&&t[yi]?t.N(e,n,Mr(r)?!!r.capture:!!r,i):Pi(t,e,n,!1,r,i)}function Pi(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=Mr(i)?!!i.capture:!!i,s=Ui(t);if(s||(t[Li]=s=new xi(t)),(n=s.add(e,n,r,a,o)).proxy)return n;if(r=function(){const t=ji;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)$r||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Ri(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function Ni(t,e,n,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Ni(t,e[o],n,r,i);return null}return n=Fi(n),t&&t[yi]?t.O(e,n,Mr(r)?!!r.capture:!!r,i):Pi(t,e,n,!0,r,i)}function Di(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)Di(t,e[o],n,r,i);else r=Mr(r)?!!r.capture:!!r,n=Fi(n),t&&t[yi]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Si(o=t.g[e],n,r,i))&&(Ei(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.g[e],t.h--))):t&&(t=Ui(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Si(e,n,r,i)),(n=-1<t?e[t]:null)&&Mi(n))}function Mi(t){if("number"!=typeof t&&t&&!t.ba){var e=t.src;if(e&&e[yi])Ai(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Ri(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Ui(e))?(Ai(n,t),0==n.h&&(n.src=null,e[Li]=null)):Ei(t)}}}function Ri(t){return t in Ci?Ci[t]:Ci[t]="on"+t}function ji(t,e){if(t.ba)t=!0;else{e=new gi(e,this);var n=t.listener,r=t.ha||t.src;t.ea&&Mi(t),t=n.call(r,e)}return t}function Ui(t){return(t=t[Li])instanceof xi?t:null}var Bi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Fi(t){return"function"==typeof t?t:(t[Bi]||(t[Bi]=function(e){return t.handleEvent(e)}),t[Bi])}function Vi(){Hr.call(this),this.i=new xi(this),this.P=this,this.I=null}function Gi(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new Wr(e,t);else if(e instanceof Wr)e.target=e.target||t;else{var i=e;Ii(e=new Wr(r,t),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var a=e.g=n[o];i=Hi(a,r,!0,e)&&i}if(i=Hi(a=e.g=t,r,!0,e)&&i,i=Hi(a,r,!1,e)&&i,n)for(o=0;o<n.length;o++)i=Hi(a=e.g=n[o],r,!1,e)&&i}function Hi(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.ba&&a.capture==n){var s=a.listener,c=a.ha||a.src;a.ea&&Ai(t.i,a),i=!1!==s.call(c,r)&&i}}return i&&!r.defaultPrevented}Gr(Vi,Hr),Vi.prototype[yi]=!0,Vi.prototype.removeEventListener=function(t,e,n,r){Di(this,t,e,n,r)},Vi.prototype.M=function(){if(Vi.X.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Ei(n[r]);delete e.g[t],e.h--}}this.I=null},Vi.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Vi.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var qi=Pr.JSON.stringify;function Ki(){var t=Xi;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var zi,Wi=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}((()=>new $i),(t=>t.reset()));class $i{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function Ji(t){Pr.setTimeout((()=>{throw t}),0)}function Yi(t,e){zi||function(){var t=Pr.Promise.resolve(void 0);zi=function(){t.then(Zi)}}(),Qi||(zi(),Qi=!0),Xi.add(t,e)}var Qi=!1,Xi=new class{constructor(){this.h=this.g=null}add(t,e){const n=Wi.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function Zi(){for(var t;t=Ki();){try{t.h.call(t.g)}catch(t){Ji(t)}var e=Wi;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Qi=!1}function to(t,e){Vi.call(this),this.h=t||1,this.g=e||Pr,this.j=Fr(this.lb,this),this.l=Date.now()}function eo(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}function no(t,e,n){if("function"==typeof t)n&&(t=Fr(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Fr(t.handleEvent,t)}return 2147483647<Number(e)?-1:Pr.setTimeout(t,e||0)}function ro(t){t.g=no((()=>{t.g=null,t.i&&(t.i=!1,ro(t))}),t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Gr(to,Vi),(Sr=to.prototype).ca=!1,Sr.R=null,Sr.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Gi(this,"tick"),this.ca&&(eo(this),this.start()))}},Sr.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Sr.M=function(){to.X.M.call(this),eo(this),delete this.g};class io extends Hr{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:ro(this)}M(){super.M(),this.g&&(Pr.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oo(t){Hr.call(this),this.h=t,this.g={}}Gr(oo,Hr);var ao=[];function so(t,e,n,r){Array.isArray(n)||(n&&(ao[0]=n.toString()),n=ao);for(var i=0;i<n.length;i++){var o=Oi(e,n[i],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}}function co(t){ki(t.g,(function(t,e){this.g.hasOwnProperty(e)&&Mi(t)}),t),t.g={}}function uo(){this.g=!0}function lo(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var a=1;a<i.length;a++)i[a]=""}}}return qi(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}oo.prototype.M=function(){oo.X.M.call(this),co(this)},oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},uo.prototype.Aa=function(){this.g=!1},uo.prototype.info=function(){};var ho={},fo=null;function po(){return fo=fo||new Vi}function mo(t){Wr.call(this,ho.Pa,t)}function go(t){const e=po();Gi(e,new mo(e))}function vo(t,e){Wr.call(this,ho.STAT_EVENT,t),this.stat=e}function yo(t){const e=po();Gi(e,new vo(e,t))}function bo(t,e){Wr.call(this,ho.Qa,t),this.size=e}function wo(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Pr.setTimeout((function(){t()}),e)}ho.Pa="serverreachability",Gr(mo,Wr),ho.STAT_EVENT="statevent",Gr(vo,Wr),ho.Qa="timingevent",Gr(bo,Wr);var Eo={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},ko={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function To(){}function _o(t){return t.h||(t.h=t.i())}function Io(){}To.prototype.h=null;var xo,Ao={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function So(){Wr.call(this,"d")}function Lo(){Wr.call(this,"c")}function Co(){}function Oo(t,e,n,r){this.l=t,this.j=e,this.m=n,this.U=r||1,this.S=new oo(this),this.O=No,t=oi?125:void 0,this.T=new to(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Po}function Po(){this.i=null,this.g="",this.h=!1}Gr(So,Wr),Gr(Lo,Wr),Gr(Co,To),Co.prototype.g=function(){return new XMLHttpRequest},Co.prototype.i=function(){return{}},xo=new Co;var No=45e3,Do={},Mo={};function Ro(t,e,n){t.K=1,t.v=ea(Yo(e)),t.s=n,t.P=!0,jo(t,null)}function jo(t,e){t.F=Date.now(),Vo(t),t.A=Yo(t.v);var n=t.A,r=t.U;Array.isArray(r)||(r=[String(r)]),pa(n.i,"t",r),t.C=0,n=t.l.H,t.h=new Po,t.g=fs(t.l,n?e:null,!t.s),0<t.N&&(t.L=new io(Fr(t.La,t,t.g),t.N)),so(t.S,t.g,"readystatechange",t.ib),e=t.H?Ti(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),go(),function(t,e,n,r,i,o){t.info((function(){if(t.g)if(o)for(var a="",s=o.split("&"),c=0;c<s.length;c++){var u=s[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");a=2<=h.length&&"type"==h[1]?a+(l+"=")+u+"&":a+(l+"=redacted&")}}else a=null;else a=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+a}))}(t.j,t.u,t.A,t.m,t.U,t.s)}function Uo(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Da}function Bo(t,e,n){let r,i=!0;for(;!t.I&&t.C<n.length;){if(r=Fo(t,n),r==Mo){4==e&&(t.o=4,yo(14),i=!1),lo(t.j,t.m,null,"[Incomplete Response]");break}if(r==Do){t.o=4,yo(15),lo(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}lo(t.j,t.m,r,null),zo(t,r)}Uo(t)&&r!=Mo&&r!=Do&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,yo(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.$&&(t.$=!0,(e=t.l).g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),os(e),e.K=!0,yo(11))):(lo(t.j,t.m,n,"[Invalid Chunked Response]"),Ko(t),qo(t))}function Fo(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Mo:(n=Number(e.substring(n,r)),isNaN(n)?Do:(r+=1)+n>e.length?Mo:(e=e.substr(r,n),t.C=r+n,e))}function Vo(t){t.V=Date.now()+t.O,Go(t,t.O)}function Go(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=wo(Fr(t.gb,t),e)}function Ho(t){t.B&&(Pr.clearTimeout(t.B),t.B=null)}function qo(t){0==t.l.G||t.I||cs(t.l,t)}function Ko(t){Ho(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,eo(t.T),co(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function zo(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||wa(n.h,t)))if(!t.J&&wa(n.h,t)&&3==n.G){try{var r=n.Fa.g.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.u){if(n.g){if(!(n.g.F+3e3<t.F))break t;ss(n),Qa(n)}is(n),yo(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=wo(Fr(n.cb,n),6e3));if(1>=ba(n.h)&&n.ja){try{n.ja()}catch(t){}n.ja=void 0}}else ls(n,11)}else if((t.J||n.g==t)&&ss(n),!Jr(e))for(i=n.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.T=u[0],u=u[1],2==n.G)if("c"==u[0]){n.I=u[1],n.ka=u[2];const e=u[3];null!=e&&(n.ma=e,n.j.info("VER="+n.ma));const i=u[4];null!=i&&(n.Ca=i,n.j.info("SVER="+n.Ca));const l=u[5];null!=l&&"number"==typeof l&&0<l&&(r=1.5*l,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var o=r.h;o.g||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Ea(o,o.h),o.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.za=t,ta(r.F,r.D,t))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-t.F,n.j.info("Handshake RTT: "+n.P+"ms"));var a=t;if((r=n).sa=ds(r,r.H?r.ka:null,r.V),a.J){ka(r.h,a);var s=a,c=r.J;c&&s.setTimeout(c),s.B&&(Ho(s),Vo(s)),r.g=a}else rs(r);0<n.i.length&&Za(n)}else"stop"!=u[0]&&"close"!=u[0]||ls(n,7);else 3==n.G&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?ls(n,7):Ya(n):"noop"!=u[0]&&n.l&&n.l.wa(u),n.A=0)}go()}catch(t){}}function Wo(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Dr(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function(t){if(t.oa&&"function"==typeof t.oa)return t.oa();if(!t.W||"function"!=typeof t.W){if("undefined"!=typeof Map&&t instanceof Map)return Array.from(t.keys());if(!("undefined"!=typeof Set&&t instanceof Set)){if(Dr(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function(t){if(t.W&&"function"==typeof t.W)return t.W();if("undefined"!=typeof Map&&t instanceof Map||"undefined"!=typeof Set&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(Dr(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(Sr=Oo.prototype).setTimeout=function(t){this.O=t},Sr.ib=function(t){t=t.target;const e=this.L;e&&3==qa(t)?e.l():this.La(t)},Sr.La=function(t){try{if(t==this.g)t:{const l=qa(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>l)&&(3!=l||oi||this.g&&(this.h.h||this.g.fa()||Ka(this.g)))){this.I||4!=l||7==e||go(),Ho(this);var n=this.g.aa();this.Y=n;e:if(Uo(this)){var r=Ka(this.g);t="";var i=r.length,o=4==qa(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ko(this),qo(this);var a="";break e}this.h.i=new Pr.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,a=this.h.g}else a=this.g.fa();if(this.i=200==n,function(t,e,n,r,i,o,a){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+a}))}(this.j,this.u,this.A,this.m,this.U,l,n),this.i){if(this.Z&&!this.J){e:{if(this.g){var s,c=this.g;if((s=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Jr(s)){var u=s;break e}}u=null}if(!(n=u)){this.i=!1,this.o=3,yo(12),Ko(this),qo(this);break t}lo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,zo(this,n)}this.P?(Bo(this,l,a),oi&&this.i&&3==l&&(so(this.S,this.T,"tick",this.hb),this.T.start())):(lo(this.j,this.m,a,null),zo(this,a)),4==l&&Ko(this),this.i&&!this.I&&(4==l?cs(this.l,this):(this.i=!1,Vo(this)))}else 400==n&&0<a.indexOf("Unknown SID")?(this.o=3,yo(12)):(this.o=0,yo(13)),Ko(this),qo(this)}}}catch(t){}},Sr.hb=function(){if(this.g){var t=qa(this.g),e=this.g.fa();this.C<e.length&&(Ho(this),Bo(this,t,e),this.i&&4!=t&&Vo(this))}},Sr.cancel=function(){this.I=!0,Ko(this)},Sr.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.j,this.A),2!=this.K&&(go(),yo(17)),Ko(this),this.o=2,qo(this)):Go(this,this.V-t)};var $o=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jo(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Jo){this.h=void 0!==e?e:t.h,Qo(this,t.j),this.s=t.s,this.g=t.g,Xo(this,t.m),this.l=t.l,e=t.i;var n=new la;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Zo(this,n),this.o=t.o}else t&&(n=String(t).match($o))?(this.h=!!e,Qo(this,n[1]||"",!0),this.s=na(n[2]||""),this.g=na(n[3]||"",!0),Xo(this,n[4]),this.l=na(n[5]||"",!0),Zo(this,n[6]||"",!0),this.o=na(n[7]||"")):(this.h=!!e,this.i=new la(null,this.h))}function Yo(t){return new Jo(t)}function Qo(t,e,n){t.j=n?na(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Xo(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Zo(t,e,n){e instanceof la?(t.i=e,function(t,e){e&&!t.j&&(ha(t),t.i=null,t.g.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(da(this,e),pa(this,n,t))}),t)),t.j=e}(t.i,t.h)):(n||(e=ra(e,ca)),t.i=new la(e,t.h))}function ta(t,e,n){t.i.set(e,n)}function ea(t){return ta(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function na(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ra(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,ia),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function ia(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Jo.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ra(e,oa,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ra(e,oa,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ra(n,"/"==n.charAt(0)?sa:aa,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ra(n,ua)),t.join("")};var oa=/[#\/\?@]/g,aa=/[#\?:]/g,sa=/[#\?]/g,ca=/[#\?@]/g,ua=/#/g;function la(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ha(t){t.g||(t.g=new Map,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function da(t,e){ha(t),e=ma(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function fa(t,e){return ha(t),e=ma(t,e),t.g.has(e)}function pa(t,e,n){da(t,e),0<n.length&&(t.i=null,t.g.set(ma(t,e),Kr(n)),t.h+=n.length)}function ma(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function ga(t){this.l=t||va,t=Pr.PerformanceNavigationTiming?0<(t=Pr.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Pr.g&&Pr.g.Ga&&Pr.g.Ga()&&Pr.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Sr=la.prototype).add=function(t,e){ha(this),this.i=null,t=ma(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},Sr.forEach=function(t,e){ha(this),this.g.forEach((function(n,r){n.forEach((function(n){t.call(e,n,r,this)}),this)}),this)},Sr.oa=function(){ha(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let t=0;t<i.length;t++)n.push(e[r])}return n},Sr.W=function(t){ha(this);let e=[];if("string"==typeof t)fa(this,t)&&(e=e.concat(this.g.get(ma(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},Sr.set=function(t,e){return ha(this),this.i=null,fa(this,t=ma(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},Sr.get=function(t,e){return t&&0<(t=this.W(t)).length?String(t[0]):e},Sr.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const o=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var i=o;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),t.push(i)}}return this.i=t.join("&")};var va=10;function ya(t){return!!t.h||!!t.g&&t.g.size>=t.j}function ba(t){return t.h?1:t.g?t.g.size:0}function wa(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ea(t,e){t.g?t.g.add(e):t.h=e}function ka(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ta(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Kr(t.i)}function _a(){}function Ia(){this.g=new _a}function xa(t,e,n){const r=n||"";try{Wo(t,(function(t,n){let i=t;Mr(t)&&(i=qi(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Aa(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}function Sa(t){this.l=t.ac||null,this.j=t.jb||!1}function La(t,e){Vi.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ca,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ga.prototype.cancel=function(){if(this.i=Ta(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},_a.prototype.stringify=function(t){return Pr.JSON.stringify(t,void 0)},_a.prototype.parse=function(t){return Pr.JSON.parse(t,void 0)},Gr(Sa,To),Sa.prototype.g=function(){return new La(this.l,this.j)},Sa.prototype.i=function(t){return function(){return t}}({}),Gr(La,Vi);var Ca=0;function Oa(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}function Pa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Na(t)}function Na(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(Sr=La.prototype).open=function(t,e){if(this.readyState!=Ca)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Na(this)},Sr.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Pr).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Sr.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Pa(this)),this.readyState=Ca},Sr.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Na(this)),this.g&&(this.readyState=3,Na(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(void 0!==Pr.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Oa(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))},Sr.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Pa(this):Na(this),3==this.readyState&&Oa(this)}},Sr.Va=function(t){this.g&&(this.response=this.responseText=t,Pa(this))},Sr.Ua=function(t){this.g&&(this.response=t,Pa(this))},Sr.ga=function(){this.g&&Pa(this)},Sr.setRequestHeader=function(t,e){this.v.append(t,e)},Sr.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},Sr.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(La.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var Da=Pr.JSON.parse;function Ma(t){Vi.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Ra,this.K=this.L=!1}Gr(Ma,Vi);var Ra="",ja=/^https?$/i,Ua=["POST","PUT"];function Ba(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Fa(t),Ga(t)}function Fa(t){t.D||(t.D=!0,Gi(t,"complete"),Gi(t,"error"))}function Va(t){if(t.h&&void 0!==Or&&(!t.C[1]||4!=qa(t)||2!=t.aa()))if(t.v&&4==qa(t))no(t.Ha,0,t);else if(Gi(t,"readystatechange"),4==qa(t)){t.h=!1;try{const s=t.aa();t:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===s){var i=String(t.H).match($o)[1]||null;if(!i&&Pr.self&&Pr.self.location){var o=Pr.self.location.protocol;i=o.substr(0,o.length-1)}r=!ja.test(i?i.toLowerCase():"")}n=r}if(n)Gi(t,"complete"),Gi(t,"success");else{t.m=6;try{var a=2<qa(t)?t.g.statusText:""}catch(t){a=""}t.j=a+" ["+t.aa()+"]",Fa(t)}}finally{Ga(t)}}}function Ga(t,e){if(t.g){Ha(t);const n=t.g,r=t.C[0]?Nr:null;t.g=null,t.C=null,e||Gi(t,"ready");try{n.onreadystatechange=r}catch(t){}}}function Ha(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Pr.clearTimeout(t.A),t.A=null)}function qa(t){return t.g?t.g.readyState:0}function Ka(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Ra:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(t){return null}}function za(t){let e="";return ki(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}function Wa(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=za(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):ta(t,e,n))}function $a(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ja(t){this.Ca=0,this.i=[],this.j=new uo,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=$a("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=$a("baseRetryDelayMs",5e3,t),this.bb=$a("retryDelaySeedMs",1e4,t),this.$a=$a("forwardChannelMaxRetries",2,t),this.ta=$a("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new ga(t&&t.concurrentRequestLimit),this.Fa=new Ia,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function Ya(t){if(Xa(t),3==t.G){var e=t.U++,n=Yo(t.F);ta(n,"SID",t.I),ta(n,"RID",e),ta(n,"TYPE","terminate"),es(t,n),(e=new Oo(t,t.j,e,void 0)).K=2,e.v=ea(Yo(n)),n=!1,Pr.navigator&&Pr.navigator.sendBeacon&&(n=Pr.navigator.sendBeacon(e.v.toString(),"")),!n&&Pr.Image&&((new Image).src=e.v,n=!0),n||(e.g=fs(e.l,null),e.g.da(e.v)),e.F=Date.now(),Vo(e)}hs(t)}function Qa(t){t.g&&(os(t),t.g.cancel(),t.g=null)}function Xa(t){Qa(t),t.u&&(Pr.clearTimeout(t.u),t.u=null),ss(t),t.h.cancel(),t.m&&("number"==typeof t.m&&Pr.clearTimeout(t.m),t.m=null)}function Za(t){ya(t.h)||t.m||(t.m=!0,Yi(t.Ja,t),t.C=0)}function ts(t,e){var n;n=e?e.m:t.U++;const r=Yo(t.F);ta(r,"SID",t.I),ta(r,"RID",n),ta(r,"AID",t.T),es(t,r),t.o&&t.s&&Wa(r,t.o,t.s),n=new Oo(t,t.j,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.i=e.D.concat(t.i)),e=ns(t,n,1e3),n.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Ea(t.h,n),Ro(n,r,e)}function es(t,e){t.ia&&ki(t.ia,(function(t,n){ta(e,n,t)})),t.l&&Wo({},(function(t,n){ta(e,n,t)}))}function ns(t,e,n){n=Math.min(t.i.length,n);var r=t.l?Fr(t.l.Ra,t.l,t):null;t:{var i=t.i;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=i[a].h;const s=i[a].g;if(n-=e,0>n)e=Math.max(0,i[a].h-100),o=!1;else try{xa(s,t,"req"+n+"_")}catch(t){r&&r(s)}}if(o){r=t.join("&");break t}}}return t=t.i.splice(0,n),e.D=t,r}function rs(t){t.g||t.u||(t.Z=1,Yi(t.Ia,t),t.A=0)}function is(t){return!(t.g||t.u||3<=t.A||(t.Z++,t.u=wo(Fr(t.Ia,t),us(t,t.A)),t.A++,0))}function os(t){null!=t.B&&(Pr.clearTimeout(t.B),t.B=null)}function as(t){t.g=new Oo(t,t.j,"rpc",t.Z),null===t.o&&(t.g.H=t.s),t.g.N=0;var e=Yo(t.sa);ta(e,"RID","rpc"),ta(e,"SID",t.I),ta(e,"CI",t.L?"0":"1"),ta(e,"AID",t.T),ta(e,"TYPE","xmlhttp"),es(t,e),t.o&&t.s&&Wa(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var n=t.g;t=t.ka,n.K=1,n.v=ea(Yo(e)),n.s=null,n.P=!0,jo(n,t)}function ss(t){null!=t.v&&(Pr.clearTimeout(t.v),t.v=null)}function cs(t,e){var n=null;if(t.g==e){ss(t),os(t),t.g=null;var r=2}else{if(!wa(t.h,e))return;n=e.D,ka(t.h,e),r=1}if(0!=t.G)if(t.pa=e.Y,e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Gi(r=po(),new bo(r,n)),Za(t)}else rs(t);else if(3==(i=e.o)||0==i&&0<t.pa||!(1==r&&function(t,e){return!(ba(t.h)>=t.h.j-(t.m?1:0)||(t.m?(t.i=e.D.concat(t.i),0):1==t.G||2==t.G||t.C>=(t.Za?0:t.$a)||(t.m=wo(Fr(t.Ja,t,e),us(t,t.C)),t.C++,0)))}(t,e)||2==r&&is(t)))switch(n&&0<n.length&&(e=t.h,e.i=e.i.concat(n)),i){case 1:ls(t,5);break;case 4:ls(t,10);break;case 3:ls(t,6);break;default:ls(t,2)}}function us(t,e){let n=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(n*=2),n*e}function ls(t,e){if(t.j.info("Error code "+e),2==e){var n=null;t.l&&(n=null);var r=Fr(t.kb,t);n||(n=new Jo("//www.google.com/images/cleardot.gif"),Pr.location&&"http"==Pr.location.protocol||Qo(n,"https"),ea(n)),function(t,e){const n=new uo;if(Pr.Image){const r=new Image;r.onload=Vr(Aa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Vr(Aa,n,r,"TestLoadImage: error",!1,e),r.onabort=Vr(Aa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Vr(Aa,n,r,"TestLoadImage: timeout",!1,e),Pr.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else yo(2);t.G=0,t.l&&t.l.va(e),hs(t),Xa(t)}function hs(t){if(t.G=0,t.la=[],t.l){const e=Ta(t.h);0==e.length&&0==t.i.length||(zr(t.la,e),zr(t.la,t.i),t.h.i.length=0,Kr(t.i),t.i.length=0),t.l.ua()}}function ds(t,e,n){var r=n instanceof Jo?Yo(n):new Jo(n,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),Xo(r,r.m);else{var i=Pr.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new Jo(null,void 0);r&&Qo(o,r),e&&(o.g=e),i&&Xo(o,i),n&&(o.l=n),r=o}return n=t.D,e=t.za,n&&e&&ta(r,n,e),ta(r,"VER",t.ma),es(t,r),r}function fs(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=n&&t.Da&&!t.ra?new Ma(new Sa({jb:!0})):new Ma(t.ra)).Ka(t.H),e}function ps(){}function ms(){if(ri&&!(10<=Number(mi)))throw Error("Environmental error: no available transport.")}function gs(t,e){Vi.call(this),this.g=new Ja(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!Jr(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Jr(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new bs(this)}function vs(t){So.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function ys(){Lo.call(this),this.status=1}function bs(t){this.g=t}(Sr=Ma.prototype).Ka=function(t){this.L=t},Sr.da=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xo.g(),this.C=this.u?_o(this.u):_o(xo),this.g.onreadystatechange=Fr(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(t){return void Ba(this,t)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const t of r.keys())n.set(t,r.get(t))}r=Array.from(n.keys()).find((t=>"content-type"==t.toLowerCase())),i=Pr.FormData&&t instanceof Pr.FormData,!(0<=qr(Ua,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[t,e]of n)this.g.setRequestHeader(t,e);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Ha(this),0<this.B&&((this.K=function(t){return ri&&pi()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fr(this.qa,this)):this.A=no(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(t){Ba(this,t)}},Sr.qa=function(){void 0!==Or&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gi(this,"timeout"),this.abort(8))},Sr.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Gi(this,"complete"),Gi(this,"abort"),Ga(this))},Sr.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ga(this,!0)),Ma.X.M.call(this)},Sr.Ha=function(){this.s||(this.F||this.v||this.l?Va(this):this.fb())},Sr.fb=function(){Va(this)},Sr.aa=function(){try{return 2<qa(this)?this.g.status:-1}catch(t){return-1}},Sr.fa=function(){try{return this.g?this.g.responseText:""}catch(t){return""}},Sr.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Da(e)}},Sr.Ea=function(){return this.m},Sr.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Sr=Ja.prototype).ma=8,Sr.G=1,Sr.Ja=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const i=new Oo(this,this.j,t,void 0);let o=this.s;if(this.S&&(o?(o=Ti(o),Ii(o,this.S)):o=this.S),null!==this.o||this.N||(i.H=o,o=null),this.O)t:{for(var e=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.i.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=ns(this,i,e),ta(n=Yo(this.F),"RID",t),ta(n,"CVER",22),this.D&&ta(n,"X-HTTP-Session-Id",this.D),es(this,n),o&&(this.N?e="headers="+encodeURIComponent(String(za(o)))+"&"+e:this.o&&Wa(n,this.o,o)),Ea(this.h,i),this.Ya&&ta(n,"TYPE","init"),this.O?(ta(n,"$req",e),ta(n,"SID","null"),i.Z=!0,Ro(i,n,null)):Ro(i,n,e),this.G=2}}else 3==this.G&&(t?ts(this,t):0==this.i.length||ya(this.h)||ts(this))},Sr.Ia=function(){if(this.u=null,as(this),this.$&&!(this.K||null==this.g||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=wo(Fr(this.eb,this),t)}},Sr.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,yo(10),Qa(this),as(this))},Sr.cb=function(){null!=this.v&&(this.v=null,Qa(this),is(this),yo(19))},Sr.kb=function(t){t?(this.j.info("Successfully pinged google.com"),yo(2)):(this.j.info("Failed to ping google.com"),yo(1))},(Sr=ps.prototype).xa=function(){},Sr.wa=function(){},Sr.va=function(){},Sr.ua=function(){},Sr.Ra=function(){},ms.prototype.g=function(t,e){return new gs(t,e)},Gr(gs,Vi),gs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;yo(0),t.V=e,t.ia=n||{},t.L=t.Y,t.F=ds(t,null,t.V),Za(t)},gs.prototype.close=function(){Ya(this.g)},gs.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=qi(t),t=n);e.i.push(new class{constructor(t,e){this.h=t,this.g=e}}(e.ab++,t)),3==e.G&&Za(e)},gs.prototype.M=function(){this.g.l=null,delete this.j,Ya(this.g),delete this.g,gs.X.M.call(this)},Gr(vs,So),Gr(ys,Lo),Gr(bs,ps),bs.prototype.xa=function(){Gi(this.g,"a")},bs.prototype.wa=function(t){Gi(this.g,new vs(t))},bs.prototype.va=function(t){Gi(this.g,new ys)},bs.prototype.ua=function(){Gi(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,gs.prototype.send=gs.prototype.u,gs.prototype.open=gs.prototype.m,gs.prototype.close=gs.prototype.close,Eo.NO_ERROR=0,Eo.TIMEOUT=8,Eo.HTTP_ERROR=6,ko.COMPLETE="complete",Io.EventType=Ao,Ao.OPEN="a",Ao.CLOSE="b",Ao.ERROR="c",Ao.MESSAGE="d",Vi.prototype.listen=Vi.prototype.N,Ma.prototype.listenOnce=Ma.prototype.O,Ma.prototype.getLastError=Ma.prototype.Oa,Ma.prototype.getLastErrorCode=Ma.prototype.Ea,Ma.prototype.getStatus=Ma.prototype.aa,Ma.prototype.getResponseJson=Ma.prototype.Sa,Ma.prototype.getResponseText=Ma.prototype.fa,Ma.prototype.send=Ma.prototype.da,Ma.prototype.setWithCredentials=Ma.prototype.Ka;var ws=Cr.createWebChannelTransport=function(){return new ms},Es=Cr.getStatEventTarget=function(){return po()},ks=Cr.ErrorCode=Eo,Ts=Cr.EventType=ko,_s=Cr.Event=ho,Is=Cr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},xs=Cr.FetchXmlHttpFactory=Sa,As=Cr.WebChannel=Io,Ss=Cr.XhrIo=Ma;const Ls="@firebase/firestore";class Cs{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Cs.UNAUTHENTICATED=new Cs(null),Cs.GOOGLE_CREDENTIALS=new Cs("google-credentials-uid"),Cs.FIRST_PARTY=new Cs("first-party-uid"),Cs.MOCK_USER=new Cs("mock-user");let Os="9.14.0";const Ps=new W("@firebase/firestore");function Ns(){return Ps.logLevel}function Ds(t,...e){if(Ps.logLevel<=V.DEBUG){const n=e.map(js);Ps.debug(`Firestore (${Os}): ${t}`,...n)}}function Ms(t,...e){if(Ps.logLevel<=V.ERROR){const n=e.map(js);Ps.error(`Firestore (${Os}): ${t}`,...n)}}function Rs(t,...e){if(Ps.logLevel<=V.WARN){const n=e.map(js);Ps.warn(`Firestore (${Os}): ${t}`,...n)}}function js(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}var e}function Us(t="Unexpected state"){const e=`FIRESTORE (${Os}) INTERNAL ASSERTION FAILED: `+t;throw Ms(e),new Error(e)}function Bs(t,e){t||Us()}function Fs(t,e){return t}const Vs={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Gs extends I{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hs{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class qs{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class Ks{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Cs.UNAUTHENTICATED)))}shutdown(){}}class zs{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class Ws{constructor(t){this.t=t,this.currentUser=Cs.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){let n=this.i;const r=t=>this.i!==n?(n=this.i,e(t)):Promise.resolve();let i=new Hs;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Hs,t.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const e=i;t.enqueueRetryable((async()=>{await e.promise,await r(this.currentUser)}))},a=t=>{Ds("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((t=>a(t))),setTimeout((()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(Ds("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Hs)}}),0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((e=>this.i!==t?(Ds("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Bs("string"==typeof e.accessToken),new qs(e.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Bs(null===t||"string"==typeof t),new Cs(t)}}class $s{constructor(t,e,n,r){this.h=t,this.l=e,this.m=n,this.g=r,this.type="FirstParty",this.user=Cs.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Bs(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.p.set("Authorization",t),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Js{constructor(t,e,n,r){this.h=t,this.l=e,this.m=n,this.g=r}getToken(){return Promise.resolve(new $s(this.h,this.l,this.m,this.g))}start(t,e){t.enqueueRetryable((()=>e(Cs.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ys{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Qs{constructor(t){this.T=t,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(t,e){const n=t=>{null!=t.error&&Ds("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${t.error.message}`);const n=t.token!==this.A;return this.A=t.token,Ds("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?e(t.token):Promise.resolve()};this.o=e=>{t.enqueueRetryable((()=>n(e)))};const r=t=>{Ds("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=t,this.appCheck.addTokenListener(this.o)};this.T.onInit((t=>r(t))),setTimeout((()=>{if(!this.appCheck){const t=this.T.getImmediate({optional:!0});t?r(t):Ds("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((t=>t?(Bs("string"==typeof t.token),this.A=t.token,new Ys(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Xs(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let e=0;e<t;e++)n[e]=Math.floor(256*Math.random());return n}class Zs{static R(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=Xs(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length))}return n}}function tc(t,e){return t<e?-1:t>e?1:0}function ec(t,e,n){return t.length===e.length&&t.every(((t,r)=>n(t,e[r])))}class nc{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Gs(Vs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Gs(Vs.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Gs(Vs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Gs(Vs.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return nc.fromMillis(Date.now())}static fromDate(t){return nc.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new nc(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?tc(this.nanoseconds,t.nanoseconds):tc(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class rc{constructor(t){this.timestamp=t}static fromTimestamp(t){return new rc(t)}static min(){return new rc(new nc(0,0))}static max(){return new rc(new nc(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class ic{constructor(t,e,n){void 0===e?e=0:e>t.length&&Us(),void 0===n?n=t.length-e:n>t.length-e&&Us(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===ic.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ic?t.forEach((t=>{e.push(t)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=void 0===t?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class oc extends ic{construct(t,e,n){return new oc(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new Gs(Vs.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter((t=>t.length>0)))}return new oc(e)}static emptyPath(){return new oc([])}}const ac=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sc extends ic{construct(t,e,n){return new sc(t,e,n)}static isValidIdentifier(t){return ac.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sc.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sc(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Gs(Vs.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let o=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new Gs(Vs.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new Gs(Vs.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(o=!o,r++):"."!==e||o?(n+=e,r++):(i(),r++)}if(i(),o)throw new Gs(Vs.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sc(e)}static emptyPath(){return new sc([])}}class cc{constructor(t){this.path=t}static fromPath(t){return new cc(oc.fromString(t))}static fromName(t){return new cc(oc.fromString(t).popFirst(5))}static empty(){return new cc(oc.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return null!==t&&0===oc.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return oc.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new cc(new oc(t.slice()))}}function uc(t){return new lc(t.readTime,t.key,-1)}class lc{constructor(t,e,n){this.readTime=t,this.documentKey=e,this.largestBatchId=n}static min(){return new lc(rc.min(),cc.empty(),-1)}static max(){return new lc(rc.max(),cc.empty(),-1)}}function hc(t,e){let n=t.readTime.compareTo(e.readTime);return 0!==n?n:(n=cc.comparator(t.documentKey,e.documentKey),0!==n?n:tc(t.largestBatchId,e.largestBatchId))}class dc{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fc(t){if(t.code!==Vs.FAILED_PRECONDITION||"The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab."!==t.message)throw t;Ds("LocalStore","Unexpectedly lost primary lease")}class pc{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Us(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new pc(((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof pc?e:pc.resolve(e)}catch(t){return pc.reject(t)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):pc.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):pc.reject(e)}static resolve(t){return new pc(((e,n)=>{e(t)}))}static reject(t){return new pc(((e,n)=>{n(t)}))}static waitFor(t){return new pc(((e,n)=>{let r=0,i=0,o=!1;t.forEach((t=>{++r,t.next((()=>{++i,o&&i===r&&e()}),(t=>n(t)))})),o=!0,i===r&&e()}))}static or(t){let e=pc.resolve(!1);for(const n of t)e=e.next((t=>t?pc.resolve(t):n()));return e}static forEach(t,e){const n=[];return t.forEach(((t,r)=>{n.push(e.call(this,t,r))})),this.waitFor(n)}static mapArray(t,e){return new pc(((n,r)=>{const i=t.length,o=new Array(i);let a=0;for(let s=0;s<i;s++){const c=s;e(t[c]).next((t=>{o[c]=t,++a,a===i&&n(o)}),(t=>r(t)))}}))}static doWhile(t,e){return new pc(((n,r)=>{const i=()=>{!0===t()?e().next((()=>{i()}),r):n()};i()}))}}function mc(t){return"IndexedDbTransactionError"===t.name}class gc{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.ut(t),this.ct=t=>e.writeSequenceNumber(t))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}function vc(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yc(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function bc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}gc.at=-1;class wc{constructor(t,e){this.comparator=t,this.root=e||kc.EMPTY}insert(t,e){return new wc(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,kc.BLACK,null,null))}remove(t){return new wc(this.comparator,this.root.remove(t,this.comparator).copy(null,null,kc.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,n)=>(t(e,n),!1)))}toString(){const t=[];return this.inorderTraversal(((e,n)=>(t.push(`${e}:${n}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ec(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ec(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ec(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ec(this.root,t,this.comparator,!0)}}class Ec{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,e&&r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class kc{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:kc.RED,this.left=null!=r?r:kc.EMPTY,this.right=null!=i?i:kc.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new kc(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return kc.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return kc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,kc.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,kc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Us();if(this.right.isRed())throw Us();const t=this.left.check();if(t!==this.right.check())throw Us();return t+(this.isRed()?0:1)}}kc.EMPTY=null,kc.RED=!0,kc.BLACK=!1,kc.EMPTY=new class{constructor(){this.size=0}get key(){throw Us()}get value(){throw Us()}get color(){throw Us()}get left(){throw Us()}get right(){throw Us()}copy(t,e,n,r,i){return this}insert(t,e,n){return new kc(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tc{constructor(t){this.comparator=t,this.data=new wc(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,n)=>(t(e),!1)))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new _c(this.data.getIterator())}getIteratorFrom(t){return new _c(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((t=>{e=e.add(t)})),e}isEqual(t){if(!(t instanceof Tc))return!1;if(this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Tc(this.comparator);return e.data=t,e}}class _c{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ic{constructor(t){this.fields=t,t.sort(sc.comparator)}static empty(){return new Ic([])}unionWith(t){let e=new Tc(sc.comparator);for(const t of this.fields)e=e.add(t);for(const n of t)e=e.add(n);return new Ic(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return ec(this.fields,t.fields,((t,e)=>t.isEqual(e)))}}class xc{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new xc(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new xc(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return tc(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xc.EMPTY_BYTE_STRING=new xc("");const Ac=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Sc(t){if(Bs(!!t),"string"==typeof t){let e=0;const n=Ac.exec(t);if(Bs(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Lc(t.seconds),nanos:Lc(t.nanos)}}function Lc(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Cc(t){return"string"==typeof t?xc.fromBase64String(t):xc.fromUint8Array(t)}function Oc(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Pc(t){const e=t.mapValue.fields.__previous_value__;return Oc(e)?Pc(e):e}function Nc(t){const e=Sc(t.mapValue.fields.__local_write_time__.timestampValue);return new nc(e.seconds,e.nanos)}class Dc{constructor(t,e,n,r,i,o,a,s){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=s}}class Mc{constructor(t,e){this.projectId=t,this.database=e||"(default)"}static empty(){return new Mc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Mc&&t.projectId===this.projectId&&t.database===this.database}}function Rc(t){return null==t}function jc(t){return 0===t&&1/t==-1/0}const Uc={fields:{__type__:{stringValue:"__max__"}}};function Bc(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oc(t)?4:Zc(t)?9007199254740991:10:Us()}function Fc(t,e){if(t===e)return!0;const n=Bc(t);if(n!==Bc(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Nc(t).isEqual(Nc(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Sc(t.timestampValue),r=Sc(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Cc(t.bytesValue).isEqual(Cc(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return Lc(t.geoPointValue.latitude)===Lc(e.geoPointValue.latitude)&&Lc(t.geoPointValue.longitude)===Lc(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return Lc(t.integerValue)===Lc(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=Lc(t.doubleValue),r=Lc(e.doubleValue);return n===r?jc(n)===jc(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return ec(t.arrayValue.values||[],e.arrayValue.values||[],Fc);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(vc(n)!==vc(r))return!1;for(const t in n)if(n.hasOwnProperty(t)&&(void 0===r[t]||!Fc(n[t],r[t])))return!1;return!0}(t,e);default:return Us()}}function Vc(t,e){return void 0!==(t.values||[]).find((t=>Fc(t,e)))}function Gc(t,e){if(t===e)return 0;const n=Bc(t),r=Bc(e);if(n!==r)return tc(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return tc(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=Lc(t.integerValue||t.doubleValue),r=Lc(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Hc(t.timestampValue,e.timestampValue);case 4:return Hc(Nc(t),Nc(e));case 5:return tc(t.stringValue,e.stringValue);case 6:return function(t,e){const n=Cc(t),r=Cc(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let t=0;t<n.length&&t<r.length;t++){const e=tc(n[t],r[t]);if(0!==e)return e}return tc(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=tc(Lc(t.latitude),Lc(e.latitude));return 0!==n?n:tc(Lc(t.longitude),Lc(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let t=0;t<n.length&&t<r.length;++t){const e=Gc(n[t],r[t]);if(e)return e}return tc(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){if(t===Uc&&e===Uc)return 0;if(t===Uc)return 1;if(e===Uc)return-1;const n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let t=0;t<r.length&&t<o.length;++t){const e=tc(r[t],o[t]);if(0!==e)return e;const a=Gc(n[r[t]],i[o[t]]);if(0!==a)return a}return tc(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Us()}}function Hc(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return tc(t,e);const n=Sc(t),r=Sc(e),i=tc(n.seconds,r.seconds);return 0!==i?i:tc(n.nanos,r.nanos)}function qc(t){return Kc(t)}function Kc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Sc(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Cc(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,cc.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=Kc(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${Kc(t.fields[i])}`;return n+"}"}(t.mapValue):Us();var e,n}function zc(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Wc(t){return!!t&&"integerValue"in t}function $c(t){return!!t&&"arrayValue"in t}function Jc(t){return!!t&&"nullValue"in t}function Yc(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Qc(t){return!!t&&"mapValue"in t}function Xc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yc(t.mapValue.fields,((t,n)=>e.mapValue.fields[t]=Xc(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Xc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function Zc(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}class tu{constructor(t){this.value=t}static empty(){return new tu({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Qc(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Xc(e)}setAll(t){let e=sc.emptyPath(),n={},r=[];t.forEach(((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Xc(t):r.push(i.lastSegment())}));const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());Qc(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Fc(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];Qc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){yc(e,((e,n)=>t[e]=n));for(const e of n)delete t[e]}clone(){return new tu(Xc(this.value))}}function eu(t){const e=[];return yc(t.fields,((t,n)=>{const r=new sc([t]);if(Qc(n)){const t=eu(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)})),new Ic(e)}class nu{constructor(t,e,n,r,i,o){this.key=t,this.documentType=e,this.version=n,this.readTime=r,this.data=i,this.documentState=o}static newInvalidDocument(t){return new nu(t,0,rc.min(),rc.min(),tu.empty(),0)}static newFoundDocument(t,e,n){return new nu(t,1,e,rc.min(),n,0)}static newNoDocument(t,e){return new nu(t,2,e,rc.min(),tu.empty(),0)}static newUnknownDocument(t,e){return new nu(t,3,e,rc.min(),tu.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=tu.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=tu.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=rc.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof nu&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new nu(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ru{constructor(t,e=null,n=[],r=[],i=null,o=null,a=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this.ht=null}}function iu(t,e=null,n=[],r=[],i=null,o=null,a=null){return new ru(t,e,n,r,i,o,a)}function ou(t){const e=Fs(t);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((t=>{return(e=t).field.canonicalString()+e.op.toString()+qc(e.value);var e})).join(","),t+="|ob:",t+=e.orderBy.map((t=>function(t){return t.field.canonicalString()+t.dir}(t))).join(","),Rc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((t=>qc(t))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((t=>qc(t))).join(",")),e.ht=t}return e.ht}function au(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!bu(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if(n=t.filters[i],r=e.filters[i],n.op!==r.op||!n.field.isEqual(r.field)||!Fc(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Eu(t.startAt,e.startAt)&&Eu(t.endAt,e.endAt)}function su(t){return cc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class cu extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.lt(t,e,n):new uu(t,e,n):"array-contains"===e?new fu(t,n):"in"===e?new pu(t,n):"not-in"===e?new mu(t,n):"array-contains-any"===e?new gu(t,n):new cu(t,e,n)}static lt(t,e,n){return"in"===e?new lu(t,n):new hu(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.ft(Gc(e,this.value)):null!==e&&Bc(this.value)===Bc(e)&&this.ft(Gc(e,this.value))}ft(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Us()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class uu extends cu{constructor(t,e,n){super(t,e,n),this.key=cc.fromName(n.referenceValue)}matches(t){const e=cc.comparator(t.key,this.key);return this.ft(e)}}class lu extends cu{constructor(t,e){super(t,"in",e),this.keys=du(0,e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class hu extends cu{constructor(t,e){super(t,"not-in",e),this.keys=du(0,e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function du(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((t=>cc.fromName(t.referenceValue)))}class fu extends cu{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return $c(e)&&Vc(e.arrayValue,this.value)}}class pu extends cu{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Vc(this.value.arrayValue,e)}}class mu extends cu{constructor(t,e){super(t,"not-in",e)}matches(t){if(Vc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Vc(this.value.arrayValue,e)}}class gu extends cu{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!$c(e)||!e.arrayValue.values)&&e.arrayValue.values.some((t=>Vc(this.value.arrayValue,t)))}}class vu{constructor(t,e){this.position=t,this.inclusive=e}}class yu{constructor(t,e="asc"){this.field=t,this.dir=e}}function bu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function wu(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],a=t.position[i];if(r=o.field.isKeyField()?cc.comparator(cc.fromName(a.referenceValue),n.key):Gc(a,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Eu(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fc(t.position[n],e.position[n]))return!1;return!0}class ku{constructor(t,e=null,n=[],r=[],i=null,o="F",a=null,s=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=s,this._t=null,this.wt=null,this.startAt,this.endAt}}function Tu(t){return new ku(t)}function _u(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.explicitOrderBy.length||1===t.explicitOrderBy.length&&t.explicitOrderBy[0].field.isKeyField())}function Iu(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function xu(t){for(const e of t.filters)if(e.dt())return e.field;return null}function Au(t){return null!==t.collectionGroup}function Su(t){const e=Fs(t);if(null===e._t){e._t=[];const t=xu(e),n=Iu(e);if(null!==t&&null===n)t.isKeyField()||e._t.push(new yu(t)),e._t.push(new yu(sc.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e._t.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new yu(sc.keyField(),t))}}}return e._t}function Lu(t){const e=Fs(t);if(!e.wt)if("F"===e.limitType)e.wt=iu(e.path,e.collectionGroup,Su(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const n of Su(e)){const e="desc"===n.dir?"asc":"desc";t.push(new yu(n.field,e))}const n=e.endAt?new vu(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new vu(e.startAt.position,e.startAt.inclusive):null;e.wt=iu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e.wt}function Cu(t,e,n){return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ou(t,e){return au(Lu(t),Lu(e))&&t.limitType===e.limitType}function Pu(t){return`${ou(Lu(t))}|lt:${t.limitType}`}function Nu(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map((t=>{return`${(e=t).field.canonicalString()} ${e.op} ${qc(e.value)}`;var e})).join(", ")}]`),Rc(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map((t=>function(t){return`${t.field.canonicalString()} (${t.dir})`}(t))).join(", ")}]`),t.startAt&&(e+=", startAt: ",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((t=>qc(t))).join(",")),t.endAt&&(e+=", endAt: ",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((t=>qc(t))).join(",")),`Target(${e})`}(Lu(t))}; limitType=${t.limitType})`}function Du(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):cc.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!function(t,e,n){const r=wu(t,e,n);return t.inclusive?r<=0:r<0}(t.startAt,Su(t),e)||t.endAt&&!function(t,e,n){const r=wu(t,e,n);return t.inclusive?r>=0:r>0}(t.endAt,Su(t),e))}(t,e)}function Mu(t){return(e,n)=>{let r=!1;for(const i of Su(t)){const t=Ru(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function Ru(t,e,n){const r=t.field.isKeyField()?cc.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?Gc(r,i):Us()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Us()}}function ju(t,e){if(t.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jc(e)?"-0":e}}function Uu(t){return{integerValue:""+t}}function Bu(t,e){return function(t){return"number"==typeof t&&Number.isInteger(t)&&!jc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}(e)?Uu(e):ju(t,e)}class Fu{constructor(){this._=void 0}}function Vu(t,e,n){return t instanceof qu?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Ku?zu(t,e):t instanceof Wu?$u(t,e):function(t,e){const n=Hu(t,e),r=Yu(n)+Yu(t.yt);return Wc(n)&&Wc(t.yt)?Uu(r):ju(t.It,r)}(t,e)}function Gu(t,e,n){return t instanceof Ku?zu(t,e):t instanceof Wu?$u(t,e):n}function Hu(t,e){return t instanceof Ju?Wc(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}class qu extends Fu{}class Ku extends Fu{constructor(t){super(),this.elements=t}}function zu(t,e){const n=Qu(e);for(const e of t.elements)n.some((t=>Fc(t,e)))||n.push(e);return{arrayValue:{values:n}}}class Wu extends Fu{constructor(t){super(),this.elements=t}}function $u(t,e){let n=Qu(e);for(const e of t.elements)n=n.filter((t=>!Fc(t,e)));return{arrayValue:{values:n}}}class Ju extends Fu{constructor(t,e){super(),this.It=t,this.yt=e}}function Yu(t){return Lc(t.integerValue||t.doubleValue)}function Qu(t){return $c(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Xu{constructor(t,e){this.field=t,this.transform=e}}class Zu{constructor(t,e){this.version=t,this.transformResults=e}}class tl{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new tl}static exists(t){return new tl(void 0,t)}static updateTime(t){return new tl(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function el(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class nl{}function rl(t,e){if(!t.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return t.isNoDocument()?new fl(t.key,tl.none()):new cl(t.key,t.data,tl.none());{const n=t.data,r=tu.empty();let i=new Tc(sc.comparator);for(let t of e.fields)if(!i.has(t)){let e=n.field(t);null===e&&t.length>1&&(t=t.popLast(),e=n.field(t)),null===e?r.delete(t):r.set(t,e),i=i.add(t)}return new ul(t.key,r,new Ic(i.toArray()),tl.none())}}function il(t,e,n){t instanceof cl?function(t,e,n){const r=t.value.clone(),i=hl(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof ul?function(t,e,n){if(!el(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=hl(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(ll(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):function(t,e,n){e.convertToNoDocument(n.version).setHasCommittedMutations()}(0,e,n)}function ol(t,e,n,r){return t instanceof cl?function(t,e,n,r){if(!el(t.precondition,e))return n;const i=t.value.clone(),o=dl(t.fieldTransforms,r,e);return i.setAll(o),e.convertToFoundDocument(e.version,i).setHasLocalMutations(),null}(t,e,n,r):t instanceof ul?function(t,e,n,r){if(!el(t.precondition,e))return n;const i=dl(t.fieldTransforms,r,e),o=e.data;return o.setAll(ll(t)),o.setAll(i),e.convertToFoundDocument(e.version,o).setHasLocalMutations(),null===n?null:n.unionWith(t.fieldMask.fields).unionWith(t.fieldTransforms.map((t=>t.field)))}(t,e,n,r):function(t,e,n){return el(t.precondition,e)?(e.convertToNoDocument(e.version).setHasLocalMutations(),null):n}(t,e,n)}function al(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=Hu(r.transform,t||null);null!=i&&(null===n&&(n=tu.empty()),n.set(r.field,i))}return n||null}function sl(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&ec(t,e,((t,e)=>function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Ku&&e instanceof Ku||t instanceof Wu&&e instanceof Wu?ec(t.elements,e.elements,Fc):t instanceof Ju&&e instanceof Ju?Fc(t.yt,e.yt):t instanceof qu&&e instanceof qu}(t.transform,e.transform)}(t,e)))}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class cl extends nl{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ul extends nl{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ll(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function hl(t,e,n){const r=new Map;Bs(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],a=o.transform,s=e.data.field(o.field);r.set(o.field,Gu(a,s,n[i]))}return r}function dl(t,e,n){const r=new Map;for(const i of t){const t=i.transform,o=n.data.field(i.field);r.set(i.field,Vu(t,o,e))}return r}class fl extends nl{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class pl extends nl{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ml{constructor(t){this.count=t}}var gl,vl;function yl(t){if(void 0===t)return Ms("GRPC error has no .code"),Vs.UNKNOWN;switch(t){case gl.OK:return Vs.OK;case gl.CANCELLED:return Vs.CANCELLED;case gl.UNKNOWN:return Vs.UNKNOWN;case gl.DEADLINE_EXCEEDED:return Vs.DEADLINE_EXCEEDED;case gl.RESOURCE_EXHAUSTED:return Vs.RESOURCE_EXHAUSTED;case gl.INTERNAL:return Vs.INTERNAL;case gl.UNAVAILABLE:return Vs.UNAVAILABLE;case gl.UNAUTHENTICATED:return Vs.UNAUTHENTICATED;case gl.INVALID_ARGUMENT:return Vs.INVALID_ARGUMENT;case gl.NOT_FOUND:return Vs.NOT_FOUND;case gl.ALREADY_EXISTS:return Vs.ALREADY_EXISTS;case gl.PERMISSION_DENIED:return Vs.PERMISSION_DENIED;case gl.FAILED_PRECONDITION:return Vs.FAILED_PRECONDITION;case gl.ABORTED:return Vs.ABORTED;case gl.OUT_OF_RANGE:return Vs.OUT_OF_RANGE;case gl.UNIMPLEMENTED:return Vs.UNIMPLEMENTED;case gl.DATA_LOSS:return Vs.DATA_LOSS;default:return Us()}}(vl=gl||(gl={}))[vl.OK=0]="OK",vl[vl.CANCELLED=1]="CANCELLED",vl[vl.UNKNOWN=2]="UNKNOWN",vl[vl.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vl[vl.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vl[vl.NOT_FOUND=5]="NOT_FOUND",vl[vl.ALREADY_EXISTS=6]="ALREADY_EXISTS",vl[vl.PERMISSION_DENIED=7]="PERMISSION_DENIED",vl[vl.UNAUTHENTICATED=16]="UNAUTHENTICATED",vl[vl.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vl[vl.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vl[vl.ABORTED=10]="ABORTED",vl[vl.OUT_OF_RANGE=11]="OUT_OF_RANGE",vl[vl.UNIMPLEMENTED=12]="UNIMPLEMENTED",vl[vl.INTERNAL=13]="INTERNAL",vl[vl.UNAVAILABLE=14]="UNAVAILABLE",vl[vl.DATA_LOSS=15]="DATA_LOSS";class bl{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[e,r]of n)if(this.equalsFn(e,t))return r}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return this.inner[n]=[[t,e]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return void(r[n]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(t){yc(this.inner,((e,n)=>{for(const[e,r]of n)t(e,r)}))}isEmpty(){return bc(this.inner)}size(){return this.innerSize}}const wl=new wc(cc.comparator);function El(){return wl}const kl=new wc(cc.comparator);function Tl(...t){let e=kl;for(const n of t)e=e.insert(n.key,n);return e}function _l(t){let e=kl;return t.forEach(((t,n)=>e=e.insert(t,n.overlayedDocument))),e}function Il(){return Al()}function xl(){return Al()}function Al(){return new bl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const Sl=new wc(cc.comparator),Ll=new Tc(cc.comparator);function Cl(...t){let e=Ll;for(const n of t)e=e.add(n);return e}const Ol=new Tc(tc);function Pl(){return Ol}class Nl{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e,n){const r=new Map;return r.set(t,Dl.createSynthesizedTargetChangeForCurrentChange(t,e,n)),new Nl(rc.min(),r,Pl(),El(),Cl())}}class Dl{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e,n){return new Dl(n,e,Cl(),Cl(),Cl())}}class Ml{constructor(t,e,n,r){this.Tt=t,this.removedTargetIds=e,this.key=n,this.Et=r}}class Rl{constructor(t,e){this.targetId=t,this.At=e}}class jl{constructor(t,e,n=xc.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class Ul{constructor(){this.Rt=0,this.bt=Vl(),this.Pt=xc.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(t){t.approximateByteSize()>0&&(this.Vt=!0,this.Pt=t)}xt(){let t=Cl(),e=Cl(),n=Cl();return this.bt.forEach(((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Us()}})),new Dl(this.Pt,this.vt,t,e,n)}Nt(){this.Vt=!1,this.bt=Vl()}kt(t,e){this.Vt=!0,this.bt=this.bt.insert(t,e)}Ot(t){this.Vt=!0,this.bt=this.bt.remove(t)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Bl{constructor(t){this.Bt=t,this.Lt=new Map,this.Ut=El(),this.qt=Fl(),this.Kt=new Tc(tc)}Gt(t){for(const e of t.Tt)t.Et&&t.Et.isFoundDocument()?this.Qt(e,t.Et):this.jt(e,t.key,t.Et);for(const e of t.removedTargetIds)this.jt(e,t.key,t.Et)}Wt(t){this.forEachTarget(t,(e=>{const n=this.zt(e);switch(t.state){case 0:this.Ht(e)&&n.Ct(t.resumeToken);break;case 1:n.Ft(),n.St||n.Nt(),n.Ct(t.resumeToken);break;case 2:n.Ft(),n.St||this.removeTarget(e);break;case 3:this.Ht(e)&&(n.$t(),n.Ct(t.resumeToken));break;case 4:this.Ht(e)&&(this.Jt(e),n.Ct(t.resumeToken));break;default:Us()}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.Lt.forEach(((t,n)=>{this.Ht(n)&&e(n)}))}Yt(t){const e=t.targetId,n=t.At.count,r=this.Xt(e);if(r){const t=r.target;if(su(t))if(0===n){const n=new cc(t.path);this.jt(e,n,nu.newNoDocument(n,rc.min()))}else Bs(1===n);else this.Zt(e)!==n&&(this.Jt(e),this.Kt=this.Kt.add(e))}}te(t){const e=new Map;this.Lt.forEach(((n,r)=>{const i=this.Xt(r);if(i){if(n.current&&su(i.target)){const e=new cc(i.target.path);null!==this.Ut.get(e)||this.ee(r,e)||this.jt(r,e,nu.newNoDocument(e,t))}n.Dt&&(e.set(r,n.xt()),n.Nt())}}));let n=Cl();this.qt.forEach(((t,e)=>{let r=!0;e.forEachWhile((t=>{const e=this.Xt(t);return!e||2===e.purpose||(r=!1,!1)})),r&&(n=n.add(t))})),this.Ut.forEach(((e,n)=>n.setReadTime(t)));const r=new Nl(t,e,this.Kt,this.Ut,n);return this.Ut=El(),this.qt=Fl(),this.Kt=new Tc(tc),r}Qt(t,e){if(!this.Ht(t))return;const n=this.ee(t,e.key)?2:0;this.zt(t).kt(e.key,n),this.Ut=this.Ut.insert(e.key,e),this.qt=this.qt.insert(e.key,this.ne(e.key).add(t))}jt(t,e,n){if(!this.Ht(t))return;const r=this.zt(t);this.ee(t,e)?r.kt(e,1):r.Ot(e),this.qt=this.qt.insert(e,this.ne(e).delete(t)),n&&(this.Ut=this.Ut.insert(e,n))}removeTarget(t){this.Lt.delete(t)}Zt(t){const e=this.zt(t).xt();return this.Bt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Mt(t){this.zt(t).Mt()}zt(t){let e=this.Lt.get(t);return e||(e=new Ul,this.Lt.set(t,e)),e}ne(t){let e=this.qt.get(t);return e||(e=new Tc(tc),this.qt=this.qt.insert(t,e)),e}Ht(t){const e=null!==this.Xt(t);return e||Ds("WatchChangeAggregator","Detected inactive target",t),e}Xt(t){const e=this.Lt.get(t);return e&&e.St?null:this.Bt.se(t)}Jt(t){this.Lt.set(t,new Ul),this.Bt.getRemoteKeysForTarget(t).forEach((e=>{this.jt(t,e,null)}))}ee(t,e){return this.Bt.getRemoteKeysForTarget(t).has(e)}}function Fl(){return new wc(cc.comparator)}function Vl(){return new wc(cc.comparator)}const Gl={asc:"ASCENDING",desc:"DESCENDING"},Hl={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ql{constructor(t,e){this.databaseId=t,this.gt=e}}function Kl(t,e){return t.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zl(t,e){return t.gt?e.toBase64():e.toUint8Array()}function Wl(t,e){return Kl(t,e.toTimestamp())}function $l(t){return Bs(!!t),rc.fromTimestamp(function(t){const e=Sc(t);return new nc(e.seconds,e.nanos)}(t))}function Jl(t,e){return function(t){return new oc(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).canonicalString()}function Yl(t){const e=oc.fromString(t);return Bs(ph(e)),e}function Ql(t,e){return Jl(t.databaseId,e.path)}function Xl(t,e){const n=Yl(e);if(n.get(1)!==t.databaseId.projectId)throw new Gs(Vs.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Gs(Vs.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new cc(eh(n))}function Zl(t,e){return Jl(t.databaseId,e)}function th(t){return new oc(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function eh(t){return Bs(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function nh(t,e,n){return{name:Ql(t,e),fields:n.value.mapValue.fields}}function rh(t,e){return{documents:[Zl(t,e.path)]}}function ih(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Zl(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Zl(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0===t.length)return;const e=t.map((t=>function(t){if("=="===t.op){if(Yc(t.value))return{unaryFilter:{field:uh(t.field),op:"IS_NAN"}};if(Jc(t.value))return{unaryFilter:{field:uh(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Yc(t.value))return{unaryFilter:{field:uh(t.field),op:"IS_NOT_NAN"}};if(Jc(t.value))return{unaryFilter:{field:uh(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uh(t.field),op:ch(t.op),value:t.value}}}(t)));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);i&&(n.structuredQuery.where=i);const o=function(t){if(0!==t.length)return t.map((t=>function(t){return{field:uh(t.field),direction:sh(t.dir)}}(t)))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=function(t,e){return t.gt||Rc(e)?e:{value:e}}(t,e.limit);var s;return null!==a&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt={before:(s=e.startAt).inclusive,values:s.position}),e.endAt&&(n.structuredQuery.endAt=function(t){return{before:!t.inclusive,values:t.position}}(e.endAt)),n}function oh(t){let e=function(t){const e=Yl(t);return 4===e.length?oc.emptyPath():eh(e)}(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Bs(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let o=[];n.where&&(o=ah(n.where));let a=[];n.orderBy&&(a=n.orderBy.map((t=>function(t){return new yu(lh(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t))));let s=null;n.limit&&(s=function(t){let e;return e="object"==typeof t?t.value:t,Rc(e)?null:e}(n.limit));let c=null;n.startAt&&(c=function(t){const e=!!t.before,n=t.values||[];return new vu(n,e)}(n.startAt));let u=null;return n.endAt&&(u=function(t){const e=!t.before,n=t.values||[];return new vu(n,e)}(n.endAt)),function(t,e,n,r,i,o,a,s){return new ku(t,e,n,r,i,o,a,s)}(e,i,a,o,s,"F",c,u)}function ah(t){return t?void 0!==t.unaryFilter?[dh(t)]:void 0!==t.fieldFilter?[hh(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map((t=>ah(t))).reduce(((t,e)=>t.concat(e))):Us():[]}function sh(t){return Gl[t]}function ch(t){return Hl[t]}function uh(t){return{fieldPath:t.canonicalString()}}function lh(t){return sc.fromServerFormat(t.fieldPath)}function hh(t){return cu.create(lh(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Us()}}(t.fieldFilter.op),t.fieldFilter.value)}function dh(t){switch(t.unaryFilter.op){case"IS_NAN":const e=lh(t.unaryFilter.field);return cu.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=lh(t.unaryFilter.field);return cu.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=lh(t.unaryFilter.field);return cu.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=lh(t.unaryFilter.field);return cu.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Us()}}function fh(t){const e=[];return t.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function ph(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}class mh{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let e=0;e<this.mutations.length;e++){const r=this.mutations[e];r.key.isEqual(t.key)&&il(r,t,n[e])}}applyToLocalView(t,e){for(const n of this.baseMutations)n.key.isEqual(t.key)&&(e=ol(n,t,e,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(t.key)&&(e=ol(n,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const n=xl();return this.mutations.forEach((r=>{const i=t.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=e.has(r.key)?null:a;const s=rl(o,a);null!==s&&n.set(r.key,s),o.isValidDocument()||o.convertToNoDocument(rc.min())})),n}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Cl())}isEqual(t){return this.batchId===t.batchId&&ec(this.mutations,t.mutations,((t,e)=>sl(t,e)))&&ec(this.baseMutations,t.baseMutations,((t,e)=>sl(t,e)))}}class gh{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Bs(t.mutations.length===n.length);let r=Sl;const i=t.mutations;for(let t=0;t<i.length;t++)r=r.insert(i[t].key,n[t].version);return new gh(t,e,n,r)}}class vh{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return null!==t&&this.mutation===t.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class yh{constructor(t,e,n,r,i=rc.min(),o=rc.min(),a=xc.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(t){return new yh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new yh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new yh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class bh{constructor(t){this.re=t}}function wh(t){const e=oh({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Cu(e,e.limit,"L"):e}class Eh{constructor(){}ce(t,e){this.ae(t,e),e.he()}ae(t,e){if("nullValue"in t)this.le(e,5);else if("booleanValue"in t)this.le(e,10),e.fe(t.booleanValue?1:0);else if("integerValue"in t)this.le(e,15),e.fe(Lc(t.integerValue));else if("doubleValue"in t){const n=Lc(t.doubleValue);isNaN(n)?this.le(e,13):(this.le(e,15),jc(n)?e.fe(0):e.fe(n))}else if("timestampValue"in t){const n=t.timestampValue;this.le(e,20),"string"==typeof n?e.de(n):(e.de(`${n.seconds||""}`),e.fe(n.nanos||0))}else if("stringValue"in t)this._e(t.stringValue,e),this.we(e);else if("bytesValue"in t)this.le(e,30),e.me(Cc(t.bytesValue)),this.we(e);else if("referenceValue"in t)this.ge(t.referenceValue,e);else if("geoPointValue"in t){const n=t.geoPointValue;this.le(e,45),e.fe(n.latitude||0),e.fe(n.longitude||0)}else"mapValue"in t?Zc(t)?this.le(e,Number.MAX_SAFE_INTEGER):(this.ye(t.mapValue,e),this.we(e)):"arrayValue"in t?(this.pe(t.arrayValue,e),this.we(e)):Us()}_e(t,e){this.le(e,25),this.Ie(t,e)}Ie(t,e){e.de(t)}ye(t,e){const n=t.fields||{};this.le(e,55);for(const t of Object.keys(n))this._e(t,e),this.ae(n[t],e)}pe(t,e){const n=t.values||[];this.le(e,50);for(const t of n)this.ae(t,e)}ge(t,e){this.le(e,37),cc.fromName(t).path.forEach((t=>{this.le(e,60),this.Ie(t,e)}))}le(t,e){t.fe(e)}we(t){t.fe(2)}}Eh.Te=new Eh;class kh{constructor(){this.Ye=new Th}addToCollectionParentIndex(t,e){return this.Ye.add(e),pc.resolve()}getCollectionParents(t,e){return pc.resolve(this.Ye.getEntries(e))}addFieldIndex(t,e){return pc.resolve()}deleteFieldIndex(t,e){return pc.resolve()}getDocumentsMatchingTarget(t,e){return pc.resolve(null)}getIndexType(t,e){return pc.resolve(0)}getFieldIndexes(t,e){return pc.resolve([])}getNextCollectionGroupToUpdate(t){return pc.resolve(null)}getMinOffset(t,e){return pc.resolve(lc.min())}getMinOffsetFromCollectionGroup(t,e){return pc.resolve(lc.min())}updateCollectionGroup(t,e,n){return pc.resolve()}updateIndexEntries(t,e){return pc.resolve()}}class Th{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Tc(oc.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Tc(oc.comparator)).toArray()}}new Uint8Array(0);class _h{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new _h(t,_h.DEFAULT_COLLECTION_PERCENTILE,_h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_h.DEFAULT_COLLECTION_PERCENTILE=10,_h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_h.DEFAULT=new _h(41943040,_h.DEFAULT_COLLECTION_PERCENTILE,_h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_h.DISABLED=new _h(-1,0,0);class Ih{constructor(t){this.bn=t}next(){return this.bn+=2,this.bn}static Pn(){return new Ih(0)}static vn(){return new Ih(-1)}}class xh{constructor(){this.changes=new bl((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,nu.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?pc.resolve(n):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Ah{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Sh{constructor(t,e,n,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=n,this.indexManager=r}getDocument(t,e){let n=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(n=r,this.getBaseDocument(t,e,n)))).next((t=>(null!==n&&ol(n.mutation,t,Ic.empty(),nc.now()),t)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.getLocalViewOfDocuments(t,e,Cl()).next((()=>e))))}getLocalViewOfDocuments(t,e,n=Cl()){const r=Il();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,n).next((t=>{let e=Tl();return t.forEach(((t,n)=>{e=e.insert(t,n.overlayedDocument)})),e}))))}getOverlayedDocuments(t,e){const n=Il();return this.populateOverlays(t,n,e).next((()=>this.computeViews(t,e,n,Cl())))}populateOverlays(t,e,n){const r=[];return n.forEach((t=>{e.has(t)||r.push(t)})),this.documentOverlayCache.getOverlays(t,r).next((t=>{t.forEach(((t,n)=>{e.set(t,n)}))}))}computeViews(t,e,n,r){let i=El();const o=Al(),a=Al();return e.forEach(((t,e)=>{const a=n.get(e.key);r.has(e.key)&&(void 0===a||a.mutation instanceof ul)?i=i.insert(e.key,e):void 0!==a&&(o.set(e.key,a.mutation.getFieldMask()),ol(a.mutation,e,a.mutation.getFieldMask(),nc.now()))})),this.recalculateAndSaveOverlays(t,i).next((t=>(t.forEach(((t,e)=>o.set(t,e))),e.forEach(((t,e)=>{var n;return a.set(t,new Ah(e,null!==(n=o.get(t))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(t,e){const n=Al();let r=new wc(((t,e)=>t-e)),i=Cl();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((t=>{for(const i of t)i.keys().forEach((t=>{const o=e.get(t);if(null===o)return;let a=n.get(t)||Ic.empty();a=i.applyToLocalView(o,a),n.set(t,a);const s=(r.get(i.batchId)||Cl()).add(t);r=r.insert(i.batchId,s)}))})).next((()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),s=r.key,c=r.value,u=xl();c.forEach((t=>{if(!i.has(t)){const r=rl(e.get(t),n.get(t));null!==r&&u.set(t,r),i=i.add(t)}})),o.push(this.documentOverlayCache.saveOverlays(t,s,u))}return pc.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((e=>this.recalculateAndSaveOverlays(t,e)))}getDocumentsMatchingQuery(t,e,n){return function(t){return cc.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):Au(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,n):this.getDocumentsMatchingCollectionQuery(t,e,n)}getNextDocuments(t,e,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,n.largestBatchId,r-i.size):pc.resolve(Il());let a=-1,s=i;return o.next((e=>pc.forEach(e,((e,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(e)?pc.resolve():this.getBaseDocument(t,e,n).next((t=>{s=s.insert(e,t)}))))).next((()=>this.populateOverlays(t,e,i))).next((()=>this.computeViews(t,s,e,Cl()))).next((t=>({batchId:a,changes:_l(t)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new cc(e)).next((t=>{let e=Tl();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e}))}getDocumentsMatchingCollectionGroupQuery(t,e,n){const r=e.collectionGroup;let i=Tl();return this.indexManager.getCollectionParents(t,r).next((o=>pc.forEach(o,(o=>{const a=function(t,e){return new ku(e,null,t.explicitOrderBy.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(r));return this.getDocumentsMatchingCollectionQuery(t,a,n).next((t=>{t.forEach(((t,e)=>{i=i.insert(t,e)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(t,e,n){let r;return this.remoteDocumentCache.getAllFromCollection(t,e.path,n).next((i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(t,e.path,n.largestBatchId)))).next((t=>{t.forEach(((t,e)=>{const n=e.getKey();null===r.get(n)&&(r=r.insert(n,nu.newInvalidDocument(n)))}));let n=Tl();return r.forEach(((r,i)=>{const o=t.get(r);void 0!==o&&ol(o.mutation,i,Ic.empty(),nc.now()),Du(e,i)&&(n=n.insert(r,i))})),n}))}getBaseDocument(t,e,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(t,e):pc.resolve(nu.newInvalidDocument(e))}}class Lh{constructor(t){this.It=t,this.Zn=new Map,this.ts=new Map}getBundleMetadata(t,e){return pc.resolve(this.Zn.get(e))}saveBundleMetadata(t,e){var n;return this.Zn.set(e.id,{id:(n=e).id,version:n.version,createTime:$l(n.createTime)}),pc.resolve()}getNamedQuery(t,e){return pc.resolve(this.ts.get(e))}saveNamedQuery(t,e){return this.ts.set(e.name,function(t){return{name:t.name,query:wh(t.bundledQuery),readTime:$l(t.readTime)}}(e)),pc.resolve()}}class Ch{constructor(){this.overlays=new wc(cc.comparator),this.es=new Map}getOverlay(t,e){return pc.resolve(this.overlays.get(e))}getOverlays(t,e){const n=Il();return pc.forEach(e,(e=>this.getOverlay(t,e).next((t=>{null!==t&&n.set(e,t)})))).next((()=>n))}saveOverlays(t,e,n){return n.forEach(((n,r)=>{this.ue(t,e,r)})),pc.resolve()}removeOverlaysForBatchId(t,e,n){const r=this.es.get(n);return void 0!==r&&(r.forEach((t=>this.overlays=this.overlays.remove(t))),this.es.delete(n)),pc.resolve()}getOverlaysForCollection(t,e,n){const r=Il(),i=e.length+1,o=new cc(e.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const t=a.getNext().value,o=t.getKey();if(!e.isPrefixOf(o.path))break;o.path.length===i&&t.largestBatchId>n&&r.set(t.getKey(),t)}return pc.resolve(r)}getOverlaysForCollectionGroup(t,e,n,r){let i=new wc(((t,e)=>t-e));const o=this.overlays.getIterator();for(;o.hasNext();){const t=o.getNext().value;if(t.getKey().getCollectionGroup()===e&&t.largestBatchId>n){let e=i.get(t.largestBatchId);null===e&&(e=Il(),i=i.insert(t.largestBatchId,e)),e.set(t.getKey(),t)}}const a=Il(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((t,e)=>a.set(t,e))),!(a.size()>=r)););return pc.resolve(a)}ue(t,e,n){const r=this.overlays.get(n.key);if(null!==r){const t=this.es.get(r.largestBatchId).delete(n.key);this.es.set(r.largestBatchId,t)}this.overlays=this.overlays.insert(n.key,new vh(e,n));let i=this.es.get(e);void 0===i&&(i=Cl(),this.es.set(e,i)),this.es.set(e,i.add(n.key))}}class Oh{constructor(){this.ns=new Tc(Ph.ss),this.rs=new Tc(Ph.os)}isEmpty(){return this.ns.isEmpty()}addReference(t,e){const n=new Ph(t,e);this.ns=this.ns.add(n),this.rs=this.rs.add(n)}us(t,e){t.forEach((t=>this.addReference(t,e)))}removeReference(t,e){this.cs(new Ph(t,e))}hs(t,e){t.forEach((t=>this.removeReference(t,e)))}ls(t){const e=new cc(new oc([])),n=new Ph(e,t),r=new Ph(e,t+1),i=[];return this.rs.forEachInRange([n,r],(t=>{this.cs(t),i.push(t.key)})),i}fs(){this.ns.forEach((t=>this.cs(t)))}cs(t){this.ns=this.ns.delete(t),this.rs=this.rs.delete(t)}ds(t){const e=new cc(new oc([])),n=new Ph(e,t),r=new Ph(e,t+1);let i=Cl();return this.rs.forEachInRange([n,r],(t=>{i=i.add(t.key)})),i}containsKey(t){const e=new Ph(t,0),n=this.ns.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Ph{constructor(t,e){this.key=t,this._s=e}static ss(t,e){return cc.comparator(t.key,e.key)||tc(t._s,e._s)}static os(t,e){return tc(t._s,e._s)||cc.comparator(t.key,e.key)}}class Nh{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.ws=1,this.gs=new Tc(Ph.ss)}checkEmpty(t){return pc.resolve(0===this.mutationQueue.length)}addMutationBatch(t,e,n,r){const i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new mh(i,e,n,r);this.mutationQueue.push(o);for(const e of r)this.gs=this.gs.add(new Ph(e.key,i)),this.indexManager.addToCollectionParentIndex(t,e.key.path.popLast());return pc.resolve(o)}lookupMutationBatch(t,e){return pc.resolve(this.ys(e))}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=this.ps(n),i=r<0?0:r;return pc.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return pc.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(t){return pc.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Ph(e,0),r=new Ph(e,Number.POSITIVE_INFINITY),i=[];return this.gs.forEachInRange([n,r],(t=>{const e=this.ys(t._s);i.push(e)})),pc.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Tc(tc);return e.forEach((t=>{const e=new Ph(t,0),r=new Ph(t,Number.POSITIVE_INFINITY);this.gs.forEachInRange([e,r],(t=>{n=n.add(t._s)}))})),pc.resolve(this.Is(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;cc.isDocumentKey(i)||(i=i.child(""));const o=new Ph(new cc(i),0);let a=new Tc(tc);return this.gs.forEachWhile((t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t._s)),!0)}),o),pc.resolve(this.Is(a))}Is(t){const e=[];return t.forEach((t=>{const n=this.ys(t);null!==n&&e.push(n)})),e}removeMutationBatch(t,e){Bs(0===this.Ts(e.batchId,"removed")),this.mutationQueue.shift();let n=this.gs;return pc.forEach(e.mutations,(r=>{const i=new Ph(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.gs=n}))}An(t){}containsKey(t,e){const n=new Ph(e,0),r=this.gs.firstAfterOrEqual(n);return pc.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,pc.resolve()}Ts(t,e){return this.ps(t)}ps(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId}ys(t){const e=this.ps(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Dh{constructor(t){this.Es=t,this.docs=new wc(cc.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const n=e.key,r=this.docs.get(n),i=r?r.size:0,o=this.Es(e);return this.docs=this.docs.insert(n,{document:e.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(t,n.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return pc.resolve(n?n.document.mutableCopy():nu.newInvalidDocument(e))}getEntries(t,e){let n=El();return e.forEach((t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.mutableCopy():nu.newInvalidDocument(t))})),pc.resolve(n)}getAllFromCollection(t,e,n){let r=El();const i=new cc(e.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:t,value:{document:i}}=o.getNext();if(!e.isPrefixOf(t.path))break;t.path.length>e.length+1||hc(uc(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return pc.resolve(r)}getAllFromCollectionGroup(t,e,n,r){Us()}As(t,e){return pc.forEach(this.docs,(t=>e(t)))}newChangeBuffer(t){return new Mh(this)}getSize(t){return pc.resolve(this.size)}}class Mh extends xh{constructor(t){super(),this.Yn=t}applyChanges(t){const e=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?e.push(this.Yn.addEntry(t,r)):this.Yn.removeEntry(n)})),pc.waitFor(e)}getFromCache(t,e){return this.Yn.getEntry(t,e)}getAllFromCache(t,e){return this.Yn.getEntries(t,e)}}class Rh{constructor(t){this.persistence=t,this.Rs=new bl((t=>ou(t)),au),this.lastRemoteSnapshotVersion=rc.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Oh,this.targetCount=0,this.vs=Ih.Pn()}forEachTarget(t,e){return this.Rs.forEach(((t,n)=>e(n))),pc.resolve()}getLastRemoteSnapshotVersion(t){return pc.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return pc.resolve(this.bs)}allocateTargetId(t){return this.highestTargetId=this.vs.next(),pc.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.bs&&(this.bs=e),pc.resolve()}Dn(t){this.Rs.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.vs=new Ih(e),this.highestTargetId=e),t.sequenceNumber>this.bs&&(this.bs=t.sequenceNumber)}addTargetData(t,e){return this.Dn(e),this.targetCount+=1,pc.resolve()}updateTargetData(t,e){return this.Dn(e),pc.resolve()}removeTargetData(t,e){return this.Rs.delete(e.target),this.Ps.ls(e.targetId),this.targetCount-=1,pc.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Rs.forEach(((o,a)=>{a.sequenceNumber<=e&&null===n.get(a.targetId)&&(this.Rs.delete(o),i.push(this.removeMatchingKeysForTargetId(t,a.targetId)),r++)})),pc.waitFor(i).next((()=>r))}getTargetCount(t){return pc.resolve(this.targetCount)}getTargetData(t,e){const n=this.Rs.get(e)||null;return pc.resolve(n)}addMatchingKeys(t,e,n){return this.Ps.us(e,n),pc.resolve()}removeMatchingKeys(t,e,n){this.Ps.hs(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach((e=>{i.push(r.markPotentiallyOrphaned(t,e))})),pc.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.Ps.ls(e),pc.resolve()}getMatchingKeysForTargetId(t,e){const n=this.Ps.ds(e);return pc.resolve(n)}containsKey(t,e){return pc.resolve(this.Ps.containsKey(e))}}class jh{constructor(t,e){this.Vs={},this.overlays={},this.Ss=new gc(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=t(this),this.Cs=new Rh(this),this.indexManager=new kh,this.remoteDocumentCache=function(t){return new Dh(t)}((t=>this.referenceDelegate.xs(t))),this.It=new bh(e),this.Ns=new Lh(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Ch,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let n=this.Vs[t.toKey()];return n||(n=new Nh(e,this.referenceDelegate),this.Vs[t.toKey()]=n),n}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(t,e,n){Ds("MemoryPersistence","Starting transaction:",t);const r=new Uh(this.Ss.next());return this.referenceDelegate.ks(),n(r).next((t=>this.referenceDelegate.Os(r).next((()=>t)))).toPromise().then((t=>(r.raiseOnCommittedEvent(),t)))}Ms(t,e){return pc.or(Object.values(this.Vs).map((n=>()=>n.containsKey(t,e))))}}class Uh extends dc{constructor(t){super(),this.currentSequenceNumber=t}}class Bh{constructor(t){this.persistence=t,this.Fs=new Oh,this.$s=null}static Bs(t){return new Bh(t)}get Ls(){if(this.$s)return this.$s;throw Us()}addReference(t,e,n){return this.Fs.addReference(n,e),this.Ls.delete(n.toString()),pc.resolve()}removeReference(t,e,n){return this.Fs.removeReference(n,e),this.Ls.add(n.toString()),pc.resolve()}markPotentiallyOrphaned(t,e){return this.Ls.add(e.toString()),pc.resolve()}removeTarget(t,e){this.Fs.ls(e.targetId).forEach((t=>this.Ls.add(t.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next((t=>{t.forEach((t=>this.Ls.add(t.toString())))})).next((()=>n.removeTargetData(t,e)))}ks(){this.$s=new Set}Os(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pc.forEach(this.Ls,(n=>{const r=cc.fromPath(n);return this.Us(t,r).next((t=>{t||e.removeEntry(r,rc.min())}))})).next((()=>(this.$s=null,e.apply(t))))}updateLimboDocument(t,e){return this.Us(t,e).next((t=>{t?this.Ls.delete(e.toString()):this.Ls.add(e.toString())}))}xs(t){return 0}Us(t,e){return pc.or([()=>pc.resolve(this.Fs.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ms(t,e)])}}class Fh{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Si=n,this.Di=r}static Ci(t,e){let n=Cl(),r=Cl();for(const t of e.docChanges)switch(t.type){case 0:n=n.add(t.doc.key);break;case 1:r=r.add(t.doc.key)}return new Fh(t,e.fromCache,n,r)}}class Vh{constructor(){this.xi=!1}initialize(t,e){this.Ni=t,this.indexManager=e,this.xi=!0}getDocumentsMatchingQuery(t,e,n,r){return this.ki(t,e).next((i=>i||this.Oi(t,e,r,n))).next((n=>n||this.Mi(t,e)))}ki(t,e){if(_u(e))return pc.resolve(null);let n=Lu(e);return this.indexManager.getIndexType(t,n).next((r=>0===r?null:(null!==e.limit&&1===r&&(e=Cu(e,null,"F"),n=Lu(e)),this.indexManager.getDocumentsMatchingTarget(t,n).next((r=>{const i=Cl(...r);return this.Ni.getDocuments(t,i).next((r=>this.indexManager.getMinOffset(t,n).next((n=>{const o=this.Fi(e,r);return this.$i(e,o,i,n.readTime)?this.ki(t,Cu(e,null,"F")):this.Bi(t,o,e,n)}))))})))))}Oi(t,e,n,r){return _u(e)||r.isEqual(rc.min())?this.Mi(t,e):this.Ni.getDocuments(t,n).next((i=>{const o=this.Fi(e,i);return this.$i(e,o,n,r)?this.Mi(t,e):(Ns()<=V.DEBUG&&Ds("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Nu(e)),this.Bi(t,o,e,function(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=rc.fromTimestamp(1e9===r?new nc(n+1,0):new nc(n,r));return new lc(i,cc.empty(),e)}(r,-1)))}))}Fi(t,e){let n=new Tc(Mu(t));return e.forEach(((e,r)=>{Du(t,r)&&(n=n.add(r))})),n}$i(t,e,n,r){if(null===t.limit)return!1;if(n.size!==e.size)return!0;const i="F"===t.limitType?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Mi(t,e){return Ns()<=V.DEBUG&&Ds("QueryEngine","Using full collection scan to execute query:",Nu(e)),this.Ni.getDocumentsMatchingQuery(t,e,lc.min())}Bi(t,e,n,r){return this.Ni.getDocumentsMatchingQuery(t,n,r).next((t=>(e.forEach((e=>{t=t.insert(e.key,e)})),t)))}}class Gh{constructor(t,e,n,r){this.persistence=t,this.Li=e,this.It=r,this.Ui=new wc(tc),this.qi=new bl((t=>ou(t)),au),this.Ki=new Map,this.Gi=t.getRemoteDocumentCache(),this.Cs=t.getTargetCache(),this.Ns=t.getBundleCache(),this.Qi(n)}Qi(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Sh(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ui)))}}async function Hh(t,e){const n=Fs(t);return await n.persistence.runTransaction("Handle user change","readonly",(t=>{let r;return n.mutationQueue.getAllMutationBatches(t).next((i=>(r=i,n.Qi(e),n.mutationQueue.getAllMutationBatches(t)))).next((e=>{const i=[],o=[];let a=Cl();for(const t of r){i.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}for(const t of e){o.push(t.batchId);for(const e of t.mutations)a=a.add(e.key)}return n.localDocuments.getDocuments(t,a).next((t=>({ji:t,removedBatchIds:i,addedBatchIds:o})))}))}))}function qh(t){const e=Fs(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Cs.getLastRemoteSnapshotVersion(t)))}function Kh(t,e){const n=Fs(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(t=>(void 0===e&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(t,e))))}async function zh(t,e,n){const r=Fs(t),i=r.Ui.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(t){if(!mc(t))throw t;Ds("LocalStore",`Failed to update sequence numbers for target ${e}: ${t}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}function Wh(t,e,n){const r=Fs(t);let i=rc.min(),o=Cl();return r.persistence.runTransaction("Execute query","readonly",(t=>function(t,e,n){const r=Fs(t),i=r.qi.get(n);return void 0!==i?pc.resolve(r.Ui.get(i)):r.Cs.getTargetData(e,n)}(r,t,Lu(e)).next((e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(t,e.targetId).next((t=>{o=t}))})).next((()=>r.Li.getDocumentsMatchingQuery(t,e,n?i:rc.min(),n?o:Cl()))).next((t=>(function(t,e,n){let r=t.Ki.get(e)||rc.min();n.forEach(((t,e)=>{e.readTime.compareTo(r)>0&&(r=e.readTime)})),t.Ki.set(e,r)}(r,function(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}(e),t),{documents:t,Hi:o})))))}class $h{constructor(){this.activeTargetIds=Pl()}er(t){this.activeTargetIds=this.activeTargetIds.add(t)}nr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}tr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Jh{constructor(){this.Lr=new $h,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.Lr.er(t),this.Ur[t]||"not-current"}updateQueryState(t,e,n){this.Ur[t]=e}removeLocalQueryTarget(t){this.Lr.nr(t)}isLocalQueryTarget(t){return this.Lr.activeTargetIds.has(t)}clearQueryState(t){delete this.Ur[t]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(t){return this.Lr.activeTargetIds.has(t)}start(){return this.Lr=new $h,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Yh{qr(t){}shutdown(){}}class Qh{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(t){this.Wr.push(t)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ds("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.Wr)t(0)}jr(){Ds("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.Wr)t(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Xh={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Zh{constructor(t){this.Hr=t.Hr,this.Jr=t.Jr}Yr(t){this.Xr=t}Zr(t){this.eo=t}onMessage(t){this.no=t}close(){this.Jr()}send(t){this.Hr(t)}so(){this.Xr()}io(t){this.eo(t)}ro(t){this.no(t)}}class td extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http";this.oo=e+"://"+t.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(t,e,n,r,i){const o=this.ho(t,e);Ds("RestConnection","Sending: ",o,n);const a={};return this.lo(a,r,i),this.fo(t,o,a,n).then((t=>(Ds("RestConnection","Received: ",t),t)),(e=>{throw Rs("RestConnection",`${t} failed with error: `,e,"url: ",o,"request:",n),e}))}_o(t,e,n,r,i,o){return this.ao(t,e,n,r,i)}lo(t,e,n){t["X-Goog-Api-Client"]="gl-js/ fire/"+Os,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((e,n)=>t[n]=e)),n&&n.headers.forEach(((e,n)=>t[n]=e))}ho(t,e){const n=Xh[t];return`${this.oo}/v1/${e}:${n}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}fo(t,e,n,r){return new Promise(((i,o)=>{const a=new Ss;a.setWithCredentials(!0),a.listenOnce(Ts.COMPLETE,(()=>{var e;try{switch(a.getLastErrorCode()){case ks.NO_ERROR:const n=a.getResponseJson();Ds("Connection","XHR received:",JSON.stringify(n)),i(n);break;case ks.TIMEOUT:Ds("Connection",'RPC "'+t+'" timed out'),o(new Gs(Vs.DEADLINE_EXCEEDED,"Request time out"));break;case ks.HTTP_ERROR:const r=a.getStatus();if(Ds("Connection",'RPC "'+t+'" failed with status:',r,"response text:",a.getResponseText()),r>0){let t=a.getResponseJson();Array.isArray(t)&&(t=t[0]);const n=null===(e=t)||void 0===e?void 0:e.error;if(n&&n.status&&n.message){const t=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(Vs).indexOf(e)>=0?e:Vs.UNKNOWN}(n.status);o(new Gs(t,n.message))}else o(new Gs(Vs.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Gs(Vs.UNAVAILABLE,"Connection failed."));break;default:Us()}}finally{Ds("Connection",'RPC "'+t+'" completed.')}}));const s=JSON.stringify(r);a.send(e,"POST",s,n,15)}))}wo(t,e,n){const r=[this.oo,"/","google.firestore.v1.Firestore","/",t,"/channel"],i=ws(),o=Es(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new xs({})),this.lo(a.initMessageHeaders,e,n),a.encodeInitMessageHeaders=!0;const s=r.join("");Ds("Connection","Creating WebChannel: "+s,a);const c=i.createWebChannel(s,a);let u=!1,l=!1;const h=new Zh({Hr:t=>{l?Ds("Connection","Not sending because WebChannel is closed:",t):(u||(Ds("Connection","Opening WebChannel transport."),c.open(),u=!0),Ds("Connection","WebChannel sending:",t),c.send(t))},Jr:()=>c.close()}),d=(t,e,n)=>{t.listen(e,(t=>{try{n(t)}catch(t){setTimeout((()=>{throw t}),0)}}))};return d(c,As.EventType.OPEN,(()=>{l||Ds("Connection","WebChannel transport opened.")})),d(c,As.EventType.CLOSE,(()=>{l||(l=!0,Ds("Connection","WebChannel transport closed"),h.io())})),d(c,As.EventType.ERROR,(t=>{l||(l=!0,Rs("Connection","WebChannel transport errored:",t),h.io(new Gs(Vs.UNAVAILABLE,"The operation could not be completed")))})),d(c,As.EventType.MESSAGE,(t=>{var e;if(!l){const n=t.data[0];Bs(!!n);const r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Ds("Connection","WebChannel received error:",i);const t=i.status;let e=function(t){const e=gl[t];if(void 0!==e)return yl(e)}(t),n=i.message;void 0===e&&(e=Vs.INTERNAL,n="Unknown error status: "+t+" with message "+i.message),l=!0,h.io(new Gs(e,n)),c.close()}else Ds("Connection","WebChannel received:",n),h.ro(n)}})),d(o,_s.STAT_EVENT,(t=>{t.stat===Is.PROXY?Ds("Connection","Detected buffering proxy"):t.stat===Is.NOPROXY&&Ds("Connection","Detected no buffering proxy")})),setTimeout((()=>{h.so()}),0),h}}function ed(){return"undefined"!=typeof document?document:null}function nd(t){return new ql(t,!0)}class rd{constructor(t,e,n=1e3,r=1.5,i=6e4){this.Hs=t,this.timerId=e,this.mo=n,this.yo=r,this.po=i,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(t){this.cancel();const e=Math.floor(this.Io+this.bo()),n=Math.max(0,Date.now()-this.Eo),r=Math.max(0,e-n);r>0&&Ds("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Io} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,r,(()=>(this.Eo=Date.now(),t()))),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class id{constructor(t,e,n,r,i,o,a,s){this.Hs=t,this.vo=n,this.Vo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=s,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new rd(t,e)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}async stop(){this.No()&&await this.close(0)}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,(()=>this.$o())))}Bo(t){this.Lo(),this.stream.send(t)}async $o(){if(this.ko())return this.close(0)}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}async close(t,e){this.Lo(),this.Uo(),this.xo.cancel(),this.So++,4!==t?this.xo.reset():e&&e.code===Vs.RESOURCE_EXHAUSTED?(Ms(e.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.xo.Ao()):e&&e.code===Vs.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Zr(e)}qo(){}auth(){this.state=1;const t=this.Ko(this.So),e=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([t,n])=>{this.So===e&&this.Go(t,n)}),(e=>{t((()=>{const t=new Gs(Vs.UNKNOWN,"Fetching auth token failed: "+e.message);return this.Qo(t)}))}))}Go(t,e){const n=this.Ko(this.So);this.stream=this.jo(t,e),this.stream.Yr((()=>{n((()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,(()=>(this.ko()&&(this.state=3),Promise.resolve()))),this.listener.Yr())))})),this.stream.Zr((t=>{n((()=>this.Qo(t)))})),this.stream.onMessage((t=>{n((()=>this.onMessage(t)))}))}Oo(){this.state=5,this.xo.Ro((async()=>{this.state=0,this.start()}))}Qo(t){return Ds("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Ko(t){return e=>{this.Hs.enqueueAndForget((()=>this.So===t?e():(Ds("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class od extends id{constructor(t,e,n,r,i,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,n,r,o),this.It=i}jo(t,e){return this.connection.wo("Listen",t,e)}onMessage(t){this.xo.reset();const e=function(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Us()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.gt?(Bs(void 0===e||"string"==typeof e),xc.fromBase64String(e||"")):(Bs(void 0===e||e instanceof Uint8Array),xc.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,s=a&&function(t){const e=void 0===t.code?Vs.UNKNOWN:yl(t.code);return new Gs(e,t.message||"")}(a);n=new jl(r,i,o,s||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Xl(t,r.document.name),o=$l(r.document.updateTime),a=new tu({mapValue:{fields:r.document.fields}}),s=nu.newFoundDocument(i,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Ml(c,u,s.key,s)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Xl(t,r.document),o=r.readTime?$l(r.readTime):rc.min(),a=nu.newNoDocument(i,o),s=r.removedTargetIds||[];n=new Ml([],s,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Xl(t,r.document),o=r.removedTargetIds||[];n=new Ml([],o,i,null)}else{if(!("filter"in e))return Us();{e.filter;const t=e.filter;t.targetId;const r=t.count||0,i=new ml(r),o=t.targetId;n=new Rl(o,i)}}return n}(this.It,t),n=function(t){if(!("targetChange"in t))return rc.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?rc.min():e.readTime?$l(e.readTime):rc.min()}(t);return this.listener.Wo(e,n)}zo(t){const e={};e.database=th(this.It),e.addTarget=function(t,e){let n;const r=e.target;return n=su(r)?{documents:rh(t,r)}:{query:ih(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=zl(t,e.resumeToken):e.snapshotVersion.compareTo(rc.min())>0&&(n.readTime=Kl(t,e.snapshotVersion.toTimestamp())),n}(this.It,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Us()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(this.It,t);n&&(e.labels=n),this.Bo(e)}Ho(t){const e={};e.database=th(this.It),e.removeTarget=t,this.Bo(e)}}class ad extends id{constructor(t,e,n,r,i,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,n,r,o),this.It=i,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}qo(){this.Jo&&this.Xo([])}jo(t,e){return this.connection.wo("Write",t,e)}onMessage(t){if(Bs(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Jo){this.xo.reset();const e=function(t,e){return t&&t.length>0?(Bs(void 0!==e),t.map((t=>function(t,e){let n=t.updateTime?$l(t.updateTime):$l(e);return n.isEqual(rc.min())&&(n=$l(e)),new Zu(n,t.transformResults||[])}(t,e)))):[]}(t.writeResults,t.commitTime),n=$l(t.commitTime);return this.listener.Zo(n,e)}return Bs(!t.writeResults||0===t.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const t={};t.database=th(this.It),this.Bo(t)}Xo(t){const e={streamToken:this.lastStreamToken,writes:t.map((t=>function(t,e){let n;if(e instanceof cl)n={update:nh(t,e.key,e.value)};else if(e instanceof fl)n={delete:Ql(t,e.key)};else if(e instanceof ul)n={update:nh(t,e.key,e.data),updateMask:fh(e.fieldMask)};else{if(!(e instanceof pl))return Us();n={verify:Ql(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((t=>function(t,e){const n=e.transform;if(n instanceof qu)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Ku)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Wu)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Ju)return{fieldPath:e.field.canonicalString(),increment:n.yt};throw Us()}(0,t)))),e.precondition.isNone||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Wl(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Us()}(t,e.precondition)),n}(this.It,t)))};this.Bo(e)}}class sd extends class{}{constructor(t,e,n,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=n,this.It=r,this.nu=!1}su(){if(this.nu)throw new Gs(Vs.FAILED_PRECONDITION,"The client has already been terminated.")}ao(t,e,n){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.ao(t,e,n,r,i))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Vs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Gs(Vs.UNKNOWN,t.toString())}))}_o(t,e,n,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection._o(t,e,n,i,o,r))).catch((t=>{throw"FirebaseError"===t.name?(t.code===Vs.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),t):new Gs(Vs.UNKNOWN,t.toString())}))}terminate(){this.nu=!0}}class cd{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve()))))}hu(t){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.cu("Offline")))}set(t){this.lu(),this.iu=0,"Online"===t&&(this.ou=!1),this.cu(t)}cu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}au(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ms(e),this.ou=!1):Ds("OnlineStateTracker",e)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class ud{constructor(t,e,n,r,i){this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=i,this.mu.qr((t=>{n.enqueueAndForget((async()=>{yd(this)&&(Ds("RemoteStore","Restarting streams for network reachability change."),await async function(t){const e=Fs(t);e._u.add(4),await hd(e),e.gu.set("Unknown"),e._u.delete(4),await ld(e)}(this))}))})),this.gu=new cd(n,r)}}async function ld(t){if(yd(t))for(const e of t.wu)await e(!0)}async function hd(t){for(const e of t.wu)await e(!1)}function dd(t,e){const n=Fs(t);n.du.has(e.targetId)||(n.du.set(e.targetId,e),vd(n)?gd(n):Md(n).ko()&&pd(n,e))}function fd(t,e){const n=Fs(t),r=Md(n);n.du.delete(e),r.ko()&&md(n,e),0===n.du.size&&(r.ko()?r.Fo():yd(n)&&n.gu.set("Unknown"))}function pd(t,e){t.yu.Mt(e.targetId),Md(t).zo(e)}function md(t,e){t.yu.Mt(e),Md(t).Ho(e)}function gd(t){t.yu=new Bl({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),se:e=>t.du.get(e)||null}),Md(t).start(),t.gu.uu()}function vd(t){return yd(t)&&!Md(t).No()&&t.du.size>0}function yd(t){return 0===Fs(t)._u.size}function bd(t){t.yu=void 0}async function wd(t){t.du.forEach(((e,n)=>{pd(t,e)}))}async function Ed(t,e){bd(t),vd(t)?(t.gu.hu(e),gd(t)):t.gu.set("Unknown")}async function kd(t,e,n){if(t.gu.set("Online"),e instanceof jl&&2===e.state&&e.cause)try{await async function(t,e){const n=e.cause;for(const r of e.targetIds)t.du.has(r)&&(await t.remoteSyncer.rejectListen(r,n),t.du.delete(r),t.yu.removeTarget(r))}(t,e)}catch(n){Ds("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Td(t,n)}else if(e instanceof Ml?t.yu.Gt(e):e instanceof Rl?t.yu.Yt(e):t.yu.Wt(e),!n.isEqual(rc.min()))try{const e=await qh(t.localStore);n.compareTo(e)>=0&&await function(t,e){const n=t.yu.te(e);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.du.get(r);i&&t.du.set(r,i.withResumeToken(n.resumeToken,e))}})),n.targetMismatches.forEach((e=>{const n=t.du.get(e);if(!n)return;t.du.set(e,n.withResumeToken(xc.EMPTY_BYTE_STRING,n.snapshotVersion)),md(t,e);const r=new yh(n.target,e,1,n.sequenceNumber);pd(t,r)})),t.remoteSyncer.applyRemoteEvent(n)}(t,n)}catch(e){Ds("RemoteStore","Failed to raise snapshot:",e),await Td(t,e)}}async function Td(t,e,n){if(!mc(e))throw e;t._u.add(1),await hd(t),t.gu.set("Offline"),n||(n=()=>qh(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ds("RemoteStore","Retrying IndexedDB access"),await n(),t._u.delete(1),await ld(t)}))}function _d(t,e){return e().catch((n=>Td(t,n,e)))}async function Id(t){const e=Fs(t),n=Rd(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;xd(e);)try{const t=await Kh(e.localStore,r);if(null===t){0===e.fu.length&&n.Fo();break}r=t.batchId,Ad(e,t)}catch(t){await Td(e,t)}Sd(e)&&Ld(e)}function xd(t){return yd(t)&&t.fu.length<10}function Ad(t,e){t.fu.push(e);const n=Rd(t);n.ko()&&n.Yo&&n.Xo(e.mutations)}function Sd(t){return yd(t)&&!Rd(t).No()&&t.fu.length>0}function Ld(t){Rd(t).start()}async function Cd(t){Rd(t).eu()}async function Od(t){const e=Rd(t);for(const n of t.fu)e.Xo(n.mutations)}async function Pd(t,e,n){const r=t.fu.shift(),i=gh.from(r,e,n);await _d(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await Id(t)}async function Nd(t,e){e&&Rd(t).Yo&&await async function(t,e){if(function(t){switch(t){default:return Us();case Vs.CANCELLED:case Vs.UNKNOWN:case Vs.DEADLINE_EXCEEDED:case Vs.RESOURCE_EXHAUSTED:case Vs.INTERNAL:case Vs.UNAVAILABLE:case Vs.UNAUTHENTICATED:return!1;case Vs.INVALID_ARGUMENT:case Vs.NOT_FOUND:case Vs.ALREADY_EXISTS:case Vs.PERMISSION_DENIED:case Vs.FAILED_PRECONDITION:case Vs.ABORTED:case Vs.OUT_OF_RANGE:case Vs.UNIMPLEMENTED:case Vs.DATA_LOSS:return!0}}(n=e.code)&&n!==Vs.ABORTED){const n=t.fu.shift();Rd(t).Mo(),await _d(t,(()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e))),await Id(t)}var n}(t,e),Sd(t)&&Ld(t)}async function Dd(t,e){const n=Fs(t);n.asyncQueue.verifyOperationInProgress(),Ds("RemoteStore","RemoteStore received new credentials");const r=yd(n);n._u.add(3),await hd(n),r&&n.gu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n._u.delete(3),await ld(n)}function Md(t){return t.pu||(t.pu=function(t,e,n){const r=Fs(t);return r.su(),new od(e,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(t.datastore,t.asyncQueue,{Yr:wd.bind(null,t),Zr:Ed.bind(null,t),Wo:kd.bind(null,t)}),t.wu.push((async e=>{e?(t.pu.Mo(),vd(t)?gd(t):t.gu.set("Unknown")):(await t.pu.stop(),bd(t))}))),t.pu}function Rd(t){return t.Iu||(t.Iu=function(t,e,n){const r=Fs(t);return r.su(),new ad(e,r.connection,r.authCredentials,r.appCheckCredentials,r.It,n)}(t.datastore,t.asyncQueue,{Yr:Cd.bind(null,t),Zr:Nd.bind(null,t),tu:Od.bind(null,t),Zo:Pd.bind(null,t)}),t.wu.push((async e=>{e?(t.Iu.Mo(),await Id(t)):(await t.Iu.stop(),t.fu.length>0&&(Ds("RemoteStore",`Stopping write stream with ${t.fu.length} pending writes`),t.fu=[]))}))),t.Iu}class jd{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Hs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((t=>{}))}static createAndSchedule(t,e,n,r,i){const o=Date.now()+n,a=new jd(t,e,o,r,i);return a.start(n),a}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Gs(Vs.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ud(t,e){if(Ms("AsyncQueue",`${e}: ${t}`),mc(t))return new Gs(Vs.UNAVAILABLE,`${e}: ${t}`);throw t}class Bd{constructor(t){this.comparator=t?(e,n)=>t(e,n)||cc.comparator(e.key,n.key):(t,e)=>cc.comparator(t.key,e.key),this.keyedMap=Tl(),this.sortedSet=new wc(this.comparator)}static emptySet(t){return new Bd(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,n)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Bd))return!1;if(this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Bd;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class Fd{constructor(){this.Tu=new wc(cc.comparator)}track(t){const e=t.doc.key,n=this.Tu.get(e);n?0!==t.type&&3===n.type?this.Tu=this.Tu.insert(e,t):3===t.type&&1!==n.type?this.Tu=this.Tu.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Tu=this.Tu.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Tu=this.Tu.remove(e):1===t.type&&2===n.type?this.Tu=this.Tu.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Tu=this.Tu.insert(e,{type:2,doc:t.doc}):Us():this.Tu=this.Tu.insert(e,t)}Eu(){const t=[];return this.Tu.inorderTraversal(((e,n)=>{t.push(n)})),t}}class Vd{constructor(t,e,n,r,i,o,a,s,c){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,e,n,r,i){const o=[];return e.forEach((t=>{o.push({type:0,doc:t})})),new Vd(t,e,Bd.emptySet(e),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ou(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let t=0;t<e.length;t++)if(e[t].type!==n[t].type||!e[t].doc.isEqual(n[t].doc))return!1;return!0}}class Gd{constructor(){this.Au=void 0,this.listeners=[]}}class Hd{constructor(){this.queries=new bl((t=>Pu(t)),Ou),this.onlineState="Unknown",this.Ru=new Set}}async function qd(t,e){const n=Fs(t),r=e.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new Gd),i)try{o.Au=await n.onListen(r)}catch(t){const n=Ud(t,`Initialization of query '${Nu(e.query)}' failed`);return void e.onError(n)}n.queries.set(r,o),o.listeners.push(e),e.bu(n.onlineState),o.Au&&e.Pu(o.Au)&&$d(n)}async function Kd(t,e){const n=Fs(t),r=e.query;let i=!1;const o=n.queries.get(r);if(o){const t=o.listeners.indexOf(e);t>=0&&(o.listeners.splice(t,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function zd(t,e){const n=Fs(t);let r=!1;for(const t of e){const e=t.query,i=n.queries.get(e);if(i){for(const e of i.listeners)e.Pu(t)&&(r=!0);i.Au=t}}r&&$d(n)}function Wd(t,e,n){const r=Fs(t),i=r.queries.get(e);if(i)for(const t of i.listeners)t.onError(n);r.queries.delete(e)}function $d(t){t.Ru.forEach((t=>{t.next()}))}class Jd{constructor(t,e,n){this.query=t,this.vu=e,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=n||{}}Pu(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new Vd(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Vu?this.Du(t)&&(this.vu.next(t),e=!0):this.Cu(t,this.onlineState)&&(this.xu(t),e=!0),this.Su=t,e}onError(t){this.vu.error(t)}bu(t){this.onlineState=t;let e=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,t)&&(this.xu(this.Su),e=!0),e}Cu(t,e){if(!t.fromCache)return!0;const n="Offline"!==e;return(!this.options.Nu||!n)&&(!t.docs.isEmpty()||t.hasCachedResults||"Offline"===e)}Du(t){if(t.docChanges.length>0)return!0;const e=this.Su&&this.Su.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges}xu(t){t=Vd.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Vu=!0,this.vu.next(t)}}class Yd{constructor(t){this.key=t}}class Qd{constructor(t){this.key=t}}class Xd{constructor(t,e){this.query=t,this.Uu=e,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Cl(),this.mutatedKeys=Cl(),this.Gu=Mu(t),this.Qu=new Bd(this.Gu)}get ju(){return this.Uu}Wu(t,e){const n=e?e.zu:new Fd,r=e?e.Qu:this.Qu;let i=e?e.mutatedKeys:this.mutatedKeys,o=r,a=!1;const s="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((t,e)=>{const u=r.get(t),l=Du(this.query,e)?e:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;u&&l?u.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Hu(u,l)||(n.track({type:2,doc:l}),f=!0,(s&&this.Gu(l,s)>0||c&&this.Gu(l,c)<0)&&(a=!0)):!u&&l?(n.track({type:0,doc:l}),f=!0):u&&!l&&(n.track({type:1,doc:u}),f=!0,(s||c)&&(a=!0)),f&&(l?(o=o.add(l),i=d?i.add(t):i.delete(t)):(o=o.delete(t),i=i.delete(t)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const t="F"===this.query.limitType?o.last():o.first();o=o.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{Qu:o,zu:n,$i:a,mutatedKeys:i}}Hu(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.Qu;this.Qu=t.Qu,this.mutatedKeys=t.mutatedKeys;const i=t.zu.Eu();i.sort(((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Us()}};return n(t)-n(e)}(t.type,e.type)||this.Gu(t.doc,e.doc))),this.Ju(n);const o=e?this.Yu():[],a=0===this.Ku.size&&this.current?1:0,s=a!==this.qu;return this.qu=a,0!==i.length||s?{snapshot:new Vd(this.query,t.Qu,r,i,t.mutatedKeys,0===a,s,!1,!!n&&n.resumeToken.approximateByteSize()>0),Xu:o}:{Xu:o}}bu(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new Fd,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(t){return!this.Uu.has(t)&&!!this.Qu.has(t)&&!this.Qu.get(t).hasLocalMutations}Ju(t){t&&(t.addedDocuments.forEach((t=>this.Uu=this.Uu.add(t))),t.modifiedDocuments.forEach((t=>{})),t.removedDocuments.forEach((t=>this.Uu=this.Uu.delete(t))),this.current=t.current)}Yu(){if(!this.current)return[];const t=this.Ku;this.Ku=Cl(),this.Qu.forEach((t=>{this.Zu(t.key)&&(this.Ku=this.Ku.add(t.key))}));const e=[];return t.forEach((t=>{this.Ku.has(t)||e.push(new Qd(t))})),this.Ku.forEach((n=>{t.has(n)||e.push(new Yd(n))})),e}tc(t){this.Uu=t.Hi,this.Ku=Cl();const e=this.Wu(t.documents);return this.applyChanges(e,!0)}ec(){return Vd.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class Zd{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class tf{constructor(t){this.key=t,this.nc=!1}}class ef{constructor(t,e,n,r,i,o){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.sc={},this.ic=new bl((t=>Pu(t)),Ou),this.rc=new Map,this.oc=new Set,this.uc=new wc(cc.comparator),this.cc=new Map,this.ac=new Oh,this.hc={},this.lc=new Map,this.fc=Ih.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}async function nf(t,e){const n=function(t){const e=Fs(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=of.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bf.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sf.bind(null,e),e.sc.Wo=zd.bind(null,e.eventManager),e.sc.wc=Wd.bind(null,e.eventManager),e}(t);let r,i;const o=n.ic.get(e);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.ec();else{const t=await function(t,e){const n=Fs(t);return n.persistence.runTransaction("Allocate target","readwrite",(t=>{let r;return n.Cs.getTargetData(t,e).next((i=>i?(r=i,pc.resolve(r)):n.Cs.allocateTargetId(t).next((i=>(r=new yh(e,i,0,t.currentSequenceNumber),n.Cs.addTargetData(t,r).next((()=>r)))))))})).then((t=>{const r=n.Ui.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ui=n.Ui.insert(t.targetId,t),n.qi.set(e,t.targetId)),t}))}(n.localStore,Lu(e));n.isPrimaryClient&&dd(n.remoteStore,t);const o=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=await async function(t,e,n,r,i){t._c=(e,n,r)=>async function(t,e,n,r){let i=e.view.Wu(n);i.$i&&(i=await Wh(t.localStore,e.query,!1).then((({documents:t})=>e.view.Wu(t,i))));const o=r&&r.targetChanges.get(e.targetId),a=e.view.applyChanges(i,t.isPrimaryClient,o);return pf(t,e.targetId,a.Xu),a.snapshot}(t,e,n,r);const o=await Wh(t.localStore,e,!0),a=new Xd(e,o.Hi),s=a.Wu(o.documents),c=Dl.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState,i),u=a.applyChanges(s,t.isPrimaryClient,c);pf(t,n,u.Xu);const l=new Zd(e,n,a);return t.ic.set(e,l),t.rc.has(n)?t.rc.get(n).push(e):t.rc.set(n,[e]),u.snapshot}(n,e,r,"current"===o,t.resumeToken)}return i}async function rf(t,e){const n=Fs(t),r=n.ic.get(e),i=n.rc.get(r.targetId);if(i.length>1)return n.rc.set(r.targetId,i.filter((t=>!Ou(t,e)))),void n.ic.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await zh(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),fd(n.remoteStore,r.targetId),df(n,r.targetId)})).catch(fc)):(df(n,r.targetId),await zh(n.localStore,r.targetId,!0))}async function of(t,e){const n=Fs(t);try{const t=await function(t,e){const n=Fs(t),r=e.snapshotVersion;let i=n.Ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(t=>{const o=n.Gi.newChangeBuffer({trackRemovals:!0});i=n.Ui;const a=[];e.targetChanges.forEach(((o,s)=>{const c=i.get(s);if(!c)return;a.push(n.Cs.removeMatchingKeys(t,o.removedDocuments,s).next((()=>n.Cs.addMatchingKeys(t,o.addedDocuments,s))));let u=c.withSequenceNumber(t.currentSequenceNumber);e.targetMismatches.has(s)?u=u.withResumeToken(xc.EMPTY_BYTE_STRING,rc.min()).withLastLimboFreeSnapshotVersion(rc.min()):o.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(o.resumeToken,r)),i=i.insert(s,u),function(t,e,n){return 0===t.resumeToken.approximateByteSize()||e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,u,o)&&a.push(n.Cs.updateTargetData(t,u))}));let s=El(),c=Cl();if(e.documentUpdates.forEach((r=>{e.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))})),a.push(function(t,e,n){let r=Cl(),i=Cl();return n.forEach((t=>r=r.add(t))),e.getEntries(t,r).next((t=>{let r=El();return n.forEach(((n,o)=>{const a=t.get(n);o.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(rc.min())?(e.removeEntry(n,o.readTime),r=r.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o),r=r.insert(n,o)):Ds("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)})),{Wi:r,zi:i}}))}(t,o,e.documentUpdates).next((t=>{s=t.Wi,c=t.zi}))),!r.isEqual(rc.min())){const e=n.Cs.getLastRemoteSnapshotVersion(t).next((e=>n.Cs.setTargetsMetadata(t,t.currentSequenceNumber,r)));a.push(e)}return pc.waitFor(a).next((()=>o.apply(t))).next((()=>n.localDocuments.getLocalViewOfDocuments(t,s,c))).next((()=>s))})).then((t=>(n.Ui=i,t)))}(n.localStore,e);e.targetChanges.forEach(((t,e)=>{const r=n.cc.get(e);r&&(Bs(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.nc=!0:t.modifiedDocuments.size>0?Bs(r.nc):t.removedDocuments.size>0&&(Bs(r.nc),r.nc=!1))})),await vf(n,t,e)}catch(t){await fc(t)}}function af(t,e,n){const r=Fs(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.ic.forEach(((n,r)=>{const i=r.view.bu(e);i.snapshot&&t.push(i.snapshot)})),function(t,e){const n=Fs(t);n.onlineState=e;let r=!1;n.queries.forEach(((t,n)=>{for(const t of n.listeners)t.bu(e)&&(r=!0)})),r&&$d(n)}(r.eventManager,e),t.length&&r.sc.Wo(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sf(t,e,n){const r=Fs(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.cc.get(e),o=i&&i.key;if(o){let t=new wc(cc.comparator);t=t.insert(o,nu.newNoDocument(o,rc.min()));const n=Cl().add(o),i=new Nl(rc.min(),new Map,new Tc(tc),t,n);await of(r,i),r.uc=r.uc.remove(o),r.cc.delete(e),gf(r)}else await zh(r.localStore,e,!1).then((()=>df(r,e,n))).catch(fc)}async function cf(t,e){const n=Fs(t),r=e.batch.batchId;try{const t=await function(t,e){const n=Fs(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(t=>{const r=e.batch.keys(),i=n.Gi.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,o=i.keys();let a=pc.resolve();return o.forEach((t=>{a=a.next((()=>r.getEntry(e,t))).next((e=>{const o=n.docVersions.get(t);Bs(null!==o),e.version.compareTo(o)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&(e.setReadTime(n.commitVersion),r.addEntry(e)))}))})),a.next((()=>t.mutationQueue.removeMutationBatch(e,i)))}(n,t,e,i).next((()=>i.apply(t))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,function(t){let e=Cl();for(let n=0;n<t.mutationResults.length;++n)t.mutationResults[n].transformResults.length>0&&(e=e.add(t.batch.mutations[n].key));return e}(e)))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(n.localStore,e);hf(n,r,null),lf(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vf(n,t)}catch(t){await fc(t)}}async function uf(t,e,n){const r=Fs(t);try{const t=await function(t,e){const n=Fs(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",(t=>{let r;return n.mutationQueue.lookupMutationBatch(t,e).next((e=>(Bs(null!==e),r=e.keys(),n.mutationQueue.removeMutationBatch(t,e)))).next((()=>n.mutationQueue.performConsistencyCheck(t))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(t,r,e))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(t,r))).next((()=>n.localDocuments.getDocuments(t,r)))}))}(r.localStore,e);hf(r,e,n),lf(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vf(r,t)}catch(n){await fc(n)}}function lf(t,e){(t.lc.get(e)||[]).forEach((t=>{t.resolve()})),t.lc.delete(e)}function hf(t,e,n){const r=Fs(t);let i=r.hc[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function df(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.rc.get(e))t.ic.delete(r),n&&t.sc.wc(r,n);t.rc.delete(e),t.isPrimaryClient&&t.ac.ls(e).forEach((e=>{t.ac.containsKey(e)||ff(t,e)}))}function ff(t,e){t.oc.delete(e.path.canonicalString());const n=t.uc.get(e);null!==n&&(fd(t.remoteStore,n),t.uc=t.uc.remove(e),t.cc.delete(n),gf(t))}function pf(t,e,n){for(const r of n)r instanceof Yd?(t.ac.addReference(r.key,e),mf(t,r)):r instanceof Qd?(Ds("SyncEngine","Document no longer in limbo: "+r.key),t.ac.removeReference(r.key,e),t.ac.containsKey(r.key)||ff(t,r.key)):Us()}function mf(t,e){const n=e.key,r=n.path.canonicalString();t.uc.get(n)||t.oc.has(r)||(Ds("SyncEngine","New document in limbo: "+n),t.oc.add(r),gf(t))}function gf(t){for(;t.oc.size>0&&t.uc.size<t.maxConcurrentLimboResolutions;){const e=t.oc.values().next().value;t.oc.delete(e);const n=new cc(oc.fromString(e)),r=t.fc.next();t.cc.set(r,new tf(n)),t.uc=t.uc.insert(n,r),dd(t.remoteStore,new yh(Lu(Tu(n.path)),r,2,gc.at))}}async function vf(t,e,n){const r=Fs(t),i=[],o=[],a=[];r.ic.isEmpty()||(r.ic.forEach(((t,s)=>{a.push(r._c(s,e,n).then((t=>{if((t||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(s.targetId,(null==t?void 0:t.fromCache)?"not-current":"current"),t){i.push(t);const e=Fh.Ci(s.targetId,t);o.push(e)}})))})),await Promise.all(a),r.sc.Wo(i),await async function(t,e){const n=Fs(t);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(t=>pc.forEach(e,(e=>pc.forEach(e.Si,(r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r))).next((()=>pc.forEach(e.Di,(r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))))))}catch(t){if(!mc(t))throw t;Ds("LocalStore","Failed to update sequence numbers: "+t)}for(const t of e){const e=t.targetId;if(!t.fromCache){const t=n.Ui.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.Ui=n.Ui.insert(e,i)}}}(r.localStore,o))}async function yf(t,e){const n=Fs(t);if(!n.currentUser.isEqual(e)){Ds("SyncEngine","User change. New user:",e.toKey());const t=await Hh(n.localStore,e);n.currentUser=e,function(t,e){t.lc.forEach((t=>{t.forEach((t=>{t.reject(new Gs(Vs.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),t.lc.clear()}(n),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),await vf(n,t.ji)}}function bf(t,e){const n=Fs(t),r=n.cc.get(e);if(r&&r.nc)return Cl().add(r.key);{let t=Cl();const r=n.rc.get(e);if(!r)return t;for(const e of r){const r=n.ic.get(e);t=t.unionWith(r.view.ju)}return t}}function wf(t){const e=Fs(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cf.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=uf.bind(null,e),e}class Ef{constructor(){this.synchronizeTabs=!1}async initialize(t){this.It=nd(t.databaseInfo.databaseId),this.sharedClientState=this.gc(t),this.persistence=this.yc(t),await this.persistence.start(),this.localStore=this.Ic(t),this.gcScheduler=this.Tc(t,this.localStore),this.indexBackfillerScheduler=this.Ec(t,this.localStore)}Tc(t,e){return null}Ec(t,e){return null}Ic(t){return function(t,e,n,r){return new Gh(t,e,n,r)}(this.persistence,new Vh,t.initialUser,this.It)}yc(t){return new jh(Bh.Bs,this.It)}gc(t){return new Jh}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class kf{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=t=>af(this.syncEngine,t,1),this.remoteStore.remoteSyncer.handleCredentialChange=yf.bind(null,this.syncEngine),await async function(t,e){const n=Fs(t);e?(n._u.delete(2),await ld(n)):e||(n._u.add(2),await hd(n),n.gu.set("Unknown"))}(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new Hd}createDatastore(t){const e=nd(t.databaseInfo.databaseId),n=(r=t.databaseInfo,new td(r));var r;return function(t,e,n,r){return new sd(t,e,n,r)}(t.authCredentials,t.appCheckCredentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>af(this.syncEngine,t,0),o=Qh.C()?new Qh:new Yh,new ud(e,n,r,i,o);var e,n,r,i,o}createSyncEngine(t,e){return function(t,e,n,r,i,o,a){const s=new ef(t,e,n,r,i,o);return a&&(s.dc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return async function(t){const e=Fs(t);Ds("RemoteStore","RemoteStore shutting down."),e._u.add(5),await hd(e),e.mu.shutdown(),e.gu.set("Unknown")}(this.remoteStore)}}function Tf(t,e,n){if(!n)throw new Gs(Vs.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _f(t){if(!cc.isDocumentKey(t))throw new Gs(Vs.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function If(t){if(cc.isDocumentKey(t))throw new Gs(Vs.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xf(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=function(t){return t.constructor?t.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return"function"==typeof t?"a function":Us()}function Af(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Gs(Vs.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xf(t);throw new Gs(Vs.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}const Sf=new Map;class Lf{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Gs(Vs.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Gs(Vs.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(t,e,n,r){if(!0===e&&!0===r)throw new Gs(Vs.INVALID_ARGUMENT,"experimentalForceLongPolling and experimentalAutoDetectLongPolling cannot be used together.")}(0,t.experimentalForceLongPolling,0,t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Cf{constructor(t,e,n,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Lf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Gs(Vs.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new Gs(Vs.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Lf(t),void 0!==t.credentials&&(this._authCredentials=function(t){if(!t)return new Ks;switch(t.type){case"gapi":const e=t.client;return new Js(e,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Gs(Vs.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=Sf.get(t);e&&(Ds("ComponentProvider","Removing Datastore"),Sf.delete(t),e.terminate())}(this),Promise.resolve()}}class Of{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nf(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Of(this.firestore,t,this._key)}}class Pf{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Pf(this.firestore,t,this._query)}}class Nf extends Pf{constructor(t,e,n){super(t,e,Tu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Of(this.firestore,null,new cc(t))}withConverter(t){return new Nf(this.firestore,t,this._path)}}function Df(t,e,...n){if(t=M(t),Tf("collection","path",e),t instanceof Cf){const r=oc.fromString(e,...n);return If(r),new Nf(t,null,r)}{if(!(t instanceof Of||t instanceof Nf))throw new Gs(Vs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(oc.fromString(e,...n));return If(r),new Nf(t.firestore,null,r)}}function Mf(t,e,...n){if(t=M(t),1===arguments.length&&(e=Zs.R()),Tf("doc","path",e),t instanceof Cf){const r=oc.fromString(e,...n);return _f(r),new Of(t,null,new cc(r))}{if(!(t instanceof Of||t instanceof Nf))throw new Gs(Vs.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(oc.fromString(e,...n));return _f(r),new Of(t.firestore,t instanceof Nf?t.converter:null,new cc(r))}}class Rf{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Rc(this.observer.next,t)}error(t){this.observer.error?this.Rc(this.observer.error,t):Ms("Uncaught Error in snapshot listener:",t.toString())}bc(){this.muted=!0}Rc(t,e){this.muted||setTimeout((()=>{this.muted||t(e)}),0)}}class jf{constructor(t,e){this._data=e,this.type="AggregateQuerySnapshot",this.query=t}data(){return this._data}}class Uf{constructor(t,e,n){this.query=t,this.datastore=e,this.userDataWriter=n}run(){return async function(t,e){const n=Fs(t),r=function(t,e){const n=ih(t,e);return{structuredAggregationQuery:{aggregations:[{count:{},alias:"count_alias"}],structuredQuery:n.structuredQuery},parent:n.parent}}(n.It,Lu(e)),i=r.parent;return n.connection.co||delete r.parent,(await n._o("RunAggregationQuery",i,r,1)).filter((t=>!!t.result)).map((t=>t.result.aggregateFields))}(this.datastore,this.query._query).then((t=>{Bs(void 0!==t[0]);const e=Object.entries(t[0]).filter((([t,e])=>"count_alias"===t)).map((([t,e])=>this.userDataWriter.convertValue(e)))[0];return Bs("number"==typeof e),Promise.resolve(new jf(this.query,{count:e}))}))}}class Bf{constructor(t,e,n,r){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=n,this.databaseInfo=r,this.user=Cs.UNAUTHENTICATED,this.clientId=Zs.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async t=>{Ds("FirestoreClient","Received user=",t.uid),await this.authCredentialListener(t),this.user=t})),this.appCheckCredentials.start(n,(t=>(Ds("FirestoreClient","Received new app check token=",t),this.appCheckCredentialListener(t,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Gs(Vs.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const n=Ud(e,"Failed to shutdown persistence");t.reject(n)}})),t.promise}}async function Ff(t,e){t.asyncQueue.verifyOperationInProgress();const n=await async function(t){return t.offlineComponents||(Ds("FirestoreClient","Using default OfflineComponentProvider"),await async function(t,e){t.asyncQueue.verifyOperationInProgress(),Ds("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async t=>{r.isEqual(t)||(await Hh(e.localStore,t),r=t)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t.offlineComponents=e}(t,new Ef)),t.offlineComponents}(t);Ds("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener((t=>Dd(e.remoteStore,t))),t.setAppCheckTokenChangeListener(((t,n)=>Dd(e.remoteStore,n))),t.onlineComponents=e}async function Vf(t){return t.onlineComponents||(Ds("FirestoreClient","Using default OnlineComponentProvider"),await Ff(t,new kf)),t.onlineComponents}async function Gf(t){const e=await Vf(t),n=e.eventManager;return n.onListen=nf.bind(null,e.syncEngine),n.onUnlisten=rf.bind(null,e.syncEngine),n}class Hf{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new rd(this,"async_queue_retry"),this.Wc=()=>{const t=ed();t&&Ds("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const t=ed();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.zc(),this.Hc(t)}enterRestrictedMode(t){if(!this.Uc){this.Uc=!0,this.Qc=t||!1;const e=ed();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Wc)}}enqueue(t){if(this.zc(),this.Uc)return new Promise((()=>{}));const e=new Hs;return this.Hc((()=>this.Uc&&this.Qc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Lc.push(t),this.Jc())))}async Jc(){if(0!==this.Lc.length){try{await this.Lc[0](),this.Lc.shift(),this.xo.reset()}catch(t){if(!mc(t))throw t;Ds("AsyncQueue","Operation failed with retryable error: "+t)}this.Lc.length>0&&this.xo.Ro((()=>this.Jc()))}}Hc(t){const e=this.Bc.then((()=>(this.Gc=!0,t().catch((t=>{this.Kc=t,this.Gc=!1;const e=function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t);throw Ms("INTERNAL UNHANDLED ERROR: ",e),t})).then((t=>(this.Gc=!1,t))))));return this.Bc=e,e}enqueueAfterDelay(t,e,n){this.zc(),this.jc.indexOf(t)>-1&&(e=0);const r=jd.createAndSchedule(this,t,e,n,(t=>this.Yc(t)));return this.qc.push(r),r}zc(){this.Kc&&Us()}verifyOperationInProgress(){}async Xc(){let t;do{t=this.Bc,await t}while(t!==this.Bc)}Zc(t){for(const e of this.qc)if(e.timerId===t)return!0;return!1}ta(t){return this.Xc().then((()=>{this.qc.sort(((t,e)=>t.targetTimeMs-e.targetTimeMs));for(const e of this.qc)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.Xc()}))}ea(t){this.jc.push(t)}Yc(t){const e=this.qc.indexOf(t);this.qc.splice(e,1)}}class qf extends Cf{constructor(t,e,n,r){super(t,e,n,r),this.type="firestore",this._queue=new Hf,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Wf(this),this._firestoreClient.terminate()}}function Kf(t,e){const n="string"==typeof t?t:e||"(default)",r=wt("object"==typeof t?t:It(),"firestore").getImmediate({identifier:n});if(!r._initialized){const t=(t=>{const e=E("firestore");if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]})();t&&function(t,e,n,r={}){var i;const o=(t=Af(t,Cf))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Rs("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=Cs.MOCK_USER;else{e=function(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[v(JSON.stringify({alg:"none",type:"JWT"})),v(JSON.stringify(o)),""].join(".")}(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Gs(Vs.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Cs(o)}t._authCredentials=new zs(new qs(e,n))}}(r,...t)}return r}function zf(t){return t._firestoreClient||Wf(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Wf(t){var e;const n=t._freezeSettings(),r=function(t,e,n,r){return new Dc(t,e,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(t._databaseId,(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",t._persistenceKey,n);t._firestoreClient=new Bf(t._authCredentials,t._appCheckCredentials,t._queue,r)}class $f{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $f(xc.fromBase64String(t))}catch(t){throw new Gs(Vs.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(t){return new $f(xc.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class Jf{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new Gs(Vs.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sc(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Yf{constructor(t){this._methodName=t}}class Qf{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new Gs(Vs.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Gs(Vs.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return tc(this._lat,t._lat)||tc(this._long,t._long)}}const Xf=/^__.*__$/;class Zf{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new ul(t,this.data,this.fieldMask,e,this.fieldTransforms):new cl(t,this.data,e,this.fieldTransforms)}}class tp{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new ul(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ep(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Us()}}class np{constructor(t,e,n,r,i,o){this.settings=t,this.databaseId=e,this.It=n,this.ignoreUndefinedProperties=r,void 0===i&&this.na(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(t){return new np(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:n,oa:!1});return r.ua(t),r}ca(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.ia({path:n,oa:!1});return r.na(),r}aa(t){return this.ia({path:void 0,oa:!0})}ha(t){return mp(t,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(t){return void 0!==this.fieldMask.find((e=>t.isPrefixOf(e)))||void 0!==this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))}na(){if(this.path)for(let t=0;t<this.path.length;t++)this.ua(this.path.get(t))}ua(t){if(0===t.length)throw this.ha("Document fields must not be empty");if(ep(this.sa)&&Xf.test(t))throw this.ha('Document fields cannot begin and end with "__"')}}class rp{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.It=n||nd(t)}da(t,e,n,r=!1){return new np({sa:t,methodName:e,fa:n,path:sc.emptyPath(),oa:!1,la:r},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function ip(t){const e=t._freezeSettings(),n=nd(t._databaseId);return new rp(t._databaseId,!!e.ignoreUndefinedProperties,n)}function op(t,e,n,r,i,o={}){const a=t.da(o.merge||o.mergeFields?2:0,e,n,i);hp("Data must be an object, but it was:",a,r);const s=up(r,a);let c,u;if(o.merge)c=new Ic(a.fieldMask),u=a.fieldTransforms;else if(o.mergeFields){const t=[];for(const r of o.mergeFields){const i=dp(e,r,n);if(!a.contains(i))throw new Gs(Vs.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);gp(t,i)||t.push(i)}c=new Ic(t),u=a.fieldTransforms.filter((t=>c.covers(t.field)))}else c=null,u=a.fieldTransforms;return new Zf(new tu(s),c,u)}class ap extends Yf{_toFieldTransform(t){if(2!==t.sa)throw 1===t.sa?t.ha(`${this._methodName}() can only appear at the top level of your update data`):t.ha(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof ap}}class sp extends Yf{_toFieldTransform(t){return new Xu(t.path,new qu)}isEqual(t){return t instanceof sp}}function cp(t,e){if(lp(t=M(t)))return hp("Unsupported field value:",e,t),up(t,e);if(t instanceof Yf)return function(t,e){if(!ep(e.sa))throw e.ha(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.ha(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=cp(i,e.aa(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=M(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Bu(e.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=nc.fromDate(t);return{timestampValue:Kl(e.It,n)}}if(t instanceof nc){const n=new nc(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Kl(e.It,n)}}if(t instanceof Qf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $f)return{bytesValue:zl(e.It,t._byteString)};if(t instanceof Of){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.ha(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Jl(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.ha(`Unsupported field value: ${xf(t)}`)}(t,e)}function up(t,e){const n={};return bc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yc(t,((t,r)=>{const i=cp(r,e.ra(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function lp(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof nc||t instanceof Qf||t instanceof $f||t instanceof Of||t instanceof Yf)}function hp(t,e,n){if(!lp(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){const r=xf(n);throw"an object"===r?e.ha(t+" a custom object"):e.ha(t+" "+r)}}function dp(t,e,n){if((e=M(e))instanceof Jf)return e._internalPath;if("string"==typeof e)return pp(t,e);throw mp("Field path arguments must be of type string or ",t,!1,void 0,n)}const fp=new RegExp("[~\\*/\\[\\]]");function pp(t,e,n){if(e.search(fp)>=0)throw mp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Jf(...e.split("."))._internalPath}catch(r){throw mp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function mp(t,e,n,r,i){const o=r&&!r.isEmpty(),a=void 0!==i;let s=`Function ${e}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=". ";let c="";return(o||a)&&(c+=" (found",o&&(c+=` in field ${r}`),a&&(c+=` in document ${i}`),c+=")"),new Gs(Vs.INVALID_ARGUMENT,s+t+c)}function gp(t,e){return t.some((t=>t.isEqual(e)))}class vp{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Of(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new yp(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(bp("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class yp extends vp{data(){return super.data()}}function bp(t,e){return"string"==typeof e?pp(t,e):e instanceof Jf?e._internalPath:e._delegate._internalPath}class wp{}function Ep(t,...e){for(const n of e)t=n._apply(t);return t}class kp extends wp{constructor(t,e,n){super(),this.ma=t,this.ga=e,this.ya=n,this.type="where"}_apply(t){const e=ip(t.firestore),n=function(t,e,n,r,i,o,a){let s;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Gs(Vs.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){Ip(a,o);const e=[];for(const n of a)e.push(_p(r,t,n));s={arrayValue:{values:e}}}else s=_p(r,t,a)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||Ip(a,o),s=function(t,e,n,r=!1){return cp(n,t.da(r?4:3,e))}(n,"where",a,"in"===o||"not-in"===o);const c=cu.create(i,o,s);return function(t,e){if(e.dt()){const n=xu(t);if(null!==n&&!n.isEqual(e.field))throw new Gs(Vs.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${e.field.toString()}'`);const r=Iu(t);null!==r&&function(t,e,n){if(!n.isEqual(e))throw new Gs(Vs.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}(0,e.field,r)}const n=function(t,e){for(const n of t.filters)if(e.indexOf(n.op)>=0)return n.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw n===e.op?new Gs(Vs.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Gs(Vs.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}(t,c),c}(t._query,0,e,t.firestore._databaseId,this.ma,this.ga,this.ya);return new Pf(t.firestore,t.converter,function(t,e){const n=t.filters.concat([e]);return new ku(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}function Tp(t,e,n){const r=e,i=bp("where",t);return new kp(i,r,n)}function _p(t,e,n){if("string"==typeof(n=M(n))){if(""===n)throw new Gs(Vs.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Au(e)&&-1!==n.indexOf("/"))throw new Gs(Vs.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(oc.fromString(n));if(!cc.isDocumentKey(r))throw new Gs(Vs.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zc(t,new cc(r))}if(n instanceof Of)return zc(t,n._key);throw new Gs(Vs.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xf(n)}.`)}function Ip(t,e){if(!Array.isArray(t)||0===t.length)throw new Gs(Vs.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new Gs(Vs.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}class xp{convertValue(t,e="none"){switch(Bc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Lc(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Cc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Us()}}convertObject(t,e){const n={};return yc(t.fields,((t,r)=>{n[t]=this.convertValue(r,e)})),n}convertGeoPoint(t){return new Qf(Lc(t.latitude),Lc(t.longitude))}convertArray(t,e){return(t.values||[]).map((t=>this.convertValue(t,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Pc(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Nc(t));default:return null}}convertTimestamp(t){const e=Sc(t);return new nc(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=oc.fromString(t);Bs(ph(n));const r=new Mc(n.get(1),n.get(3)),i=new cc(n.popFirst(5));return r.isEqual(e)||Ms(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}class Ap{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Sp extends vp{constructor(t,e,n,r,i,o){super(t,e,n,r,o),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Lp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(bp("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Lp extends Sp{data(t={}){return super.data(t)}}class Cp{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Ap(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach((n=>{t.call(e,new Lp(this._firestore,this._userDataWriter,n.key,n,new Ap(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Gs(Vs.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map((n=>{const r=new Lp(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Ap(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:e++}}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter((t=>e||3!==t.type)).map((e=>{const r=new Lp(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Ap(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,o=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),o=n.indexOf(e.doc.key)),{type:Op(e.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Op(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Us()}}function Pp(t){t=Af(t,Of);const e=Af(t.firestore,qf);return function(t,e,n={}){const r=new Hs;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new Rf({next:o=>{e.enqueueAndForget((()=>Kd(t,a)));const s=o.docs.has(n);!s&&o.fromCache?i.reject(new Gs(Vs.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&o.fromCache&&r&&"server"===r.source?i.reject(new Gs(Vs.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:t=>i.reject(t)}),a=new Jd(Tu(n.path),o,{includeMetadataChanges:!0,Nu:!0});return qd(t,a)}(await Gf(t),t.asyncQueue,e,n,r))),r.promise}(zf(e),t._key).then((n=>function(t,e,n){const r=n.docs.get(e._key),i=new Np(t);return new Sp(t,i,e._key,r,new Ap(n.hasPendingWrites,n.fromCache),e.converter)}(e,t,n)))}class Np extends xp{constructor(t){super(),this.firestore=t}convertBytes(t){return new $f(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Of(this.firestore,null,e)}}function Dp(t){t=Af(t,Pf);const e=Af(t.firestore,qf),n=zf(e),r=new Np(e);return function(t){if("L"===t.limitType&&0===t.explicitOrderBy.length)throw new Gs(Vs.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(t._query),function(t,e,n={}){const r=new Hs;return t.asyncQueue.enqueueAndForget((async()=>function(t,e,n,r,i){const o=new Rf({next:n=>{e.enqueueAndForget((()=>Kd(t,a))),n.fromCache&&"server"===r.source?i.reject(new Gs(Vs.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),a=new Jd(n,o,{includeMetadataChanges:!0,Nu:!0});return qd(t,a)}(await Gf(t),t.asyncQueue,e,n,r))),r.promise}(n,t._query).then((n=>new Cp(e,r,t,n)))}function Mp(t,e,n,...r){t=Af(t,Of);const i=Af(t.firestore,qf),o=ip(i);let a;return a="string"==typeof(e=M(e))||e instanceof Jf?function(t,e,n,r,i,o){const a=t.da(1,e,n),s=[dp(e,r,n)],c=[i];if(o.length%2!=0)throw new Gs(Vs.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let t=0;t<o.length;t+=2)s.push(dp(e,o[t])),c.push(o[t+1]);const u=[],l=tu.empty();for(let t=s.length-1;t>=0;--t)if(!gp(u,s[t])){const e=s[t];let n=c[t];n=M(n);const r=a.ca(e);if(n instanceof ap)u.push(e);else{const t=cp(n,r);null!=t&&(u.push(e),l.set(e,t))}}const h=new Ic(u);return new tp(l,h,a.fieldTransforms)}(o,"updateDoc",t._key,e,n,r):function(t,e,n,r){const i=t.da(1,e,n);hp("Data must be an object, but it was:",i,r);const o=[],a=tu.empty();yc(r,((t,r)=>{const s=pp(e,t,n);r=M(r);const c=i.ca(s);if(r instanceof ap)o.push(s);else{const t=cp(r,c);null!=t&&(o.push(s),a.set(s,t))}}));const s=new Ic(o);return new tp(a,s,i.fieldTransforms)}(o,"updateDoc",t._key,e),Up(i,[a.toMutation(t._key,tl.exists(!0))])}function Rp(t){return Up(Af(t.firestore,qf),[new fl(t._key,tl.none())])}function jp(t,e){const n=Af(t.firestore,qf),r=Mf(t),i=function(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}(t.converter,e);return Up(n,[op(ip(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,tl.exists(!1))]).then((()=>r))}function Up(t,e){return function(t,e){const n=new Hs;return t.asyncQueue.enqueueAndForget((async()=>async function(t,e,n){const r=wf(t);try{const t=await function(t,e){const n=Fs(t),r=nc.now(),i=e.reduce(((t,e)=>t.add(e.key)),Cl());let o,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(t=>{let s=El(),c=Cl();return n.Gi.getEntries(t,i).next((t=>{s=t,s.forEach(((t,e)=>{e.isValidDocument()||(c=c.add(t))}))})).next((()=>n.localDocuments.getOverlayedDocuments(t,s))).next((i=>{o=i;const a=[];for(const t of e){const e=al(t,o.get(t.key).overlayedDocument);null!=e&&a.push(new ul(t.key,e,eu(e.value.mapValue),tl.exists(!0)))}return n.mutationQueue.addMutationBatch(t,r,a,e)})).next((e=>{a=e;const r=e.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(t,e.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:_l(o)})))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.hc[t.currentUser.toKey()];r||(r=new wc(tc)),r=r.insert(e,n),t.hc[t.currentUser.toKey()]=r}(r,t.batchId,n),await vf(r,t.changes),await Id(r.remoteStore)}catch(t){const e=Ud(t,"Failed to persist write");n.reject(e)}}(await function(t){return Vf(t).then((t=>t.syncEngine))}(t),e,n))),n.promise}(zf(t),e)}function Bp(t){const e=Af(t.firestore,qf);return function(t,e,n){const r=new Hs;return t.asyncQueue.enqueueAndForget((async()=>{try{if(yd(await function(t){return Vf(t).then((t=>t.remoteStore))}(t))){const i=await function(t){return Vf(t).then((t=>t.datastore))}(t),o=new Uf(e,i,n).run();r.resolve(o)}else r.reject(new Gs(Vs.UNAVAILABLE,"Failed to get count result because the client is offline."))}catch(t){r.reject(t)}})),r.promise}(zf(e),t,new Np(e))}function Fp(t){return Fp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Fp(t)}function Vp(){Vp=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==e&&n.call(v,o)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var c=l(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Fp(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Gp(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Hp(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Gp(o,r,i,a,s,"next",t)}function s(t){Gp(o,r,i,a,s,"throw",t)}a(void 0)}))}}!function(t,e=!0){Os="9.14.0",bt(new R("firestore",((t,{instanceIdentifier:n,options:r})=>{const i=t.getProvider("app").getImmediate(),o=new qf(new Ws(t.getProvider("auth-internal")),new Qs(t.getProvider("app-check-internal")),function(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Gs(Vs.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mc(t.options.projectId,e)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),xt(Ls,"3.7.3",t),xt(Ls,"3.7.3","esm2017")}();var qp={render:function(){return Hp(Vp().mark((function t(){return Vp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n      <div class="content">\n        <h1 class="ms-5 judul">Halaman Pendataan</h1>\n        <nav aria-label="Page navigation example" class="ms-5">\n        <ul class="pagination flex-wrap">\n            <li class="page-item"><a class="page-link rounded-0" href="#/patroli">Patroli</a></li>\n            <li class="page-item"><a class="page-link active" href="#/inkubasi">Inkubasi</a></li>\n            <li class="page-item"><a class="page-link" href="#/penangkaran">Penangkaran</a></li>\n            <li class="page-item"><a class="page-link rounded-0" href="#/perilisan">Perilisan</a></li>\n        </ul>\n        </nav>\n\n        <h2 class="mx-5 my-4">Data Telur Penyu dalam Inkubasi</h2>\n\n        <div class="table-responsive mx-5 my-4">\n          <table class="table table-striped border">\n            <thead>\n              <tr>\n                <th scope="col"><center>No.</center></th>\n                <th scope="col"><center>Jenis Penyu</center></th>\n                <th scope="col"><center>Tanggal Ditemukan</center></th>\n                <th scope="col"><center>Tanggal Bertelur</center></th>\n                <th scope="col"><center>Jumlah Telur</center></th>\n                <th scope="col"><center>Aksi</center></th>\n              </tr>\n            </thead>\n            <tbody id="tabel_inkubasi"></tbody>\n          </table>\n        </div>\n      </div>\n\n      \x3c!--  ================================= MODAL CATAT TELUR MENETAS   --\x3e\n<div class="modal fade" id="catatPenetasanModal" tabindex="-1" aria-labelledby="catatPenetasanModalLabel" aria-hidden="true">\n  <div class="modal-dialog">\n    <div class="modal-content">\n      <div class="modal-header">\n        <h1 class="modal-title fs-5 w-100 text-center" id="exampleModalLabel">Data Sarang Penyu</h1>\n        <button type="button" id="view-btn" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n      </div>\n      <div class="modal-body">\n        <p class="text-center">Isikan data berikut ketika telur menetas!</p>\n        \n        <div class="detailPenyuMenetas mb-5">\n          <p>Jenis Penyu : <span id="viewJenisPenyu01"></span></p>\n          <p>Tanggal Ditemukan : <span id="viewtglPenemuan"></span></p>\n          <p>Waktu Penemuan : <span id="viewwaktuDitemukan"></span></p>\n          <p>Jumlah Telur : <span id="viewJumlahTelur"></span></p>\n        </div>\n        \n        <form id ="addKondisiTelur">\n          <p class="fw-semibold">Kondisi Telur Menetas</p>\n          <div class="mb-3">\n            <label for="jumlahTelurMenetas" class="form-label">Telur Menetas</label>\n            <input type="number" class="form-control" id="jumlahTelurMenetas" aria-describedby="telurMenetas">\n          </div>\n          <div class="mb-3">\n            <label for="jumlahTelurGagal" class="form-label">Telur Gagal</label>\n            <input type="number" class="form-control" id="jumlahTelurGagal" aria-describedby="telurGagal">\n          </div>\n           <div class="mb-3">\n            <label for="jumlahMatiMenetas" class="form-label">Mati Ketika Menetas</label>\n            <input type="number" class="form-control" id="jumlahMatiMenetas" aria-describedby="matiMenetas">\n          </div>\n        </form>\n      </div>\n      <div class="modal-footer mx-auto">\n        <button type="button" class="btn ghost-button" data-bs-dismiss="modal">Batal</button>\n        <button type="button" id="updateBtn" class="btn filled-button" data-bs-dismiss="modal">Simpan</button>\n      </div>\n    </div>\n  </div>\n</div>\n    \n\n      \x3c!-- ================================= MODAL DETAIL INKUBASI --\x3e\n      <div class="modal modal-xl fade" id="detailInkubasi" tabindex="-1" aria-labelledby="detailInkubasiLabel" aria-hidden="true">\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h1 class="modal-title fs-5 w-100 text-center" id="exampleModalLabel">Detail Inkubasi</h1>\n              <button type="button" id="detail-btn" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n            </div>\n            <div class="modal-body">\n              <div class="row row-cols-1 row-cols-md-2 g-4 mx-4 my-2">\n                <div class="col">\n                  <h4>Data Penemuan</h4>\n                  <div class="my-3">\n                  <p>Jenis Penyu : <span id="viewjenisPenyu2">Lekang</span></p>\n                  <p>Tanggal Penemuan : <span id="viewtglpenemuan2">8 November 2022</span></p>\n                  <p>Waktu Penemuan : <span id="viewwaktuditemukan2">08 : 21 : 34 PM</span></p>\n                  <p>Tanggal Peneluran : <span id="viewtglpeneluran2">7 November 2022</span></p>\n                  <p>Perkiraan Tanggal Peneluran : <span id="viewperkiraantglpeneluran2">8 November 2022</span></p>\n                  </div>\n                </div>\n                \n                <div class="col">\n                  <h4>Data Kondisi Telur dan Sarang</h4>\n                  <div class="my-3">\n                  <p>Jumlah Telur : <span id="viewjumlahtelur2">260</span></p>\n                  <p>Telur Baik : <span id="viewtelurbaik2">240</span></p>\n                  <p>Telur Dirusak : <span id="viewtelurrusak2">2</span></p>\n                  <p>Telur Mati : <span id="viewtelurmati2">8</span></p>\n                  <p>Telur Abnormal : <span id="viewtelurabnormal2">10</span></p>\n                  <p>Ketebalan Penutup : <span id="viewketebalanpenutup2">8 cm</span></p>\n                  <p>Kedalaman Dasar : <span id="viewkedalamandasar2">20 cm</span></p>\n                  </div>\n                </div>\n                \n                <div class="col">\n                  <h4>Data Kondisi Menetas</h4>\n                  <div class="my-3">\n                  <p>Telur Berhasil Menetas : <span id="jumlahTelurMenetas2"></span></p>\n                  <p>Telur Gagal Menetas : <span id="jumlahTelurGagal2"></span></p>\n                  <p>Mati Saat Baru Menetas : <span id="jumlahMatiMenetas2"></span></p>\n                  </div>\n                </div>\n                \n              </div>\n            </div>\n            <div class="modal-footer mx-auto">\n              <button type="button" class="btn filled-button data-bs-toggle="modal" data-bs-target="#catatPenetasanModal">Catat Telur Menetas</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    ');case 1:case"end":return t.stop()}}),t)})))()},afterRender:function(){return Hp(Vp().mark((function t(){var e,n,r,i,o,a,s;return Vp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e="render-event",n=_t(Er),r=Kf(n),i=Df(r,"patroli"),o=document.getElementById("tabel_inkubasi"),a=function(){var t=Hp(Vp().mark((function t(n){var i;return Vp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pp(Mf(r,"patroli",n));case 2:(i=t.sent).exists()?(document.getElementById("viewJenisPenyu01").innerHTML=i.data().inputJenisPenyu01,document.getElementById("viewtglPenemuan").innerHTML=i.data().tglPenemuan,document.getElementById("viewwaktuDitemukan").innerHTML=i.data().waktuDitemukan,document.getElementById("viewJumlahTelur").innerHTML=i.data().inputTelurBaik,document.querySelector("#updateBtn").addEventListener("click",Hp(Vp().mark((function t(){var o,a,s,c,u,l,h,d,f,p,m,g;return Vp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=Number(document.getElementById("jumlahTelurMenetas").value),a=Number(document.getElementById("jumlahTelurGagal").value),s=Number(document.getElementById("jumlahMatiMenetas").value),c=Number(i.data().inputTelurBaik),c-=o,u=i.data().jumlahTelurGagal,c-=a,l={inputTelurBaik:c-=s,jumlahTelurMenetas:o,jumlahTelurGagal:u+=a,jumlahMatiMenetas:s},t.next=12,Mp(Mf(r,"patroli",n),l);case 12:return h=i.data().inputJenisPenyu01,t.next=15,Pp(Mf(r,"penangkaran",h));case 15:return d=t.sent,f=o,p=d.data().jumlahTukikDalamPenangkaran,p+=f,m=d.data().totalPenangkaran,g={jumlahTukikDalamPenangkaran:p,totalPenangkaran:m+=f},t.next=24,Mp(Mf(r,"penangkaran",h),g);case 24:document.dispatchEvent(new Event(e)),mr()("Sukses","Data berhasil diupdate","success");case 26:case"end":return t.stop()}}),t)}))))):console.log("No such document!");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),s=function(){var t=Hp(Vp().mark((function t(e){var n;return Vp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pp(Mf(r,"patroli",e));case 2:(n=t.sent).exists()?(document.getElementById("viewjenisPenyu2").innerHTML=n.data().inputJenisPenyu01,document.getElementById("viewtglpenemuan2").innerHTML=n.data().tglPenemuan,document.getElementById("viewwaktuditemukan2").innerHTML=n.data().waktuDitemukan,document.getElementById("viewtglpeneluran2").innerHTML=n.data().tglPeneluran,document.getElementById("viewperkiraantglpeneluran2").innerHTML=n.data().perkiraanTglPeneluran,document.getElementById("viewketebalanpenutup2").innerHTML=n.data().inputKetebalanPenutup,document.getElementById("viewkedalamandasar2").innerHTML=n.data().inputKedalamanDasar,document.getElementById("viewjumlahtelur2").innerHTML=n.data().inputJumlahTelur,document.getElementById("viewtelurbaik2").innerHTML=n.data().inputTelurBaik,document.getElementById("viewtelurrusak2").innerHTML=n.data().inputTelurRusak,document.getElementById("viewtelurmati2").innerHTML=n.data().inputTelurMati,document.getElementById("viewtelurabnormal2").innerHTML=n.data().inputTelurAbnormal,document.getElementById("jumlahTelurMenetas2").innerHTML=n.data().jumlahTelurMenetas,document.getElementById("jumlahTelurGagal2").innerHTML=n.data().jumlahTelurGagal,document.getElementById("jumlahMatiMenetas2").innerHTML=n.data().jumlahMatiMenetas,console.log(n.data().jumlahMatiMenetas)):console.log("No such document!");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),document.addEventListener(e,Hp(Vp().mark((function t(){var e,n,r;return Vp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o.innerHTML="",e=Ep(i,Tp("inputTelurBaik","!=",0)),t.next=4,Dp(e);case 4:n=t.sent,r=1,n.forEach((function(t){var e=document.createElement("tr");e.innerHTML+='\n          <th scope="row" class="text-center">'.concat(r,'</th>\n          <td class="text-center">').concat(t.data().inputJenisPenyu01,'</td>\n          <td class="text-center">').concat(t.data().tglPenemuan,'</td>\n          <td class="text-center">').concat(t.data().tglPeneluran,'</td>\n          <td class="text-center">').concat(t.data().inputTelurBaik,'</td>\n          <td class="text-center">\n          <button type="button" class="btn btn-warning px-2 rounded-4 view-btn" data-bs-toggle="modal" data-bs-target="#catatPenetasanModal"" title="Ubah Data" id=').concat(t.id,'><i class="bi bi-pencil-square action-btn"></i></button>\n          <button type="button" class="btn btn-success px-2 rounded-4 detail-btn" data-bs-toggle="modal" data-bs-target="#detailInkubasi" title="Detail" id=').concat(t.id,">•••</button>\n          </td>\n        "),o.appendChild(e),r+=1})),document.querySelectorAll(".view-btn").forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation();var e=t.currentTarget.id;a(e)}))})),document.querySelectorAll(".detail-btn").forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation();var e=t.currentTarget.id;s(e),console.log(s(e))}))}));case 11:case"end":return t.stop()}}),t)})))),document.dispatchEvent(new Event(e));case 9:case"end":return t.stop()}}),t)})))()}};function Kp(t){return Kp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Kp(t)}function zp(){zp=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==e&&n.call(v,o)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var c=l(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Kp(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Wp(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function $p(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Wp(o,r,i,a,s,"next",t)}function s(t){Wp(o,r,i,a,s,"throw",t)}a(void 0)}))}}var Jp={render:function(){return $p(zp().mark((function t(){return zp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n    <div class="modal fade" id="tambahSarangModal" tabindex="-1" aria-labelledby="tambahSarangModalLabel" aria-hidden="true">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <h1 class="modal-title fs-5 w-100 text-center" id="exampleModalLabel">Tambah Sarang Penyu</h1>\n          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n        </div>\n        <div class="modal-body">\n          <p class="text-center pb-2">Isikan data berikut ketika menemukan sarang penyu baru</p>\n          \n          <form id="addPatroli">\n            <div class="container my-3">\n          <div class="row row-cols-2">\n            <div class="col">\n              <div class="mb-3">\n              <label for="tglPenemuan" class="form-label">Tanggal Penemuan</label>\n              <input type="date" class="form-control" id="tglPenemuan" aria-describedby="dateHelp">\n            </div>\n            </div>\n            <div class="col">\n              <div class="mb-3">\n              <label for="waktuDitemukan" class="form-label">Waktu Ditemukan</label>\n              <input type="time" class="form-control" id="waktuDitemukan" aria-describedby="dateHelp">\n            </div>\n            </div>\n            <div class="col">\n              <div class="mb-3">\n              <label for="tglPeneluran" class="form-label">Tanggal Peneluran</label>\n              <input type="date" class="form-control" id="tglPeneluran" aria-describedby="dateHelp">\n            </div>\n            </div>\n            <div class="col">\n              <div class="mb-3">\n              <label for="perkiraanTglPeneluran" class="form-label">Perkiraan Tanggal Peneluran</label>\n              <input type="date" class="form-control" id="perkiraanTglPeneluran" aria-describedby="dateHelp">\n            </div>\n            </div>\n          </div>\n        </div>\n            \n        <div class="container my-3">\n          <p class="">Kondisi Sarang</p>\n          <div class="row row-cols-2">\n            <div class="col">\n              <div class="mb-3">\n              <label for="inputKetebalanPenutup" class="form-label">Ketebalan Penutup</label>\n              <input type="number" class="form-control" id="inputKetebalanPenutup" aria-describedby="dateHelp" placeholder="cm">\n              </div>\n            </div>\n            <div class="col">\n              <div class="mb-3">\n              <label for="inputKedalamanDasar" class="form-label">Kedalaman Dasar</label>\n              <input type="number" class="form-control" id="inputKedalamanDasar" aria-describedby="dateHelp" placeholder="cm">\n            </div>\n          </form>\n        </div>\n            </div>\n          </div>\n          \n           <div class="container my-3">\n               <p class="">Kondisi Sarang</p>\n            <div class="row row-cols-2">\n              <div class="col">\n               <div class="mb-3">\n                <label for="inputJumlahTelur" class="form-label">Jumlah Telur</label>\n                <input type="number" class="form-control" id="inputJumlahTelur" aria-describedby="dateHelp" placeholder="butir">\n               </div>\n              </div>\n              <div class="col">\n               <div class="mb-3">\n                <label for="inputJenisPenyu01" class="form-label">Jenis Penyu</label>\n               <div class="input-group mb-3">\n              <select class="form-select" id="inputJenisPenyu01">\n      \n                <option value="Lekang">Lekang</option>\n                <option value="Sisik">Sisik</option>\n              </select>\n              </div>\n               </div>\n              </div>\n            </div>\n             \n          <div class="row row-cols-2">\n            <div class="col">\n              <div class="mb-3">\n              <label for="inputTelurBaik" class="form-label">Telur Baik</label>\n              <input type="number" class="form-control" id="inputTelurBaik" aria-describedby="dateHelp" placeholder="butir">\n            </div>\n            </div>\n            <div class="col">\n              <div class="mb-3">\n              <label for="inputTelurRusak" class="form-label">Telur Rusak</label>\n              <input type="number" class="form-control" id="inputTelurRusak" aria-describedby="dateHelp" placeholder="butir">\n            </div>\n          </form>\n        </div>\n          </div>\n          <div class="row row-cols-2">\n            <div class="col">\n              <div class="mb-3">\n              <label for="inputTelurMati" class="form-label">Telur Mati</label>\n              <input type="number" class="form-control" id="inputTelurMati" aria-describedby="dateHelp" placeholder="butir">\n            </div>\n            </div>\n            <div class="col">\n              <div class="mb-3">\n              <label for="inputTelurAbnormal" class="form-label">Telur Abnormal</label>\n              <input type="number" class="form-control" id="inputTelurAbnormal" aria-describedby="dateHelp" placeholder="butir">\n            </div>\n          </form>\n        </div>\n      </div>\n          \n    </div>\n  </div>\n            \n        <div class="modal-footer">\n          <button type="button" id ="add-btn" class="btn btn-primary text-center mx-auto">Tambah Sarang</button>\n        </div>\n      </div>\n    </div>\n  </div>\n\n        <div class ="content">\n        <h1 class="ms-5 judul">Halaman Pendataan</h1>\n        <nav aria-label="Page navigation example" class="ms-5">\n        <ul class="pagination flex-wrap">\n            <li class="page-item"><a class="page-link rounded-0 active" href="#/patroli">Patroli</a></li>\n            <li class="page-item"><a class="page-link" href="#/inkubasi">Inkubasi</a></li>\n            <li class="page-item"><a class="page-link" href="#/penangkaran">Penangkaran</a></li>\n            <li class="page-item"><a class="page-link rounded-0" href="#/perilisan">Perilisan</a></li>\n        </ul>\n        </nav>\n\n        <div class="row row-cols-1 row-cols-md-2 g-3 mx-5 my-2 ">\n        <div class="col ">\n            <h2 class="text-left">Data Penemuan Sarang Selama Patroli</h2>\n        </div>\n        <div class="col">\n            <div class="d-grid gap-2 d-md-flex justify-content-md-end">\n            <button class="btn filled-button me-4 px-4 rounded-4" data-bs-toggle="modal" data-bs-target="#tambahSarangModal" type="submit">+ Tambah Sarang</button>\n            </div>\n        </div>\n        </div>\n\n        <div class="table-responsive mx-5 my-4">\n        <table class="table table-striped border">\n        <thead>\n            <tr>\n            <th scope="col"><center>No.</center></th>\n            <th scope="col"><center>Tanggal Penemuan</center></th>\n            <th scope="col"><center>Waktu Ditemukan</center></th>\n            <th scope="col"><center>Tanggal Peneluran Sesungguhnya</center></th>\n            <th scope="col"><center>Perkiraan Tanggal Peneluran</center></th>\n            <th scope="col"><center>Aksi</center></th>\n            </tr>\n        </thead>\n        <tbody id="tabel_patroli"></tbody>\n        </table>\n        </div>\n      </div>\n\n      <div class="modal fade modal-lg" id="modalViewData" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"\n    aria-labelledby="modalViewData" aria-hidden="true">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <h5 class="modal-title" id="staticBackdropLabel">DETAIL PATROLI</h5>\n          <button type="button" id="view-btn" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n        </div>\n        <div class="modal-body">\n          <div class="row">\n            <div class="col">\n              <div>\n                <label class="fw-bold">Tanggal Penemuan :</label>\n                <p id="viewtglPenemuan"></p>\n              </div>\n              <div>\n                <label class="fw-bold">Watu Ditemukan :</label>\n                <p id="viewwaktuDitemukan"></p>\n              </div>\n              <div>\n                <label class="fw-bold">Tanggal Peneluran :</label>\n                <p id="viewtglPeneluran"></p>\n              </div>\n              <div>\n                <label class="fw-bold">Perkiraan Tanggal Peneluran :</label>\n                <p id="viewperkiraanTglPeneluran"></p>\n              </div>\n            </div>\n    \n            <div class="col">\n              <div>\n                <label class="fw-bold">Ketebalan Penutup :</label>\n                <p id="viewKetebalanPenutup"></p>\n              </div>\n              <div>\n                <label class="fw-bold">Kedalaman Dasar :</label>\n                <p id="viewKedalamanDasar"></p>\n              </div>\n              <div>\n                <label class="fw-bold">Jumlah Telur :</label>\n                <p id="viewJumlahTelur"></p>\n              </div>\n              <div>\n                <label class="fw-bold">Jenis Penyu :</label>\n                <p id="viewJenisPenyu01"></p>\n              </div>\n            </div>\n            <div class="col">\n              <div>\n                <label class="fw-bold">Telur Baik :</label>\n                <p id="viewTelurBaik"></p>\n              </div>\n              <div>\n                <label class="fw-bold">Telur Rusak :</label>\n                <p id="viewTelurRusak"></p>\n              </div>\n              <div>\n                <label class="fw-bold">Telur Mati :</label>\n                <p id="viewTelurMati"></p>\n              </div>\n              <div>\n                <label class="fw-bold">Telur Abnormal :</label>\n                <p id="viewTelurAbnormal"></p>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class="modal-footer"></div>\n      </div>\n    </div>\n  </div>\n\n  <div class="modal fade" id="modalUpdateData" tabindex="-1" aria-labelledby="modalUpdateData" aria-hidden="true">\n    <div class="modal-dialog">\n      <div class="modal-content">\n        <div class="modal-header">\n          <h1 class="modal-title fs-5 w-100 text-center" id="exampleModalLabel">Update Sarang Penyu</h1>\n          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n        </div>\n        <div class="modal-body">\n          <p class="text-center pb-2">Isikan data berikut ketika menemukan sarang penyu baru</p>\n            <div class="container my-3">\n            <div class="row row-cols-2">\n            <div class="col">\n              <div class="mb-3">\n              <label for="update-tglPenemuan" class="form-label fw-bold">Tanggal Penemuan</label>\n              <input type="date" class="form-control" id="update-tglPenemuan" aria-describedby="dateHelp" autocomplete="off">\n            </div>\n            </div>\n            <div class="col">\n              <div class="mb-3">\n              <label for="update-waktuDitemukan" class="form-label fw-bold">Waktu Ditemukan</label>\n              <input type="time" class="form-control" id="update-waktuDitemukan" aria-describedby="dateHelp" autocomplete="off">\n            </div>\n            </div>\n            <div class="col">\n              <div class="mb-3">\n              <label for="update-tglPeneluran" class="form-label fw-bold">Tanggal Peneluran</label>\n              <input type="date" class="form-control" id="update-tglPeneluran" aria-describedby="dateHelp" autocomplete="off">\n            </div>\n            </div>\n            <div class="col">\n              <div class="mb-3">\n              <label for="update-perkiraanTglPeneluran" class="form-label fw-bold">Perkiraan Tanggal Peneluran</label>\n              <input type="date" class="form-control" id="update-perkiraanTglPeneluran" aria-describedby="dateHelp" autocomplete="off">\n            </div>\n            </div>\n          </div>\n        </div>\n            \n        <div class="container my-3">\n          <p class="">Kondisi Sarang</p>\n          <div class="row row-cols-2">\n            <div class="col">\n              <div class="mb-3">\n              <label for="update-KetebalanPenutup" class="form-label fw-bold">Ketebalan Penutup</label>\n              <input type="number" class="form-control" id="update-KetebalanPenutup" aria-describedby="dateHelp" placeholder="cm" autocomplete="off">\n              </div>\n            </div>\n            <div class="col">\n              <div class="mb-3">\n              <label for="update-KedalamanDasar" class="form-label fw-bold">Kedalaman Dasar</label>\n              <input type="number" class="form-control" id="update-KedalamanDasar" aria-describedby="dateHelp" placeholder="cm" autocomplete="off">\n            </div>\n          </form>\n        </div>\n            </div>\n          </div>\n          \n           <div class="container my-3">\n               <p class="">Kondisi Sarang</p>\n            <div class="row row-cols-2">\n              <div class="col">\n               <div class="mb-3">\n                <label for="update-JumlahTelur" class="form-label fw-bold">Jumlah Telur</label>\n                <input type="number" class="form-control" id="update-JumlahTelur" aria-describedby="dateHelp" placeholder="butir" autocomplete="off">\n               </div>\n              </div>\n              <div class="col">\n               <div class="mb-3">\n                <label for="update-JenisPenyu01" class="form-label fw-bold d-block">Jenis Penyu</label>\n               <div class="input-group mb-3">\n              <select class="form-select" id="update-JenisPenyu01">\n                \n                <option value="Lekang">Lekang</option>\n                <option value="Sisik">Sisik</option>\n              </select>\n              </div>\n               </div>\n              </div>\n            </div>\n             \n          <div class="row row-cols-2">\n            <div class="col">\n              <div class="mb-3">\n              <label for="update-TelurBaik" class="form-label fw-bold">Telur Baik</label>\n              <input type="number" class="form-control" id="update-TelurBaik" aria-describedby="dateHelp" placeholder="butir" autocomplete="off">\n            </div>\n            </div>\n            <div class="col">\n              <div class="mb-3">\n              <label for="update-TelurRusak" class="form-label fw-bold">Telur Rusak</label>\n              <input type="number" class="form-control" id="update-TelurRusak" aria-describedby="dateHelp" placeholder="butir" autocomplete="off">\n            </div>\n          </form>\n        </div>\n          </div>\n          <div class="row row-cols-2">\n            <div class="col">\n              <div class="mb-3">\n              <label for="update-TelurMati" class="form-label fw-bold">Telur Mati</label>\n              <input type="number" class="form-control" id="update-TelurMati" aria-describedby="dateHelp" placeholder="butir" autocomplete="off">\n            </div>\n            </div>\n            <div class="col">\n              <div class="mb-3">\n              <label for="update-TelurAbnormal" class="form-label fw-bold">Telur Abnormal</label>\n              <input type="number" class="form-control" id="update-TelurAbnormal" aria-describedby="dateHelp" placeholder="butir" autocomplete="off">\n            </div>\n          </form>\n        </div>\n      </div>     \n    </div>\n  </div>\n            \n        <div class="modal-footer mx-auto">\n            <button type="button" class="btn ghost-button" data-bs-dismiss="modal">Batal</button>\n            <button type="button" class="btn filled-button updateBtn" data-bs-dismiss="modal">Update</button>\n            </div>\n            </div>\n            </div>\n            </div>\n            ');case 1:case"end":return t.stop()}}),t)})))()},afterRender:function(){return $p(zp().mark((function t(){var e,n,r,i,o,a,s,c,u;return zp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e="render-event",(n=document.getElementById("tabel_patroli")).innerHTML="",r=_t(Er),i=Kf(r),o=Df(i,"patroli"),a=function(){var t=$p(zp().mark((function t(){var n,r,o,a,s,c,u,l,h,d,f,p,m,g,v,y,b;return zp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=document.getElementById("tglPenemuan").value,r=document.getElementById("waktuDitemukan").value,o=document.getElementById("tglPeneluran").value,a=document.getElementById("perkiraanTglPeneluran").value,s=document.getElementById("inputKetebalanPenutup").value,c=document.getElementById("inputKedalamanDasar").value,u=Number(document.getElementById("inputJumlahTelur").value),l=document.getElementById("inputJenisPenyu01").value,h=Number(document.getElementById("inputTelurBaik").value),d=Number(document.getElementById("inputTelurRusak").value),f=Number(document.getElementById("inputTelurMati").value),p=Number(document.getElementById("inputTelurAbnormal").value),m=0,g=0,v=0,y=new sp("serverTimestamp"),""!==n&&""!==r&&""!==o&&""!==a&&""!==s&&""!==c&&""!==u&&""!==l&&""!==h&&""!==d&&""!==f&&""!==p){t.next=20;break}mr()("Harap isi kolom yang kosong","","warning"),t.next=31;break;case 20:return v=Number(p)+Number(f)+Number(d),b={tglPenemuan:n,waktuDitemukan:r,tglPeneluran:o,perkiraanTglPeneluran:a,inputKetebalanPenutup:s,inputKedalamanDasar:c,inputJumlahTelur:u,inputJenisPenyu01:l,inputTelurBaik:h,inputTelurRusak:d,inputTelurMati:f,inputTelurAbnormal:p,jumlahTelurMenetas:m,jumlahTelurGagal:v,jumlahMatiMenetas:g,createdAt:y},t.prev=22,t.next=25,jp(Df(i,"patroli"),b);case 25:mr()("Berhasil Menambahkan data","","success"),t.next=31;break;case 28:t.prev=28,t.t0=t.catch(22),console.error("Error adding document: ",t.t0);case 31:document.dispatchEvent(new Event(e));case 32:case"end":return t.stop()}}),t,null,[[22,28]])})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=$p(zp().mark((function t(n){var r,o,a,s,c,u,l,h,d,f,p,m,g,v;return zp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=document.getElementById("update-tglPenemuan"),o=document.getElementById("update-waktuDitemukan"),a=document.getElementById("update-tglPeneluran"),s=document.getElementById("update-perkiraanTglPeneluran"),c=document.getElementById("update-KetebalanPenutup"),u=document.getElementById("update-KedalamanDasar"),l=document.getElementById("update-JumlahTelur"),h=document.getElementById("update-JenisPenyu01"),d=document.getElementById("update-TelurBaik"),f=document.getElementById("update-TelurRusak"),p=document.getElementById("update-TelurMati"),m=document.getElementById("update-TelurAbnormal"),t.next=14,Pp(Mf(i,"patroli",n));case 14:(g=t.sent).exists()?(r.value=g.data().tglPenemuan,o.value=g.data().waktuDitemukan,a.value=g.data().tglPeneluran,s.value=g.data().perkiraanTglPeneluran,c.value=g.data().inputKetebalanPenutup,u.value=g.data().inputKedalamanDasar,l.value=g.data().inputJumlahTelur,h.value=g.data().inputJenisPenyu01,d.value=g.data().inputTelurBaik,f.value=g.data().inputTelurRusak,p.value=g.data().inputTelurMati,m.value=g.data().inputTelurAbnormal,(v=document.querySelector(".updateBtn")).addEventListener("click",$p(zp().mark((function t(){var g;return zp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g={tglPenemuan:r.value,waktuDitemukan:o.value,tglPeneluran:a.value,perkiraanTglPeneluran:s.value,inputKetebalanPenutup:c.value,inputKedalamanDasar:u.value,inputJumlahTelur:l.value,inputJenisPenyu01:h.value,inputTelurBaik:d.value,inputTelurRusak:f.value,inputTelurMati:p.value,inputTelurAbnormal:m.value},t.next=3,Mp(Mf(i,"patroli",n),g);case 3:document.dispatchEvent(new Event(e)),mr()("Sukses","Data berhasil diupdate","success");case 5:case"end":return t.stop()}}),t)})))),v.setAttribute("id",n)):console.log("No such document!");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=$p(zp().mark((function t(e){var n;return zp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Pp(Mf(i,"patroli",e));case 2:(n=t.sent).exists()?(document.getElementById("viewtglPenemuan").innerHTML=n.data().tglPenemuan,document.getElementById("viewwaktuDitemukan").innerHTML=n.data().waktuDitemukan,document.getElementById("viewtglPeneluran").innerHTML=n.data().tglPeneluran,document.getElementById("viewperkiraanTglPeneluran").innerHTML=n.data().perkiraanTglPeneluran,document.getElementById("viewKetebalanPenutup").innerHTML=n.data().inputKetebalanPenutup,document.getElementById("viewKedalamanDasar").innerHTML=n.data().inputKedalamanDasar,document.getElementById("viewJumlahTelur").innerHTML=n.data().inputJumlahTelur,document.getElementById("viewJenisPenyu01").innerHTML=n.data().inputJenisPenyu01,document.getElementById("viewTelurBaik").innerHTML=n.data().inputTelurBaik,document.getElementById("viewTelurRusak").innerHTML=n.data().inputTelurRusak,document.getElementById("viewTelurMati").innerHTML=n.data().inputTelurMati,document.getElementById("viewTelurAbnormal").innerHTML=n.data().inputTelurAbnormal):console.log("No such document!");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=$p(zp().mark((function t(n){return zp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==confirm("Yakin ingin menghapus data?")){t.next=5;break}return t.next=4,Rp(Mf(i,"patroli",n));case 4:mr()("Berhasil Menghapus data","","success");case 5:document.dispatchEvent(new Event(e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),document.addEventListener(e,$p(zp().mark((function t(){var e,r,i;return zp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.innerHTML="",e=Ep(o,Tp("inputTelurBaik","!=",0)),t.next=4,Dp(e);case 4:r=t.sent,i=1,r.docs.reverse().forEach((function(t){var e=document.createElement("tr");e.innerHTML+='\n            <th scope="row" class="text-center">'.concat(i,"</th>\n            <td>").concat(t._document.data.value.mapValue.fields.tglPenemuan.stringValue,'</td>\n            <td class="text-center">').concat(t._document.data.value.mapValue.fields.waktuDitemukan.stringValue,'</td>\n            <td class="text-center">').concat(t._document.data.value.mapValue.fields.tglPeneluran.stringValue,'</td> \n            <td class="text-center">').concat(t._document.data.value.mapValue.fields.perkiraanTglPeneluran.stringValue,'</td>\n            <td class="text-center">\n              <button type="button" class="btn btn-warning px-2 rounded-4 update-btn" data-bs-toggle="modal" data-bs-target="#modalUpdateData" title="Ubah Data" id=').concat(t.id,'><i class="bi bi-pencil-square action-btn"></i></button>\n              <button type="button" class="btn btn-danger px-2 rounded-4 delete-btn" title="Hapus Data" id=').concat(t.id,'><i class="bi bi-trash-fill"></i></button>\n              <button type="button" class="btn btn-success px-2 rounded-4 view-btn" data-bs-toggle="modal" data-bs-target="#modalViewData" title="Detail" id=').concat(t.id,">•••</button>\n            </td>\n          "),n.appendChild(e),i+=1})),document.querySelectorAll(".delete-btn").forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation();var e=t.currentTarget.id;u(e)}))})),document.querySelectorAll(".update-btn").forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation();var e=t.currentTarget.id;s(e)}))})),document.querySelectorAll(".view-btn").forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation();var e=t.currentTarget.id;c(e)}))}));case 13:case"end":return t.stop()}}),t)})))),document.getElementById("add-btn").addEventListener("click",function(){var t=$p(zp().mark((function t(e){return zp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.preventDefault(),a();case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),document.dispatchEvent(new Event(e));case 14:case"end":return t.stop()}}),t)})))()}};function Yp(t){return Yp="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Yp(t)}function Qp(){Qp=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==e&&n.call(v,o)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var c=l(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==Yp(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Xp(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Zp(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Xp(o,r,i,a,s,"next",t)}function s(t){Xp(o,r,i,a,s,"throw",t)}a(void 0)}))}}var tm={render:function(){return Zp(Qp().mark((function t(){return Qp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n      <div class="content">\n        <h1 class="ms-5 judul">Halaman Pendataan</h1>\n        <nav aria-label="Page navigation example" class="ms-5">\n        <ul class="pagination flex-wrap">\n            <li class="page-item"><a class="page-link rounded-0" href="#/patroli">Patroli</a></li>\n            <li class="page-item"><a class="page-link" href="#/inkubasi">Inkubasi</a></li>\n            <li class="page-item"><a class="page-link active" href="#/penangkaran">Penangkaran</a></li>\n            <li class="page-item"><a class="page-link rounded-0" href="#/perilisan">Perilisan</a></li>\n        </ul>\n        </nav>\n\n        <h2 class="mx-5 my-4">Data Telur Penyu dalam Penangkaran</h2>\n\n        <h3 class="text-center mt-5">Penyu Lekang</h3>\n        <div class="row row-cols-1 row-cols-md-2 g-4" id="penangkaranPenyuLekang">\n          <div class="col">\n            <div class="card text-bg-light text-center mx-auto statistic-card rounded-4" style="max-width: 18rem;">\n              <div class="card-header">Total Tukik dalam Penangkaran</div>\n              <div class="card-body">\n                <h5 class="card-title" id="jumlahLekang"></h5>\n              </div>\n            </div>\n          </div>\n          <div class="col">\n            <div class="card text-bg-light text-center mx-auto statistic-card rounded-4" style="max-width: 18rem;">\n              <div class="card-header">Mati dalam Penangkaran</div>\n              <div class="card-body">\n                <h5 class="card-title" id="lekangMati"></h5>\n              </div>\n            </div>\n          </div>\n          </div>\n        </div>    \n          \n        <h3 class="text-center mt-5">Penyu Sisik</h3>\n        <div class="row row-cols-1 row-cols-md-2 g-4 " id="penangkaranPenyuSisik">\n          <div class="col">\n            <div class="card text-bg-light text-center mx-auto statistic-card rounded-4" style="max-width: 18rem;">\n              <div class="card-header">Total Tukik dalam Penangkaran</div>\n              <div class="card-body">\n                <h5 class="card-title" id="jumlahSisik"></h5>\n              </div>\n            </div>\n          </div>\n          <div class="col">\n            <div class="card text-bg-light text-center mx-auto statistic-card rounded-4" style="max-width: 18rem;">\n              <div class="card-header">Mati dalam Penangkaran</div>\n              <div class="card-body">\n                <h5 class="card-title" id="sisikMati"></h5>\n              </div>\n            </div>\n          </div>\n          </div>\n        </div>\n\n        <div class="text-center my-5">\n          <button type="button" class="btn btn-warning mx-4 text-white" data-bs-toggle="modal" data-bs-target="#editDataPenangkaran"><i class="bi bi-pencil-square"></i> Edit Data</button>\n          <button type="button" class="btn btn-success mx-4" data-bs-toggle="modal" data-bs-target="#rilisTukikModal"><i class="bi bi-water"></i> Rilis Tukik</button>\n        </div>\n      </div>\n\n      \x3c!--  ================================= MODAL EDIT DATA PENANGKARAN   --\x3e\n      <div class="modal fade" id="editDataPenangkaran" tabindex="-1" aria-labelledby="editDataPenangkaranLabel" aria-hidden="true">\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h1 class="modal-title fs-5 w-100 text-center" id="exampleModalLabel">Edit Data Penangkaran</h1>\n              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n            </div>\n            <div class="modal-body">\n              <p class="text-center pb-2">Isikan data berikut ketika ingin data tukik di penangkaran</p>\n              \n              <form>\n                <div class="container my-3">\n              <div class="row row-cols-2">\n                <div class="col">\n                  <div class="mb-3">\n                    <label for="inputJenisPenyu" class="form-label">Jenis Penyu</label>\n                <div class="input-group mb-3">\n                  <select class="form-select" id="inputJenisPenyu">\n                    <option selected>Jenis Penyu</option>\n                    <option value="Lekang">Lekang</option>\n                    <option value="Sisik">Sisik</option>\n                  </select>\n                </div>\n                  </div>\n                  </div>\n                <div class="col">\n                  <div class="mb-3">\n                  <label for="jumlahTukikMati" class="form-label">Jumlah Tukik Mati</label>\n                  <input type="number" class="form-control" id="jumlahTukikMati" aria-describedby="dateHelp">\n                </div>\n            </div>\n                </div>\n              </div>\n              </form>\n      </div>\n            <div class="modal-footer mx-auto">\n              <button type="button" class="btn btn-outline-primary" data-bs-dismiss="modal">Batal</button>\n              <button type="button" class="btn btn-primary" id="save">Simpan</button>\n            </div>\n          </div>\n        </div>\n      </div>\n          \n      \x3c!-- ================================= MODAL RILIS TUKIK --\x3e\n      <div class="modal fade" id="rilisTukikModal" tabindex="-1" aria-labelledby="rilisTukikModalLabel" aria-hidden="true">\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h1 class="modal-title fs-5 w-100 text-center" id="exampleModalLabel">Rilis Tukik Dari Penangkaran</h1>\n              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n            </div>\n            <div class="modal-body">\n              <p class="text-center pb-2">Isikan data berikut ketika akan melakukan perilisan tukik</p>\n              \n              <form class="addrilis">\n                <div class="container my-3">\n              <div class="row row-cols-2">\n                <div class="col">\n                  <div class="mb-3">\n                  <label for="exampleInputDate" class="form-label">Tanggal Perilisan</label>\n                  <input type="date" class="form-control" id="tglPerilisan" aria-describedby="dateHelp">\n                </div>\n                </div>\n                <div class="col">\n                  <div class="mb-3">\n                  <label for="exampleInputDate" class="form-label">Waktu Perilisan</label>\n                  <input type="time" class="form-control" id="waktuPerilisan" aria-describedby="dateHelp">\n                </div>\n                </div>\n                <div class="container my-3">\n                <div class="col">\n                  <div class="mb-3">\n                  <label for="exampleInputWeather" class="form-label">Cuaca</label>\n                <div class="input-group mb-3">\n                  <select class="form-select" id="cuaca">\n                    <option selected>Kondisi Cuaca...</option>\n                    <option value="Cerah">Cerah</option>\n                    <option value="Mendung">Mendung</option>\n                    <option value="Hujan">Hujan</option>\n                  </select>\n                </div>\n                </div>\n                </div>\n                </div>\n                <div class="container my-3">\n                <div class="row row-cols-2">\n                <div class="col">\n                  <div class="mb-3">\n                    <label for="inputJenisPenyu" class="form-label">Jenis Penyu</label>\n                <div class="input-group mb-3">\n                  <select class="form-select" id="jenisPenyu">\n                    <option selected>Jenis Penyu</option>\n                    <option value="Lekang">Lekang</option>\n                    <option value="Sisik">Sisik</option>\n                  </select>\n                </div>\n                  </div>\n                  </div>\n                <div class="col">\n                  <div class="mb-3">\n                  <label for="jumlahTukikRilis" class="form-label">Jumlah Tukik </label>\n                  <input type="number" class="form-control" id="jumlahTukikRilis" aria-describedby="dateHelp" placeholder="ekor">\n                </div>\n                </div>\n                </div>\n              </div>\n              </form>\n      </div>\n            <div class="modal-footer mx-auto">\n            <button type="button" class="btn ghost-button" data-bs-dismiss="modal">Batal</button>\n            <button type="button" class="btn filled-button" data-bs-dismiss="modal" id="rilisBtn">Rilis</button>\n    \n            </div>\n          </div>\n        </div>\n      </div>\n          \n    ');case 1:case"end":return t.stop()}}),t)})))()},afterRender:function(){return Zp(Qp().mark((function t(){var e,n,r,i,o,a,s;return Qp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e="render-event",n=_t(Er),r=Kf(n),t.next=5,Pp(Mf(r,"penangkaran","Lekang"));case 5:return i=t.sent,t.next=8,Pp(Mf(r,"penangkaran","Sisik"));case 8:o=t.sent,a=function(){var t=Zp(Qp().mark((function t(){var n,a,s,c,u,l,h,d;return Qp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=document.getElementById("inputJenisPenyu").value,a=Number(document.getElementById("jumlahTukikMati").value),console.log(n),"Lekang"!==n){t.next=15;break}return s=i.data().jumlahTukikDalamPenangkaran,s-=a,c=i.data().jumlahTukikMati,u={jumlahTukikDalamPenangkaran:s,jumlahTukikMati:c+=a},t.next=11,Mp(Mf(r,"penangkaran","Lekang"),u);case 11:document.dispatchEvent(new Event(e)),mr()("Sukses","Data berhasil diupdate","success"),t.next=28;break;case 15:if("Sisik"!==n){t.next=27;break}return l=o.data().jumlahTukikDalamPenangkaran,l-=a,h=o.data().jumlahTukikMati,d={jumlahTukikDalamPenangkaran:l,jumlahTukikMati:h+=a},t.next=23,Mp(Mf(r,"penangkaran","Sisik"),d);case 23:document.dispatchEvent(new Event(e)),mr()("Sukses","Data berhasil diupdate","success"),t.next=28;break;case 27:mr()("Jenis Penyu Tidak Ditemukan","","warning");case 28:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),s=function(){var t=Zp(Qp().mark((function t(){var n,a,s,c,u,l,h,d,f;return Qp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=document.querySelector(".addrilis"),a=n.jenisPenyu.value,s=Number(n.jumlahTukikRilis.value),"Lekang"!==a){t.next=19;break}if(c=i.data().jumlahTukikDalamPenangkaran,console.log(c),!(s>c)){t.next=10;break}mr()("Jumlah Tukik kurang","","warning"),t.next=17;break;case 10:return u={jumlahTukikDalamPenangkaran:c-=s},t.next=14,Mp(Mf(r,"penangkaran","Lekang"),u);case 14:return l={tglPerilisan:n.tglPerilisan.value,waktuPerilisan:n.waktuPerilisan.value,cuaca:n.cuaca.value,jenisPenyu:n.jenisPenyu.value,jumlahTukikRilis:n.jumlahTukikRilis.value},t.next=17,jp(Df(r,"rilis"),l);case 17:t.next=32;break;case 19:if("Sisik"!==a){t.next=32;break}if(h=o.data().jumlahTukikDalamPenangkaran,!(s>h)){t.next=25;break}mr()("Jumlah Tukik kurang","","warning"),t.next=32;break;case 25:return d={jumlahTukikDalamPenangkaran:h-=s},t.next=29,Mp(Mf(r,"penangkaran","Sisik"),d);case 29:return f={tglPerilisan:n.tglPerilisan.value,waktuPerilisan:n.waktuPerilisan.value,cuaca:n.cuaca.value,jenisPenyu:n.jenisPenyu.value,jumlahTukikRilis:n.jumlahTukikRilis.value},t.next=32,jp(Df(r,"rilis"),f);case 32:document.dispatchEvent(new Event(e)),mr()("Berhasil","","success");case 34:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),document.addEventListener(e,Zp(Qp().mark((function t(){var e,n,r,c;return Qp().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e=document.getElementById("jumlahLekang"),n=document.getElementById("jumlahSisik"),r=document.getElementById("lekangMati"),c=document.getElementById("sisikMati"),e.innerHTML="",n.innerHTML="",r.innerHTML="",c.innerHTML="",e.innerHTML+=i.data().jumlahTukikDalamPenangkaran,n.innerHTML+=o.data().jumlahTukikDalamPenangkaran,r.innerHTML+=i.data().jumlahTukikMati,c.innerHTML+=o.data().jumlahTukikMati,document.getElementById("save").addEventListener("click",(function(t){t.preventDefault(),a()})),document.getElementById("rilisBtn").addEventListener("click",(function(t){t.preventDefault(),s()}));case 16:case"end":return t.stop()}}),t)})))),document.dispatchEvent(new Event(e));case 13:case"end":return t.stop()}}),t)})))()}};function em(t){return em="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},em(t)}function nm(){nm=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==e&&n.call(v,o)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var c=l(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==em(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function rm(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function im(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){rm(o,r,i,a,s,"next",t)}function s(t){rm(o,r,i,a,s,"throw",t)}a(void 0)}))}}var om={render:function(){return im(nm().mark((function t(){return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n      <div class="content">\n        <h1 class="ms-5 judul">Halaman Pendataan</h1>\n        <nav aria-label="Page navigation example" class="ms-5">\n        <ul class="pagination flex-wrap">\n            <li class="page-item"><a class="page-link rounded-0" href="#/patroli">Patroli</a></li>\n            <li class="page-item"><a class="page-link" href="#/inkubasi">Inkubasi</a></li>\n            <li class="page-item"><a class="page-link" href="#/penangkaran">Penangkaran</a></li>\n            <li class="page-item"><a class="page-link rounded-0 active" href="#/perilisan">Perilisan</a></li>\n        </ul>\n        </nav>\n\n        <h2 class="mx-5 my-4">Data Perilisan Penyu</h2>\n\n        \n        <div class="table-responsive mx-5 my-4">\n        <table class="table table-striped border">\n        <thead>\n            <tr>\n            <th scope="col">No.</th>\n            <th scope="col">Jenis Penyu</th>\n            <th scope="col">Tanggal Perilisan</th>\n            <th scope="col">Waktu Perilisan</th>\n            <th scope="col">Cuaca Perilisan</th>\n            <th scope="col">Jumlah Dirilis</th>\n            <th scope="col">Aksi</th>\n            </tr>\n        </thead>\n        <tbody id="tabel_perilisan"></tbody>\n        </table>\n        </div>\n      </div>\n\n      \x3c!-- ================================= MODAL UBAH DATA PERILISAN --\x3e\n      <div class="modal fade" id="ubahRilisModal" tabindex="-1" aria-labelledby="ubahRilisModalLabel" aria-hidden="true">\n        <div class="modal-dialog">\n          <div class="modal-content">\n            <div class="modal-header">\n              <h1 class="modal-title fs-5 w-100 text-center" id="exampleModalLabel">Ubah data perilisan tukik</h1>\n              <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>\n            </div>\n            <div class="modal-body">\n              <p class="text-center pb-2">Isikan data berikut ketika ingin mengubah data perilisan tukik</p>\n              \n              <form>\n                <div class="container my-3">\n              <div class="row row-cols-2">\n                <div class="col">\n                  <div class="mb-3">\n                  <label for="exampleInputDate" class="form-label">Tanggal Perilisan</label>\n                  <input type="date" class="form-control" id="update-tglPerilisan" aria-describedby="dateHelp">\n                </div>\n                </div>\n                <div class="col">\n                  <div class="mb-3">\n                  <label for="exampleInputDate" class="form-label">Waktu Perilisan</label>\n                  <input type="time" class="form-control" id="update-waktuPerilisan" aria-describedby="dateHelp">\n                </div>\n                </div> \n                <div class="col">\n                  <div class="mb-3">\n                  <label for="exampleInputWeather" class="form-la bel">Cuaca</label>\n                <div class="input-group mb-3">\n                  <select class="form-select" id="update-cuaca">\n                    <option selected>Kondisi Cuaca...</option>\n                    <option value="Cerah">Cerah</option>\n                    <option value="Mendung">Mendung</option>\n                    <option value="Hujan">Hujan</option>\n                  </select>\n                </div>\n                </div>\n                </div>\n              </div>\n            </div>\n                \n                <div class="container my-3">\n              <div class="row row-cols-2">\n                <div class="col">\n                  <div class="mb-3">\n                    <label for="inputJenisPenyu" class="form-label">Jenis Penyu</label>\n                <div class="input-group mb-3">\n                  <select class="form-select" id="update-JenisPenyu">\n                    <option selected>Jenis Penyu</option>\n                    <option value="Lekang">Lekang</option>\n                    <option value="Sisik">Sisik</option>\n                  </select>\n                </div>\n                  </div>\n                  </div>\n                <div class="col">\n                  <div class="mb-3">\n                  <label for="jumlahTukikRilis" class="form-label">Jumlah Tukik </label>\n                  <input type="number" class="form-control" id="update-jumlahTukikRilis" aria-describedby="dateHelp" placeholder="ekor">\n                </div>\n            </div>\n                </div>\n              </div>\n              </form>\n      </div>\n            <div class="modal-footer mx-auto">\n            <button type="button" class="btn ghost-button" data-bs-dismiss="modal">Batal</button>\n            <button type="button" class="btn filled-button updateBtn" data-bs-dismiss="modal">Update</button>\n            </div>\n          </div>\n        </div>\n      </div>\n    ');case 1:case"end":return t.stop()}}),t)})))()},afterRender:function(){return im(nm().mark((function t(){var e,n,r,i,o,a;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e="render-event",n=_t(Er),r=Kf(n),i=document.getElementById("tabel_perilisan"),o=function(){var t=im(nm().mark((function t(n){return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!0!==confirm("Yakin ingin menghapus data?")){t.next=6;break}return t.next=4,Rp(Mf(r,"rilis",n));case 4:console.log("deleteing is succeess"),mr()("Berhasil Menghapus data","","success");case 6:document.dispatchEvent(new Event(e));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),a=function(){var t=im(nm().mark((function t(n){var i,o,a,s,c,u,l;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=document.getElementById("update-tglPerilisan"),o=document.getElementById("update-waktuPerilisan"),a=document.getElementById("update-cuaca"),s=document.getElementById("update-JenisPenyu"),c=document.getElementById("update-jumlahTukikRilis"),t.next=7,Pp(Mf(r,"rilis",n));case 7:(u=t.sent).exists()?(i.value=u.data().tglPerilisan,o.value=u.data().waktuPerilisan,a.value=u.data().cuaca,s.value=u.data().jenisPenyu,c.value=u.data().jumlahTukikRilis,(l=document.querySelector(".updateBtn")).addEventListener("click",im(nm().mark((function t(){var u;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u={tglPerilisan:i.value,waktuPerilisan:o.value,cuaca:a.value,jenisPenyu:s.value,jumlahTukikRilis:c.value},t.next=3,Mp(Mf(r,"rilis",n),u);case 3:document.dispatchEvent(new Event(e)),mr()("Sukses","Data berhasil diupdate","success");case 5:case"end":return t.stop()}}),t)})))),l.setAttribute("id",n)):console.log("No such document!");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),document.addEventListener(e,im(nm().mark((function t(){var e,n,s;return nm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i.innerHTML="",e=Ep(Df(r,"rilis")),t.next=4,Dp(e);case 4:n=t.sent,s=1,n.forEach((function(t){var e=document.createElement("tr");e.innerHTML+='\n          <th scope="row" class="text-center">'.concat(s,'</th>\n          <td class="text-center">').concat(t.data().tglPerilisan,'</td>\n          <td class="text-center">').concat(t.data().waktuPerilisan,'</td>\n          <td class="text-center">').concat(t.data().cuaca,'</td>\n          <td class="text-center">').concat(t.data().jenisPenyu,'</td>\n          <td class="text-center">').concat(t.data().jumlahTukikRilis,'</td>\n          <td class="text-center">\n            <button type="button" class="btn btn-warning px-2 rounded-4 update-btn" data-bs-toggle="modal" data-bs-target="#ubahRilisModal" title="Ubah Data" id=').concat(t.id,'><i class="bi bi-pencil-square action-btn"></i></button>\n            <button type="button" class="btn btn-danger px-2 rounded-4 delete-btn" title="Hapus Data" id=').concat(t.id,'><i class="bi bi-trash-fill"></i></button>\n          </td> \n        '),i.appendChild(e),s+=1})),document.querySelectorAll(".delete-btn").forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation();var e=t.currentTarget.id;o(e)}))})),document.querySelectorAll(".update-btn").forEach((function(t){t.addEventListener("click",(function(t){t.stopPropagation();var e=t.currentTarget.id;a(e)}))}));case 11:case"end":return t.stop()}}),t)})))),document.dispatchEvent(new Event(e));case 8:case"end":return t.stop()}}),t)})))()}};function am(t){return am="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},am(t)}function sm(){sm=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==e&&n.call(v,o)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var c=l(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==am(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function cm(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function um(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){cm(o,r,i,a,s,"next",t)}function s(t){cm(o,r,i,a,s,"throw",t)}a(void 0)}))}}function lm(t){return lm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lm(t)}function hm(){hm=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==e&&n.call(v,o)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var c=l(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==lm(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function dm(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function fm(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){dm(o,r,i,a,s,"next",t)}function s(t){dm(o,r,i,a,s,"throw",t)}a(void 0)}))}}var pm={render:function(){return fm(hm().mark((function t(){return hm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n    <h2 class="text-center mt-5" id="statistik">Statistik Konservasi Penyu</h2>\n    <div class="row row-cols-1 row-cols-md-5 g-4 mx-5 my-2">\n      <div class="col">\n        <div class="card statistic-card text-center rounded-5" style="max-width: 18rem;">\n          <div class="card-header">Sarang Ditemukan</div>\n          <div class="card-body">\n            <h5 class="card-title" id="sarangDitemukan"></h5>\n          </div>\n        </div>\n      </div>\n      <div class="col">\n        <div class="card statistic-card text-center rounded-5" style="max-width: 18rem;">\n          <div class="card-header">Telur Ditemukan</div>\n          <div class="card-body">\n            <h5 class="card-title" id="telurDitemukan"></h5>\n          </div>\n        </div>\n      </div>\n      <div class="col">\n        <div class="card statistic-card text-center rounded-5" style="max-width: 18rem;">\n          <div class="card-header">Telur Menetas</div>\n          <div class="card-body">\n            <h5 class="card-title" id="telurMenetas"></h5>\n          </div>\n        </div>\n      </div>\n      <div class="col">\n        <div class="card statistic-card text-center rounded-5" style="max-width: 18rem;">\n          <div class="card-header">Telur Gagal Menetas</div>\n          <div class="card-body">\n            <h5 class="card-title" id="telurGagal"></h5>\n          </div>\n        </div>\n      </div>\n      <div class="col">\n        <div class="card statistic-card text-center rounded-5" style="max-width: 18rem;">\n          <div class="card-header">Tukik Dilepaskan</div>\n          <div class="card-body">\n            <h5 class="card-title" id="tukikDilepaskan"></h5>\n          </div>\n        </div>\n      </div>\n    </div>\n    \x3c!-- END UMUM --\x3e\n  \n    \x3c!-- JENIS --\x3e\n    <h3 class="text-center" id="statistikJenis">Statistik Berdasarkan Jenis</h3>\n    <div class="row row-cols-1 row-cols-md-2 g-4 mx-5 my-2">\n      <div class="col"> \n        <div class="card text-center mx-auto  rounded-4 border-0" style="max-width: 30rem;">\n          <img src="https://i.ibb.co/K5fTpwX/lekang3.jpg" alt="Penyu-Lekang" border="0" class="rounded-4">\n          <div class="card-body">\n            <button class="btn filled-button me-4 mt-3 px-3 rounded-4" data-bs-toggle="modal" data-bs-target="#detailPenyuLekang" type="button">Penyu Lekang</button>\n          </div>\n        </div>\n      </div>\n      <div class="col">\n        <div class="card text-center mx-auto tipe_penyu rounded-4 border-0" style="max-width: 30rem;">\n          <img src="https://i.ibb.co/6b3dGzZ/Penyu-Sisik.jpg" alt="Penyu-Sisik" border="0" class="rounded-4">\n          <div class="card-body">\n            <button class="btn filled-button me-4 mt-3 px-3 rounded-4" data-bs-toggle="modal" data-bs-target="#detailPenyuSisik" type="button">Penyu Sisik</button>\n          </div>\n        </div>\n      </div>\n    </div>\n    ');case 1:case"end":return t.stop()}}),t)})))()},afterRender:function(){return fm(hm().mark((function t(){var e,n,r,i,o,a,s,c,u,l,h,d,f,p,m,g,v,y;return hm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e="render-event",n=_t(Er),r=Kf(n),i=document.getElementById("sarangDitemukan"),o=document.getElementById("telurDitemukan"),a=document.getElementById("telurMenetas"),s=document.getElementById("telurGagal"),c=document.getElementById("tukikDilepaskan"),u=document.getElementById("sarangDitemukanLekang"),l=document.getElementById("telurDitemukanLekang"),h=document.getElementById("telurMenetasLekang"),d=document.getElementById("telurGagalLekang"),f=document.getElementById("tukikDilepaskanLekang"),p=document.getElementById("sarangDitemukanSisik"),m=document.getElementById("telurDitemukanSisik"),g=document.getElementById("telurMenetasSisik"),v=document.getElementById("telurGagalSisik"),y=document.getElementById("tukikDilepaskanSisik"),document.addEventListener(e,fm(hm().mark((function t(){var e,n,b,w,E,k,T,_,I,x,A,S,L,C,O,P,N,D,M,R,j,U,B,F,V,G,H,q;return hm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=Df(r,"patroli"),t.next=3,Bp(e);case 3:return n=t.sent,console.log(n.data().count),i.innerHTML="".concat(n.data().count),b=Ep(Df(r,"patroli")),t.next=9,Dp(b);case 9:return w=t.sent,E=null,k=null,T=null,w.forEach((function(t){var e=Math.floor(t.data().inputJumlahTelur);E+=e,o.innerHTML="".concat(E);var n=Math.floor(t.data().jumlahTelurMenetas);k+=n,a.innerHTML="".concat(k);var r=Math.floor(t.data().jumlahTelurGagal);T+=r,s.innerHTML="".concat(T)})),_=Ep(e,Tp("inputJenisPenyu01","==","Lekang")),t.next=17,Bp(_);case 17:return I=t.sent,u.innerHTML="".concat(I.data().count),t.next=21,Dp(_);case 21:return x=t.sent,A=null,S=null,L=null,x.forEach((function(t){var e=Math.floor(t.data().inputJumlahTelur);A+=e,l.innerHTML="".concat(A);var n=Math.floor(t.data().jumlahTelurMenetas);S+=n,h.innerHTML="".concat(S);var r=Math.floor(t.data().jumlahTelurGagal);L+=r,d.innerHTML="".concat(L)})),C=Ep(e,Tp("inputJenisPenyu01","==","Sisik")),t.next=29,Bp(C);case 29:return O=t.sent,p.innerHTML="".concat(O.data().count),t.next=33,Dp(C);case 33:return P=t.sent,N=null,D=null,M=null,P.forEach((function(t){var e=Math.floor(t.data().inputJumlahTelur);N+=e,m.innerHTML="".concat(N);var n=Math.floor(t.data().jumlahTelurMenetas);D+=n,g.innerHTML="".concat(D);var r=Math.floor(t.data().jumlahTelurGagal);M+=r,v.innerHTML="".concat(M)})),R=Ep(Df(r,"rilis")),t.next=41,Dp(R);case 41:return j=t.sent,U=null,j.forEach((function(t){var e=Math.floor(t.data().jumlahTukikRilis);U+=e,c.innerHTML="".concat(U)})),B=Ep(Df(r,"rilis"),Tp("jenisPenyu","==","Lekang")),t.next=47,Dp(B);case 47:return F=t.sent,V=null,F.forEach((function(t){var e=Math.floor(t.data().jumlahTukikRilis);V+=e,f.innerHTML="".concat(V)})),G=Ep(Df(r,"rilis"),Tp("jenisPenyu","==","Sisik")),t.next=53,Dp(G);case 53:H=t.sent,q=null,H.forEach((function(t){var e=Math.floor(t.data().jumlahTukikRilis);q+=e,y.innerHTML="".concat(q)}));case 56:case"end":return t.stop()}}),t)})))),document.dispatchEvent(new Event(e));case 20:case"end":return t.stop()}}),t)})))()}};function mm(t){return mm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},mm(t)}function gm(){gm=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==e&&n.call(v,o)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var c=l(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==mm(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function vm(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function ym(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){vm(o,r,i,a,s,"next",t)}function s(t){vm(o,r,i,a,s,"throw",t)}a(void 0)}))}}const bm={"/":Ar,"/home":Ar,"/about":{render:function(){return um(sm().mark((function t(){return sm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n        <h2 class="text-center mt-5" id="about">About Us</h2>\n        <p class="text-center">Konservasi Penyu Pantai Pelangi - 4K Yogyakarta</p>\n        <div class="row row-cols-1 row-cols-md-2 g-4 mx-5 my-2">\n        <div class="col">\n            <div class="mx-auto text-center">\n            <img src="https://i.ibb.co/njnsvjs/dokumentasi-1.jpg" alt="Penyu-Sisik" border="0" class="img-fluid rounded-4" style="width: 25rem">\n            </div>\n        </div>\n        <div >\n            <p>Konservasi Penyu Pantai Pelangi merupakan sebuah konservasi penyu yang berlokasi di Pantai Pelangi, Parangtritis, Kabupaten Bantul, Daerah Istimewa Yogyakarta. Berdirinya konservasi penyu ini didasari dari keinginan Bapak Sarwidi untuk dapat melestarikan kehidupan penyu, khususnya di wilayah Provinsi Daerah Istimewa Yogyakarta. Selanjutnya konservasi ini dikelola bersama dengan komunitas <a href="https://www.instagram.com/4k.yogyakarta/?hl=en">4K Yogyakarta.</a></p>\n            <p>Penyu telah dikategorikan sebagai hewan langka yang mendekati kepunahan karena banyaknya perburuan manusia serta kerusakan habitat yang dimilikinya. Di Pantai Pelangi terdapat dua jenis penyu yang dapat ditemukan, yaitu penyu lekang dan penyu sisik. </p>\n        </div>\n        </div>\n        ');case 1:case"end":return t.stop()}}),t)})))()},afterRender:function(){return um(sm().mark((function t(){return sm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}},"/statistik":pm,"/dokumentasi":{render:function(){return ym(gm().mark((function t(){return gm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",'\n        <h2 class="text-center mt-5" id="dokumentasi">Dokumentasi</h2>\n        <div id="dokumentasiKonservasi" class="carousel slide mx-auto my-5" data-bs-ride="true" style="max-width: 70%">\n        <div class="carousel-indicators">\n            <button type="button" data-bs-target="#dokumentasiKonservasi" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>\n            <button type="button" data-bs-target="#dokumentasiKonservasi" data-bs-slide-to="1" aria-label="Slide 2"></button>\n            <button type="button" data-bs-target="#dokumentasiKonservasi" data-bs-slide-to="2" aria-label="Slide 3"></button>\n            <button type="button" data-bs-target="#dokumentasiKonservasi" data-bs-slide-to="3" aria-label="Slide 4"></button>\n            <button type="button" data-bs-target="#dokumentasiKonservasi" data-bs-slide-to="4" aria-label="Slide 5"></button>\n        </div>\n        <div class="carousel-inner">\n            <div class="carousel-item active">\n            <img src="https://i.ibb.co/njnsvjs/dokumentasi-1.jpg" class="d-block w-100" alt="1">\n            </div>\n            <div class="carousel-item">\n            <img src="https://i.ibb.co/hyXRbS3/dokumentasi-2.jpg" class="d-block w-100" alt="2">\n            </div>\n            <div class="carousel-item">\n            <img src="https://i.ibb.co/PMM4t6C/dokumentasi-3.jpg" class="d-block w-100" alt="3">\n            </div>\n            <div class="carousel-item">\n            <img src="https://i.ibb.co/Nsxn0SR/dokumentasi-4.jpg" class="d-block w-100" alt="3">\n            </div>\n            <div class="carousel-item">\n            <img src="https://i.ibb.co/M2zZH0m/dokumentasi-5.jpg" class="d-block w-100" alt="3">\n            </div>\n        </div>\n        <button class="carousel-control-prev" type="button" data-bs-target="#dokumentasiKonservasi" data-bs-slide="prev">\n            <span class="carousel-control-prev-icon" aria-hidden="true"></span>\n            <span class="visually-hidden">Previous</span>\n        </button>\n        <button class="carousel-control-next" type="button" data-bs-target="#dokumentasiKonservasi" data-bs-slide="next">\n            <span class="carousel-control-next-icon" aria-hidden="true"></span>\n            <span class="visually-hidden">Next</span>\n        </button>\n        </div>\n        ');case 1:case"end":return t.stop()}}),t)})))()},afterRender:function(){return ym(gm().mark((function t(){return gm().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}},"/inkubasi":qp,"/patroli":Jp,"/penangkaran":tm,"/perilisan":om};function wm(t){return wm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},wm(t)}function Em(){Em=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==e&&n.call(v,o)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var c=l(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==wm(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function km(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function Tm(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var _m=function(){function t(e){var n=e.content;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._content=n,kr({firebaseConfig:Er}),console.log("Initial App sheel berhasil")}var e,n,r;return e=t,n=[{key:"renderPage",value:(r=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){km(o,r,i,a,s,"next",t)}function s(t){km(o,r,i,a,s,"throw",t)}a(void 0)}))}}(Em().mark((function t(){var e,n;return Em().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=gr.parseActiveUrlWithCombiner(),n=bm[e],t.next=4,n.render();case 4:return this._content.innerHTML=t.sent,t.next=7,n.afterRender();case 7:case"end":return t.stop()}}),t,this)}))),function(){return r.apply(this,arguments)})}],n&&Tm(e.prototype,n),Object.defineProperty(e,"prototype",{writable:!1}),t}();const Im=_m;try{self["workbox:window:6.5.3"]&&_()}catch(xm){}function xm(t,e){return new Promise((function(n){var r=new MessageChannel;r.port1.onmessage=function(t){n(t.data)},t.postMessage(e,[r.port2])}))}function Am(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sm(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return Am(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Am(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0;return function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(n=t[Symbol.iterator]()).next.bind(n)}try{self["workbox:core:6.5.3"]&&_()}catch(xm){}var Lm=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))};function Cm(t,e){var n=location.href;return new URL(t,n).href===new URL(e,n).href}var Om=function(t,e){this.type=t,Object.assign(this,e)};function Pm(t,e,n){return n?e?e(t):t:(t&&t.then||(t=Promise.resolve(t)),e?t.then(e):t)}function Nm(){}var Dm={type:"SKIP_WAITING"};function Mm(t,e){if(!e)return t&&t.then?t.then(Nm):Promise.resolve()}var Rm=function(t){var e,n;function r(e,n){var r,i;return void 0===n&&(n={}),(r=t.call(this)||this).nn={},r.tn=0,r.rn=new Lm,r.en=new Lm,r.on=new Lm,r.un=0,r.an=new Set,r.cn=function(){var t=r.fn,e=t.installing;r.tn>0||!Cm(e.scriptURL,r.sn.toString())||performance.now()>r.un+6e4?(r.vn=e,t.removeEventListener("updatefound",r.cn)):(r.hn=e,r.an.add(e),r.rn.resolve(e)),++r.tn,e.addEventListener("statechange",r.ln)},r.ln=function(t){var e=r.fn,n=t.target,i=n.state,o=n===r.vn,a={sw:n,isExternal:o,originalEvent:t};!o&&r.mn&&(a.isUpdate=!0),r.dispatchEvent(new Om(i,a)),"installed"===i?r.wn=self.setTimeout((function(){"installed"===i&&e.waiting===n&&r.dispatchEvent(new Om("waiting",a))}),200):"activating"===i&&(clearTimeout(r.wn),o||r.en.resolve(n))},r.dn=function(t){var e=r.hn,n=e!==navigator.serviceWorker.controller;r.dispatchEvent(new Om("controlling",{isExternal:n,originalEvent:t,sw:e,isUpdate:r.mn})),n||r.on.resolve(e)},r.gn=(i=function(t){var e=t.data,n=t.ports,i=t.source;return Pm(r.getSW(),(function(){r.an.has(i)&&r.dispatchEvent(new Om("message",{data:e,originalEvent:t,ports:n,sw:i}))}))},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];try{return Promise.resolve(i.apply(this,t))}catch(t){return Promise.reject(t)}}),r.sn=e,r.nn=n,navigator.serviceWorker.addEventListener("message",r.gn),r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var i,o=r.prototype;return o.register=function(t){var e=(void 0===t?{}:t).immediate,n=void 0!==e&&e;try{var r=this;return function(t,e){var n=t();return n&&n.then?n.then(e):e()}((function(){if(!n&&"complete"!==document.readyState)return Mm(new Promise((function(t){return window.addEventListener("load",t)})))}),(function(){return r.mn=Boolean(navigator.serviceWorker.controller),r.yn=r.pn(),Pm(r.bn(),(function(t){r.fn=t,r.yn&&(r.hn=r.yn,r.en.resolve(r.yn),r.on.resolve(r.yn),r.yn.addEventListener("statechange",r.ln,{once:!0}));var e=r.fn.waiting;return e&&Cm(e.scriptURL,r.sn.toString())&&(r.hn=e,Promise.resolve().then((function(){r.dispatchEvent(new Om("waiting",{sw:e,wasWaitingBeforeRegister:!0}))})).then((function(){}))),r.hn&&(r.rn.resolve(r.hn),r.an.add(r.hn)),r.fn.addEventListener("updatefound",r.cn),navigator.serviceWorker.addEventListener("controllerchange",r.dn),r.fn}))}))}catch(t){return Promise.reject(t)}},o.update=function(){try{return this.fn?Mm(this.fn.update()):void 0}catch(t){return Promise.reject(t)}},o.getSW=function(){return void 0!==this.hn?Promise.resolve(this.hn):this.rn.promise},o.messageSW=function(t){try{return Pm(this.getSW(),(function(e){return xm(e,t)}))}catch(t){return Promise.reject(t)}},o.messageSkipWaiting=function(){this.fn&&this.fn.waiting&&xm(this.fn.waiting,Dm)},o.pn=function(){var t=navigator.serviceWorker.controller;return t&&Cm(t.scriptURL,this.sn.toString())?t:void 0},o.bn=function(){try{var t=this;return function(t,e){try{var n=t()}catch(t){return e(t)}return n&&n.then?n.then(void 0,e):n}((function(){return Pm(navigator.serviceWorker.register(t.sn,t.nn),(function(e){return t.un=performance.now(),e}))}),(function(t){throw t}))}catch(t){return Promise.reject(t)}},(i=[{key:"active",get:function(){return this.en.promise}},{key:"controlling",get:function(){return this.on.promise}}])&&function(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}(r.prototype,i),r}(function(){function t(){this.Pn=new Map}var e=t.prototype;return e.addEventListener=function(t,e){this.Sn(t).add(e)},e.removeEventListener=function(t,e){this.Sn(t).delete(e)},e.dispatchEvent=function(t){t.target=this;for(var e,n=Sm(this.Sn(t.type));!(e=n()).done;)(0,e.value)(t)},e.Sn=function(t){return this.Pn.has(t)||this.Pn.set(t,new Set),this.Pn.get(t)},t}());function jm(t){return jm="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},jm(t)}function Um(){Um=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r=Object.defineProperty||function(t,e,n){t[e]=n.value},i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(t){c=function(t,e,n){return t[e]=n}}function u(t,e,n,i){var o=e&&e.prototype instanceof d?e:d,a=Object.create(o.prototype),s=new I(i||[]);return r(a,"_invoke",{value:E(t,n,s)}),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=u;var h={};function d(){}function f(){}function p(){}var m={};c(m,o,(function(){return this}));var g=Object.getPrototypeOf,v=g&&g(g(x([])));v&&v!==e&&n.call(v,o)&&(m=v);var y=p.prototype=d.prototype=Object.create(m);function b(t){["next","throw","return"].forEach((function(e){c(t,e,(function(t){return this._invoke(e,t)}))}))}function w(t,e){function i(r,o,a,s){var c=l(t[r],t,o);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==jm(h)&&n.call(h,"__await")?e.resolve(h.__await).then((function(t){i("next",t,a,s)}),(function(t){i("throw",t,a,s)})):e.resolve(h).then((function(t){u.value=t,a(u)}),(function(t){return i("throw",t,a,s)}))}s(c.arg)}var o;r(this,"_invoke",{value:function(t,n){function r(){return new e((function(e,r){i(t,n,e,r)}))}return o=o?o.then(r,r):r()}})}function E(t,e,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return{value:void 0,done:!0}}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(t,e,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,k(t,e),"throw"===e.method))return h;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return h}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,h;var i=r.arg;return i?i.done?(e[t.resultName]=i.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,h):i:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,h)}function T(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function _(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function I(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(T,this),this.reset(!0)}function x(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return f.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:f,configurable:!0}),f.displayName=c(p,s,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===f||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,s,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,(function(){return this})),t.AsyncIterator=w,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new w(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},b(y),c(y,s,"Generator"),c(y,o,(function(){return this})),c(y,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},t.values=x,I.prototype={constructor:I,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return a.type="throw",a.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),c=n.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),h},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),_(n),h}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;_(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:x(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},t}function Bm(t,e,n,r,i,o,a){try{var s=t[o](a),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}var Fm=function(){var t=function(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){Bm(o,r,i,a,s,"next",t)}function s(t){Bm(o,r,i,a,s,"throw",t)}a(void 0)}))}}(Um().mark((function t(){var e;return Um().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("serviceWorker"in navigator){t.next=3;break}return console.log("Service Worker not supported in the browser"),t.abrupt("return");case 3:return e=new Rm("./sw.bundle.js"),t.prev=4,t.next=7,e.register();case 7:console.log("Service worker registered"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(4),console.log("Failed to register service worker",t.t0);case 13:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(){return t.apply(this,arguments)}}();const Vm=Fm;var Gm,Hm=new Im({content:document.querySelector("#mainContainer")});Gm=function(t){var e,n;t?function(){var t=document.querySelector(".container"),e=document.querySelector('[data-button="login1"]'),n=document.getElementById("profil-konservator"),r=document.getElementById("footer"),i=document.createElement("div");i.classList.add("Dashboard"),i.innerHTML='\n    <div class="container mx-auto text-center px-5" id="welcomePage">\n    <img src="https://i.ibb.co/6b3dGzZ/Penyu-Sisik.jpg" alt="Penyu-Sisik" border="0" class="img-fluid rounded tukik" style="width: 30rem">\n    <div>\n      <h1 class="mt-5">Si Tukik</h1>\n      <h2 class="mb-4">Penyelamat Penyu</h2>\n      <div class="mx-auto" style="max-width:500px">\n      <p>Selamat datang, Konservator! Melalui fitur ini kamu bisa melakukan pendataan dan memonitor perkembangan penyu yang ada di konservasi. </p>\n      </div>\n      <button class="btn filled-button mt-4 px-4 rounded-4" data-bs-toggle="modal" data-bs-target="#"><a href="#/patroli" class="linkButton">Mulai Mendata</a></button>\n    </div>\n  ';var o=gr.parseActiveUrlWithCombiner();console.log(o),"/"===o&&(t.innerHTML="",t.appendChild(i)),e.style.display="none",n.classList.remove("d-none"),r.classList.add("d-none"),document.getElementById("logout").onclick=wr(yr().mark((function t(){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M(dr()).signOut();case 3:return t.next=5,mr()("Berhasil Keluar","","success");case 5:setTimeout((function(){location.href="#/",location.reload()}),1e3),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),mr()("Gagal keluar \n ".concat(t.t0),"","error");case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))}():(e=document.querySelector("#email"),n=document.querySelector("#password"),document.querySelector('[data-button="login"]').onclick=wr(yr().mark((function t(){return yr().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,sn(dr(),e.value,n.value);case 3:return t.next=5,mr()("Berhasil Masuk","Selamat datang Konservator!","success");case 5:setTimeout((function(){location.reload()}),1e3),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),mr()("Gagal masuk \n ".concat(t.t0),"","error");case 11:case"end":return t.stop()}}),t,null,[[0,8]])}))))},M(dr()).onAuthStateChanged(Gm,undefined,undefined),window.addEventListener("hashchange",(function(){Hm.renderPage()})),window.addEventListener("load",(function(){Hm.renderPage(),Vm()}))})()})();
//# sourceMappingURL=app.bundle.js.map